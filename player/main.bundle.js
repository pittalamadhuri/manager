webpackJsonp([1],[,,,function(t,e,n){"use strict";var i=n(391);n.d(e,"h",(function(){return i.a}));var r=n(164);n.d(e,"f",(function(){return r.a}));var o=n(84);n.d(e,"_3",(function(){return o.a}));var s=(n(167),n(115));n.d(e,"a",(function(){return s.a})),n.d(e,"c",(function(){return s.b})),n.d(e,"g",(function(){return s.c})),n.d(e,"i",(function(){return s.d})),n.d(e,"j",(function(){return s.e})),n.d(e,"k",(function(){return s.f})),n.d(e,"l",(function(){return s.g})),n.d(e,"m",(function(){return s.h})),n.d(e,"n",(function(){return s.i})),n.d(e,"o",(function(){return s.j})),n.d(e,"p",(function(){return s.k})),n.d(e,"q",(function(){return s.l})),n.d(e,"r",(function(){return s.m})),n.d(e,"s",(function(){return s.n})),n.d(e,"t",(function(){return s.o})),n.d(e,"u",(function(){return s.p})),n.d(e,"v",(function(){return s.q})),n.d(e,"w",(function(){return s.r})),n.d(e,"x",(function(){return s.s})),n.d(e,"y",(function(){return s.t})),n.d(e,"z",(function(){return s.u})),n.d(e,"A",(function(){return s.v})),n.d(e,"B",(function(){return s.w})),n.d(e,"C",(function(){return s.x})),n.d(e,"D",(function(){return s.y})),n.d(e,"E",(function(){return s.z})),n.d(e,"G",(function(){return s.A})),n.d(e,"J",(function(){return s.B})),n.d(e,"K",(function(){return s.C})),n.d(e,"L",(function(){return s.D})),n.d(e,"M",(function(){return s.E})),n.d(e,"O",(function(){return s.F})),n.d(e,"R",(function(){return s.G})),n.d(e,"S",(function(){return s.H})),n.d(e,"T",(function(){return s.I})),n.d(e,"U",(function(){return s.J})),n.d(e,"V",(function(){return s.K})),n.d(e,"W",(function(){return s.L})),n.d(e,"X",(function(){return s.M})),n.d(e,"Y",(function(){return s.N})),n.d(e,"Z",(function(){return s.O})),n.d(e,"_0",(function(){return s.P})),n.d(e,"_4",(function(){return s.Q})),n.d(e,"_6",(function(){return s.R})),n.d(e,"_8",(function(){return s.T})),n.d(e,"_9",(function(){return s.U})),n.d(e,"_10",(function(){return s.V})),n.d(e,"_13",(function(){return s.W})),n.d(e,"_14",(function(){return s.X}));var a=(n(423),n(425));n.d(e,"H",(function(){return a.a}));var c=n(426);n.d(e,"I",(function(){return c.a})),n.d(e,"N",(function(){return c.b})),n.d(e,"_1",(function(){return c.c})),n.d(e,"_2",(function(){return c.d})),n.d(e,"_5",(function(){return c.e})),n.d(e,"_7",(function(){return c.f})),n.d(e,"_12",(function(){return c.g})),n.d(e,"_15",(function(){return c.h}));var u=n(160);n.d(e,"b",(function(){return u.a}));var d=n(427);n.d(e,"P",(function(){return d.a})),n.d(e,"Q",(function(){return d.b}));var l=(n(161),n(428));n.d(e,"d",(function(){return l.a})),n.d(e,"e",(function(){return l.b})),n.d(e,"F",(function(){return l.c})),n.d(e,"_11",(function(){return l.d}))},,,,,,,,function(t,e,n){"use strict";var i=n(22);n.d(e,"e",(function(){return i.a}));var r=n(200);n.d(e,"d",(function(){return r.a}));var o=n(209);n.d(e,"c",(function(){return o.a}));var s=n(28);n.d(e,"b",(function(){return s.a})),n.d(e,"f",(function(){return s.b})),n.d(e,"g",(function(){return s.c}));var a=n(159);n.d(e,"a",(function(){return a.a})),n.d(e,"h",(function(){return a.b}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return f}));var i=n(42),r=function(t){return t.admin},o=function(t){return r(t).application},s=function(t){var e=o(t);return e&&e.script||null},a=function(t){return r(t).appReady},c=function(t){return r(t).locales},u=function(t){return r(t).hardConfig},d=function(t){var e=Object(i.p)(t);return function(t){return e(t.account)}},l=function(t){return r(t).detectingApplication},p=function(t){var e=r(t).configurations;return e&&e.knownConfigurations||[]},f=function(t){var e=r(t).hardConfig;return e&&e.key||null}},,,,,,,,,function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(1195),r=n(1197);n.d(e,"f",(function(){return r.a})),n.d(e,"g",(function(){return r.b}));var o=n(460);n.d(e,"b",(function(){return o.a}));var s=n(1198);n.d(e,"a",(function(){return s.a}));var a=n(178);n.d(e,"h",(function(){return a.a}));var c=n(330);n.d(e,"c",(function(){return c.e})),n.d(e,"d",(function(){return c.f}));var u=[i.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return t})();o=i.c([Object(r.Injectable)()],o)},,,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i;(function(t){t[t.Expand=0]="Expand",t[t.Narrow=1]="Narrow",t[t.Previous=2]="Previous",t[t.Next=3]="Next"})(i||(i={}));var r;(function(t){t[t.ElementSelector=0]="ElementSelector",t[t.ElementSelected=1]="ElementSelected",t[t.ElementState=2]="ElementState",t[t.ElementEvent=3]="ElementEvent",t[t.GetElementState=4]="GetElementState",t[t.GetElementSelector=5]="GetElementSelector",t[t.ActivatePicker=6]="ActivatePicker",t[t.DeactivatePicker=7]="DeactivatePicker",t[t.FramesChanged=8]="FramesChanged",t[t.zIndexChanged=9]="zIndexChanged",t[t.ChangeSelection=10]="ChangeSelection",t[t.ShowSelection=11]="ShowSelection",t[t.HideSelection=12]="HideSelection",t[t.SearchElementByText=13]="SearchElementByText",t[t.ClearTextSearch=14]="ClearTextSearch",t[t.TakeScreenshot=15]="TakeScreenshot",t[t.Shortcut=16]="Shortcut",t[t.PlayerShortcut=17]="PlayerShortcut",t[t.GetApplicationConfig=18]="GetApplicationConfig",t[t.ApplicationConfig=19]="ApplicationConfig",t[t.ClearIntegrityState=20]="ClearIntegrityState",t[t.LoadIntegrityState=21]="LoadIntegrityState",t[t.UpdateIntegrityState=22]="UpdateIntegrityState",t[t.SetCurrentStep=23]="SetCurrentStep",t[t.IntegrityState=24]="IntegrityState",t[t.RequestIntegrityState=25]="RequestIntegrityState",t[t.AddStepToIntegrity=26]="AddStepToIntegrity",t[t.ShowPivot=27]="ShowPivot",t[t.HidePivot=28]="HidePivot",t[t.ShowSpotlight=29]="ShowSpotlight",t[t.HideSpotlight=30]="HideSpotlight",t[t.PlayerShortcuts=31]="PlayerShortcuts",t[t.GetPlayerShortcuts=32]="GetPlayerShortcuts",t[t.UrlChanged=33]="UrlChanged",t[t.GetCurrentScripts=34]="GetCurrentScripts",t[t.ExecuteAppScript=35]="ExecuteAppScript",t[t.ExecuteStepScript=36]="ExecuteStepScript",t[t.ScriptExecutionAction=37]="ScriptExecutionAction",t[t.ScriptExecutionState=38]="ScriptExecutionState",t[t.StepCondition=39]="StepCondition",t[t.GetStepCondition=40]="GetStepCondition",t[t.StepConditionEvaluation=41]="StepConditionEvaluation",t[t.ScrollToElement=42]="ScrollToElement",t[t.RequestValidationData=43]="RequestValidationData",t[t.SetValidationData=44]="SetValidationData",t[t.ClearValidationData=45]="ClearValidationData",t[t.SetFormData=46]="SetFormData",t[t.ClearFormData=47]="ClearFormData",t[t.UpdateFormData=48]="UpdateFormData",t[t.UpdateFormState=49]="UpdateFormState",t[t.RequestFormData=50]="RequestFormData",t[t.UpdateValidationData=51]="UpdateValidationData",t[t.DeleteValidationData=52]="DeleteValidationData",t[t.UpdateValidationState=53]="UpdateValidationState",t[t.RecheckValidations=54]="RecheckValidations",t[t.ValidationEvent=55]="ValidationEvent",t[t.SetForms=56]="SetForms",t[t.ClearForms=57]="ClearForms",t[t.ActivateForms=58]="ActivateForms",t[t.RequestForms=59]="RequestForms",t[t.RecheckForms=60]="RecheckForms",t[t.ExecuteDecisionConditions=61]="ExecuteDecisionConditions",t[t.StepDecisionConditionsEvaluated=62]="StepDecisionConditionsEvaluated",t[t.AnnouncementDecisionConditionsEvaluated=63]="AnnouncementDecisionConditionsEvaluated",t[t.ExecuteDecisionActions=64]="ExecuteDecisionActions",t[t.UpdateDecisionEvaluation=65]="UpdateDecisionEvaluation",t[t.DecisionPointGoToAction=66]="DecisionPointGoToAction",t[t.DecisionPointNextStepAction=67]="DecisionPointNextStepAction",t[t.DecisionPointEndFlowAction=68]="DecisionPointEndFlowAction",t[t.DecisionPointCustomScriptAction=69]="DecisionPointCustomScriptAction",t[t.ShouldExtensionStart=70]="ShouldExtensionStart",t[t.ClearApplicationCache=71]="ClearApplicationCache",t[t.StartExtension=72]="StartExtension",t[t.DecisionEditorAddClass=73]="DecisionEditorAddClass",t[t.DecisionEditorRemoveClass=74]="DecisionEditorRemoveClass",t[t.ClearBadgeData=75]="ClearBadgeData",t[t.SetBadgeData=76]="SetBadgeData",t[t.UpdateBadgeData=77]="UpdateBadgeData",t[t.DeleteBadgeData=78]="DeleteBadgeData",t[t.UpdateBadgeState=79]="UpdateBadgeState",t[t.RecheckBadges=80]="RecheckBadges",t[t.RequestBadgeData=81]="RequestBadgeData",t[t.ShowBadge=82]="ShowBadge",t[t.HideBadge=83]="HideBadge",t[t.FilterFlows=84]="FilterFlows",t[t.FilterFlowsResult=85]="FilterFlowsResult"})(r||(r={}));var o;(function(t){t[t.Previous=0]="Previous",t[t.Next=1]="Next",t[t.GoToStep=2]="GoToStep",t[t.Fail=3]="Fail",t[t.End=4]="End",t[t.UserAction=5]="UserAction"})(o||(o={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i;(function(t){t[t.NotChecked=0]="NotChecked",t[t.NotPresent=1]="NotPresent",t[t.NotVisible=2]="NotVisible",t[t.Present=3]="Present"})(i||(i={}))},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=(function(){function t(){}return t})()},function(t,e,n){"use strict";var i=n(455);n.d(e,"c",(function(){return i.a})),n.d(e,"e",(function(){return i.b}));var r=n(456);n.d(e,"f",(function(){return r.a})),n.d(e,"h",(function(){return r.b})),n.d(e,"l",(function(){return r.c}));var o=(n(177),n(457));n.d(e,"d",(function(){return o.a}));var s=n(85);n.d(e,"a",(function(){return s.a})),n.d(e,"j",(function(){return s.m})),n.d(e,"g",(function(){return s.j})),n.d(e,"n",(function(){return s.p})),n.d(e,"i",(function(){return s.l})),n.d(e,"b",(function(){return s.g}));var a=n(122);n.d(e,"k",(function(){return a.b}));var c=n(458);n.d(e,"m",(function(){return c.a}))},,,function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i="last_user_id",r=(function(){function t(){}return t})()},,function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=this,s=function(){return i.b(o,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return[4,fetch(chrome.runtime.getURL("./config.json"))];case 1:return t=n.sent(),[4,t.json()];case 2:return e=n.sent(),[2,e]}}))}))},a=new r.InjectionToken("config.json"),c=new r.InjectionToken("config.json/backendUrl")},,,function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"f",(function(){return f})),n.d(e,"b",(function(){return h}));var i=n(1192),r=n(1194),o=n(1203),s=n(1204),a=n(332),c=n(331),u=n(1205);n.d(e,"e",(function(){return u.a})),n.d(e,"g",(function(){return u.b}));var d=n(618);n.d(e,"a",(function(){return d.a})),n.d(e,"h",(function(){return d.b}));var l=[r.a,i.a,o.a,s.a],p={changeVisiblity:a.b,CHANGE_VISIBLITY:a.a},f={selectPanelVisible:c.b,selectBannerVisible:c.a},h=320},,function(t,e,n){"use strict";var i=n(429);n.d(e,"b",(function(){return i.a}));var r=n(35);n.d(e,"d",(function(){return r.a})),n.d(e,"i",(function(){return r.b}));var o=(n(120),n(121));n.d(e,"h",(function(){return o.a}));var s=n(61);n.d(e,"l",(function(){return s.b}));var a=n(445);n.d(e,"m",(function(){return a.a})),n.d(e,"n",(function(){return a.b}));var c=n(446);n.d(e,"a",(function(){return c.a}));var u=n(43);n.d(e,"p",(function(){return u.b})),n.d(e,"q",(function(){return u.f}));var d=n(60);n.d(e,"j",(function(){return d.c})),n.d(e,"k",(function(){return d.d})),n.d(e,"o",(function(){return d.n}));var l=n(174);n.d(e,"c",(function(){return l.a}));var p=n(31);n.d(e,"e",(function(){return p.a}));var f=(n(169),n(171),n(173),n(117));n.d(e,"g",(function(){return f.a}));var h=(n(168),n(448));n.d(e,"f",(function(){return h.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return u}));var i=function(t){return t.login},r=function(t){return i(t).loggingIn||i(t).validatingAuth},o=function(t){return i(t).loginError},s=function(t){return i(t).redirectAfterLogIn},a=function(t){var e=i(t);return e.user&&e.user.nickname},c=function(t){var e=i(t);return e.user&&Array.isArray(e.user.roles)?e.user.roles:[]},u=function(t){return function(e){return c(e).indexOf(t)>=0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"selectCurrentStep",(function(){return d})),n.d(e,"selectCurrentStepSanitized",(function(){return l})),n.d(e,"selectStep",(function(){return p})),n.d(e,"selectRawStep",(function(){return f})),n.d(e,"selectStepId",(function(){return h})),n.d(e,"selectStepCondition",(function(){return b})),n.d(e,"selectSteps",(function(){return m})),n.d(e,"selectFlow",(function(){return g})),n.d(e,"selectPlayState",(function(){return v})),n.d(e,"selectBubbleVisible",(function(){return y})),n.d(e,"selectBubbleFoundAndVisible",(function(){return O})),n.d(e,"selectBubbleSelected",(function(){return j})),n.d(e,"selectUriMatches",(function(){return E})),n.d(e,"selectPlayerLocale",(function(){return S}));var i=n(0),r=n(12),o=n(56),s=n(181),a=n(461),c=n(462),u=function(t){return t.player},d=function(t){return u(t).currentStep},l=function(t){var e=u(t);return e.steps&&0<=e.currentStep&&e.currentStep<e.steps.length?e.currentStep:null},p=function(t){var e=u(t),n=m(t);return n&&n[e.currentStep]||null},f=function(t){var e=u(t),n=e.steps;return n&&n[e.currentStep]||null},h=function(t){var e=f(t);return e&&e.id||null},b=function(t){var e=f(t);return e&&e.condition||null},m=function(t){var e=u(t),n=e.texts;return e.steps&&n?e.steps.map((function(t){var e=n.steps.find((function(e){return e.id===t.id}));return e?i.a({},t,{content:e.content||t.content,title:e.title||t.title,image:+e.image||t.image}):t})):e.steps},g=function(t){return u(t).flow},v=function(t){return u(t).playState},y=function(t){return Object(c.d)(t)},O=function(t){return o.a.selectElementFound(t)&&y(t)},j=function(t){return o.a.selectElementSelected(t)},E=function(t){var e=p(t),n=Object(r.a)(t),i=o.a.selectMetadata(t);if(!e)return!1;var a=!!(e.frames||[]).length,c=(a?e.frames[e.frames.length-1].uriHashes:e.uriHashes)||[],u=Object(s.a)(i.location||"",n.rootUrl);return!(c.length&&!c.some(u))},S=function(t){var e=Object(r.i)(t),n=Object(a.a)(t);return e?e.find((function(t){return t.id===n})):null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return l}));var i=n(3),r=n(29),o=function(t){return t.form},s=function(t){return o(t).form},a=function(t){return o(t).validations},c=function(t){return o(t).validationOperation},u=function(t){var e=s(t);return e&&e.deployment!==i.s.Draft},d=function(t){var e=o(t);return!!e.formState&&e.formState.checkState.every((function(t){return t===r.a.Present||t===r.a.NotVisible}))},l=function(t){return o(t).formState}},,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"g",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return E}));var i=n(179),r=n(99),o=n(72),s=n(44),a=n(180),c=function(t){return t.bubblePreview},u=function(t){var e=null;switch(c(t).bubbleMode){case i.b.StepView:e=Object(r.k)(t);break;case i.b.Player:e=Object(s.selectStep)(t)}return e&&!e.isDecisionPoint?e:null},d=function(t){switch(c(t).bubbleMode){case i.b.StepView:return Object(o.d)(t);case i.b.Player:return Object(s.selectSteps)(t)}return null},l=function(t){var e=!0;switch(c(t).bubbleMode){case i.b.Player:e=Object(s.selectBubbleVisible)(t)}return e&&Object(a.b)(t)},p=function(t){var e=u(t),n=d(t);return e&&n?{index:n.findIndex((function(t){return t.id===e.id})),length:n.length}:{index:0,length:0}},f=function(t){return c(t).bubbleMode!==i.b.Inactive},h=function(t){return c(t).style},b=function(t){return c(t).theme},m=function(t){return c(t).theme&&c(t).theme.launcherIcon},g=function(t){return c(t).metadata},v=function(t){return c(t).bubbleMode===i.b.StepView},y=function(t){return!!c(t).metadata.elementRect&&Object(a.b)(t)},O=function(t){return c(t).metadata.elementFound&&Object(a.b)(t)},j=function(t){return null!==c(t).metadata.lastUpdate},E={selectElementFound:y,selectElementSelected:O,selectIsStateUpdated:j,selectTheme:b,selectSteps:d,selectStep:u,selectMetadata:g}},,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"o",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"m",(function(){return h})),n.d(e,"c",(function(){return b})),n.d(e,"p",(function(){return m})),n.d(e,"i",(function(){return g})),n.d(e,"r",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"s",(function(){return O})),n.d(e,"h",(function(){return j})),n.d(e,"q",(function(){return E}));var i=function(t){return"LOGIN_"+t},r=i("LOG_IN"),o=function(t,e){return{type:r,payload:{username:t,password:e}}},s=i("LOG_IN_GOOGLE"),a=i("GET_USER_PROFILE"),c=function(){return{type:a}},u=i("LOG_OUT"),d=function(){return{type:u}},l=i("LOGGED_IN"),p=function(t){return{type:l,payload:t}},f=i("LOG_IN_FAILED"),h=function(t){return{type:f,payload:t}},b=i("LOGGED_OUT"),m=function(){return{type:b}},g=i("VALIDATE_AUTH"),v=function(){return{type:g}},y=i("VALIDATE_AUTH_DONE"),O=function(t){return{type:y,payload:t}},j=i("SET_REDIRECT_PATH"),E=function(t){return{type:j,payload:t}}},function(t,e,n){"use strict";var i=n(175);n.d(e,"b",(function(){return i.a}));var r=n(443);n.d(e,"a",(function(){return r.a}))},function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(628),r=n(629);n.d(e,"b",(function(){return i.a})),n.d(e,"d",(function(){return r.a}));var o=n(1261);n.d(e,"f",(function(){return o.a})),n.d(e,"g",(function(){return o.b}));var s=n(45);n.d(e,"h",(function(){return s.a})),n.d(e,"i",(function(){return s.b})),n.d(e,"j",(function(){return s.c})),n.d(e,"k",(function(){return s.e})),n.d(e,"l",(function(){return s.f}));var a=n(1262);n.d(e,"c",(function(){return a.a}));var c=n(1263);n.d(e,"a",(function(){return c.a}));var u=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"q",(function(){return l})),n.d(e,"l",(function(){return p})),n.d(e,"s",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"o",(function(){return b})),n.d(e,"i",(function(){return m})),n.d(e,"p",(function(){return g})),n.d(e,"b",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"k",(function(){return O})),n.d(e,"r",(function(){return j})),n.d(e,"a",(function(){return E})),n.d(e,"m",(function(){return S}));var i=n(3),r=function(t){return"FORM_VIEW_"+t},o=Object(i.P)(r("LOAD_VALIDATIONS")),s=Object(i.P)(r("LOAD_FORM")),a=Object(i.P)(r("DELETE_FORM")),c=Object(i.P)(r("CREATE_VALIDATION")),u=Object(i.P)(r("DELETE_VALIDATION")),d=r("UPDATE_FORM"),l=function(t){return{type:d,payload:t}},p=r("UPDATE_VALIDATION"),f=function(t){return{type:p,payload:t}},h=r("CLEAR_STATE"),b=function(){return{type:h}},m=r("PUSH_FORM_DATA"),g=function(t){return{type:m,payload:t}},v=r("CLEAR_FORM_DATA"),y=function(){return{type:v}},O=r("UPDATE_FORM_STATE"),j=function(t){return{type:O,payload:t}},E=r("CLEAR_CHECK_STATES"),S=function(){return{type:E}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),(function(){function t(){this.changedSubject=new o.Subject,MutationObserver&&(this.observer=new MutationObserver(this.processDomMutation.bind(this)),this.observer.observe(document,{subtree:!0,childList:!0,attributes:!0}))}return Object.defineProperty(t.prototype,"domChanged",{get:function(){return this.changedSubject},enumerable:!0,configurable:!0}),t.prototype.processDomMutation=function(t,e){this.changedSubject.next()},t})());s=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[])],s)},,,,,,,function(t,e,n){"use strict";n.d(e,"I",(function(){return j})),n.d(e,"H",(function(){return E})),n.d(e,"N",(function(){return S}));var i=n(613),r=n(1207),o=n(1209),s=n(1211),a=n(463),c=n(136),u=n(44),d=n(333),l=n(624);n.d(e,"e",(function(){return d.a})),n.d(e,"w",(function(){return d.e})),n.d(e,"B",(function(){return d.f})),n.d(e,"b",(function(){return l.a})),n.d(e,"c",(function(){return l.b})),n.d(e,"u",(function(){return l.d})),n.d(e,"z",(function(){return l.e})),n.d(e,"f",(function(){return a.a})),n.d(e,"g",(function(){return a.b})),n.d(e,"x",(function(){return a.d})),n.d(e,"C",(function(){return a.e}));var p=n(1251);n.d(e,"p",(function(){return p.a})),n.d(e,"q",(function(){return p.b})),n.d(e,"F",(function(){return p.c})),n.d(e,"L",(function(){return p.d}));var f=n(137);n.d(e,"h",(function(){return f.a})),n.d(e,"n",(function(){return f.b})),n.d(e,"o",(function(){return f.c})),n.d(e,"E",(function(){return f.d})),n.d(e,"K",(function(){return f.e})),n.d(e,"O",(function(){return f.f}));var h=n(1255);n.d(e,"s",(function(){return h.a}));var b=n(462);n.d(e,"l",(function(){return b.a})),n.d(e,"D",(function(){return b.b})),n.d(e,"J",(function(){return b.c}));var m=n(614);n.d(e,"i",(function(){return m.a})),n.d(e,"r",(function(){return m.b}));var g=n(1257);n.d(e,"a",(function(){return g.a})),n.d(e,"t",(function(){return g.b})),n.d(e,"y",(function(){return g.c}));var v=n(630);n.d(e,"d",(function(){return v.a})),n.d(e,"v",(function(){return v.d})),n.d(e,"A",(function(){return v.e})),n.d(e,"k",(function(){return i.a}));var y=n(1278);n.d(e,"m",(function(){return y.a}));var O=n(634);n.d(e,"j",(function(){return O.a})),n.d(e,"G",(function(){return O.b})),n.d(e,"M",(function(){return O.c}));var j=[i.a,r.a,o.a,s.a].concat(a.c,d.d,l.c),E={playFlow:c.i,moveToStep:c.h,cancelPlay:c.f},S=u},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n(3),r=function(t){return t.flow},o=function(t){return r(t).flow},s=function(t){return r(t).steps},a=function(t){return r(t).stepOperation},c=function(t){return o(t).deployment!==i.q.Draft}},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"j",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return b}));var i=n(3),r=function(t){return"STEP_VIEW_"+t},o=r("SET_STEP"),s=function(t,e){return{type:o,payload:{stepToSet:t,stepIndex:e}}},a=r("UPDATE_STEP"),c=function(t){return{type:a,payload:t}},u=r("SET_DELETE_ON_CANCEL"),d=function(t){return{type:u,payload:t}},l=Object(i.P)(r("SAVE_STEP")),p=Object(i.P)(r("UPLOAD_STEP_IMAGE")),f=Object(i.P)(r("DELETE_STEP")),h=r("CLEAR_STATE"),b=function(){return{type:h}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"k",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"i",(function(){return b}));var i=n(3),r=function(t){return"FORM_VIEW_"+t},o=Object(i.P)(r("LOAD_BADGES")),s=Object(i.P)(r("LOAD_FORM")),a=Object(i.P)(r("DELETE_FORM")),c=Object(i.P)(r("CREATE_BADGE")),u=Object(i.P)(r("DELETE_BADGE")),d=(r("UPDATE_FORM"),r("UPDATE_BADGE")),l=function(t){return{type:d,payload:t}},p=r("UPDATE_BADGE_TYPE"),f=function(t){return{type:p,payload:t}},h=r("CLEAR_STATE"),b=function(){return{type:h}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"j",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"l",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"k",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"i",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"m",(function(){return m})),n.d(e,"c",(function(){return g}));var i=n(3),r=function(t){return"BADGE_VIEW_"+t},o=r("SET_BADGE"),s=function(t){return{type:o,payload:t}},a=r("UPDATE_BADGE"),c=function(t){return{type:a,payload:t}},u=Object(i.P)("SAVE_BADGE"),d=Object(i.P)("DELETE_BADGE"),l=r("SET_DELETE_ON_CANCEL"),p=function(t){return{type:l,payload:t}},f=r("CLEAR_STATE"),h=function(){return{type:f}},b=r("UPDATE_CUSTOM_CONTENT_ID"),m=function(t){return{type:b,payload:t}},g=Object(i.P)("GET_TIMEZONES")},,,,,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"i",(function(){return f}));var i=n(3),r=function(t){return"CUSTOM_CONTENT_"+t},o=Object(i.P)(r("LOAD_CUSTOM_CONTENT")),s=r("ACTIVATE_CONTENT"),a=function(t){return{type:s,payload:t}},c=r("DEACTIVATE_CONTENT"),u=function(){return{type:c}},d=r("PLAY_CONTENT"),l=function(t){return{type:d,payload:t}},p=r("UPDATE_CUSTOM_CONTENT"),f=function(t){return{type:p,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){return function(n,i){void 0===n&&(n=e);var r=t[i&&i.type];return r?r(n,i.payload):n}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"i",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"m",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"o",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"p",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"l",(function(){return b})),n.d(e,"f",(function(){return m})),n.d(e,"n",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"k",(function(){return y}));var i=n(3),r=Object(i.P)("LOAD_STORAGE"),o=function(t){return a("url",t)},s="SAVE_TO_STORAGE",a=function(t,e){return{type:s,payload:{key:t,data:e}}},c="REGISTER_AND_RESTORE_STATE",u=function(t,e){return void 0===e&&(e=!0),{type:c,payload:{statePath:t,replaceState:e}}},d="STATE_RESTORED_FROM_STORAGE",l=function(t,e){return{type:d,payload:{path:t,state:e}}},p="UNREGISTER_STATE",f=function(t){return{type:p,payload:t}},h="SAVE_STATE_TO_STORAGE",b=function(){return{type:h}},m="SET_RESTORED_STATE_FRACTIONS",g=function(t){return{type:m,payload:t}},v="REPLACE_STATE_FRACTION",y=function(t,e){return{type:v,payload:{path:t,state:e}}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"l",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"j",(function(){return m}));var i=n(3),r=function(t){return"FLOW_VIEW_"+t},o=Object(i.P)(r("DELETE_FLOW")),s=Object(i.P)(r("LOAD_STEPS")),a=Object(i.P)(r("LOAD_FLOW")),c=Object(i.P)(r("DELETE_STEP")),u=Object(i.P)(r("UPDATE_STEPS_ORDER")),d=Object(i.P)(r("CREATE_STEP")),l=r("UPDATE_STEP"),p=function(t){return{type:l,payload:t}},f=r("UPDATE_FLOW"),h=function(t){return{type:f,payload:t}},b=r("CLEAR_STATE"),m=function(){return{type:b}}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(87),s=(n.n(o),n(3)),a=n(347),c=n(348),u=(function(){function t(t,e){this.configService=e,this.selectorGenerator=t.getConfiguredSelector()}return t.prototype.checkContainersScore=function(t){if(!t)return!0;var e=0,n=1/t.length;return t.forEach((function(t){try{document.querySelector(t)&&(e+=n)}catch(t){return}})),e>=.8},t.prototype.getContainers=function(t){this.selectorGenerator.element=t;var e=this.selectorGenerator.getContainerSelectors();return this.selectorGenerator.element=null,e},t.prototype.getLabel=function(t){this.selectorGenerator.element=t;var e=this.selectorGenerator.findLabel();return this.selectorGenerator.element=null,e},t.prototype.getUriHash=function(){return Object(s._7)(window)},t.prototype.getSelector=function(t){this.selectorGenerator.element=t;var e=this.selectorGenerator.getCssSelector();return this.selectorGenerator.element=null,e},t.prototype.getMaxZIndex=function(){for(var t=0,e=function(e){var n=parseInt(o(e).css("z-index"),10);!isNaN(n)&&n>t&&(t=n)},n=document.body.children,i=0;i<n.length;i++){var r=n[i];if(!(r.tagName.toLowerCase().startsWith("letznav-app")||r.classList.contains("cdk-overlay-container")||r.classList.contains("mce-container")||r.classList.contains("mce-widget"))){e(r);for(var s=r.getElementsByTagName("*"),a=0;a<s.length;a++)e(s[a])}}return t},t.prototype.performHitTest=function(t,e,n){var i=document.elementFromPoint(e,n);if(!i||!t)return!1;var r=t.contains(i),o=this.configService.config.hardConfig.overrideHitTest;return o?o(t,i,r):r},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a,c.a])],u)},,,,,,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return f}));var i=n(1166),r=n(1168),o=n(1170),s=n(1172),a=n(1174),c=n(1176),u=n(1179),d=n(1181);n.d(e,"b",(function(){return d.a}));var l=n(1182);n.d(e,"e",(function(){return l.a})),n.d(e,"f",(function(){return l.b}));var p=n(604);n.d(e,"a",(function(){return p.a})),n.d(e,"c",(function(){return p.b}));var f=[c.a,i.a,r.a,o.a,s.a,a.a,u.a]},function(t,e,n){"use strict";n.d(e,"_9",(function(){return N}));var i=n(610),r=n(611),o=n(1190),s=n(459),a=n(471),c=n(472),u=n(125),d=n(473),l=n(474),p=n(1332),f=n(1334),h=n(470),b=n(475),m=n(647),g=n(62),v=n(650),y=n(476),O=n(21),j=n(1373),E=n(478),S=n(343),w=n(481),I=n(662),C=n(665),k=n(479),T=n(337),_=n(667);n.d(e,"a",(function(){return i.a})),n.d(e,"R",(function(){return r.a})),n.d(e,"E",(function(){return s.a}));var A=n(483);n.d(e,"W",(function(){return A.a})),n.d(e,"I",(function(){return a.b})),n.d(e,"_1",(function(){return c.c})),n.d(e,"w",(function(){return d.a})),n.d(e,"G",(function(){return l.a})),n.d(e,"L",(function(){return b.a})),n.d(e,"f",(function(){return E.a})),n.d(e,"i",(function(){return S.b})),n.d(e,"m",(function(){return w.a})),n.d(e,"F",(function(){return s.b})),n.d(e,"K",(function(){return s.c})),n.d(e,"S",(function(){return s.d})),n.d(e,"_22",(function(){return s.f})),n.d(e,"_40",(function(){return s.g})),n.d(e,"H",(function(){return a.a})),n.d(e,"J",(function(){return a.c})),n.d(e,"Z",(function(){return a.d})),n.d(e,"_24",(function(){return a.f})),n.d(e,"_42",(function(){return a.g})),n.d(e,"s",(function(){return c.a})),n.d(e,"_0",(function(){return c.b})),n.d(e,"_2",(function(){return c.d})),n.d(e,"_47",(function(){return c.e})),n.d(e,"_50",(function(){return c.f})),n.d(e,"_51",(function(){return c.h})),n.d(e,"d",(function(){return u.a})),n.d(e,"p",(function(){return u.d})),n.d(e,"_3",(function(){return u.e})),n.d(e,"_15",(function(){return u.f})),n.d(e,"_16",(function(){return u.h})),n.d(e,"_34",(function(){return u.j})),n.d(e,"x",(function(){return d.b})),n.d(e,"y",(function(){return d.c})),n.d(e,"U",(function(){return d.d})),n.d(e,"_18",(function(){return d.f})),n.d(e,"_36",(function(){return d.g})),n.d(e,"_23",(function(){return l.c})),n.d(e,"_41",(function(){return l.d})),n.d(e,"D",(function(){return h.a})),n.d(e,"_21",(function(){return h.e})),n.d(e,"_39",(function(){return h.f})),n.d(e,"M",(function(){return b.b})),n.d(e,"Q",(function(){return b.c})),n.d(e,"_25",(function(){return b.e})),n.d(e,"_43",(function(){return b.f})),n.d(e,"r",(function(){return m.a})),n.d(e,"z",(function(){return m.b})),n.d(e,"A",(function(){return m.c})),n.d(e,"B",(function(){return m.d})),n.d(e,"V",(function(){return m.e})),n.d(e,"_19",(function(){return m.g})),n.d(e,"_37",(function(){return m.h})),n.d(e,"N",(function(){return g.a})),n.d(e,"O",(function(){return g.b})),n.d(e,"P",(function(){return g.c})),n.d(e,"_5",(function(){return g.d})),n.d(e,"_27",(function(){return g.f})),n.d(e,"_45",(function(){return g.g})),n.d(e,"t",(function(){return v.a})),n.d(e,"_6",(function(){return v.b})),n.d(e,"_7",(function(){return v.c})),n.d(e,"_8",(function(){return v.d})),n.d(e,"_48",(function(){return v.e})),n.d(e,"_52",(function(){return v.g})),n.d(e,"_4",(function(){return y.a})),n.d(e,"_26",(function(){return y.b})),n.d(e,"_44",(function(){return y.c})),n.d(e,"C",(function(){return O.a})),n.d(e,"_20",(function(){return O.f})),n.d(e,"_38",(function(){return O.g})),n.d(e,"v",(function(){return I.a})),n.d(e,"g",(function(){return E.b})),n.d(e,"k",(function(){return E.c})),n.d(e,"_11",(function(){return E.e})),n.d(e,"_30",(function(){return E.f})),n.d(e,"h",(function(){return S.a})),n.d(e,"j",(function(){return S.c})),n.d(e,"l",(function(){return S.d})),n.d(e,"_12",(function(){return S.f})),n.d(e,"_31",(function(){return S.g})),n.d(e,"n",(function(){return w.b})),n.d(e,"o",(function(){return w.c})),n.d(e,"q",(function(){return w.d})),n.d(e,"_14",(function(){return w.f})),n.d(e,"_33",(function(){return w.g})),n.d(e,"e",(function(){return C.a})),n.d(e,"_13",(function(){return C.c})),n.d(e,"_32",(function(){return C.d})),n.d(e,"Y",(function(){return k.b})),n.d(e,"_46",(function(){return k.c})),n.d(e,"_49",(function(){return k.e})),n.d(e,"X",(function(){return _.b})),n.d(e,"_28",(function(){return _.c})),n.d(e,"u",(function(){return T.a})),n.d(e,"_17",(function(){return T.d})),n.d(e,"_35",(function(){return T.f}));var x=n(1446);n.d(e,"_10",(function(){return x.a})),n.d(e,"_29",(function(){return x.b}));var D=n(1448);n.d(e,"b",(function(){return D.a}));var P=n(1449);n.d(e,"c",(function(){return P.a})),n.d(e,"T",(function(){return P.b}));var N=[i.a,r.a,p.a,f.a,o.a,k.a].concat(h.d,s.e,a.e,c.g,d.e,u.g,l.b,b.d,m.f,g.e,v.f,y.e,O.e,j.a,I.b,E.d,S.e,w.e,C.b,T.c,_.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return b})),n.d(e,"i",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"e",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return j})),n.d(e,"j",(function(){return E}));var i=n(10),r=(n.n(i),n(615)),o=n(56),s=n(72),a=n(180),c=n(21),u="step.step",d=function(t){return t.step},l=function(t){return d(t).step},p=function(t){return d(t).stepIndex},f=function(t){return d(t).isSaving},h=function(t){var e=d(t);return e.isSaving||e.uploadingImage||Object(s.b)(t)||Object(c.h)(t)},b=function(t){return Object(s.b)(t)},m=function(t){var e=d(t);return!e.ignoreSaving&&!Object(i.isEqual)(e.step,e.stepInitial)&&!Object(s.b)(t)},g=function(t){return Object(r.b)(l(t),Object(o.f)(t),Object(a.b)(t))},v=function(t){return d(t).deleteOnCancel},y=function(t){return l(t).decisionPoint},O=function(t){return!g(t).some((function(t){return t===r.a.NoTitle||t===r.a.ElementNotPicked||t===r.a.MilestoneAnchorsNotPresent||t===r.a.SelectorInvalid}))},j=function(t){return Object(s.d)(t)},E=function(t){return d(t).step.isMilestone||Object(a.b)(t)}},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"j",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"h",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"g",(function(){return h}));var i=n(3),r=function(t){return"VALIDATION_VIEW_"+t},o=r("SET_VALIDATION"),s=function(t){return{type:o,payload:t}},a=r("UPDATE_VALIDATION"),c=function(t){return{type:a,payload:t}},u=Object(i.P)("SAVE_VALIDATION"),d=Object(i.P)("DELETE_VALIDATION"),l=r("SET_DELETE_ON_CANCEL"),p=function(t){return{type:l,payload:t}},f=r("CLEAR_STATE"),h=function(){return{type:f}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return u}));var i=n(3),r=function(t){return"EDIT_FORM_"+t},o=Object(i.P)(r("SAVE_FORM")),s=r("SET_EDIT_FORM"),a=function(t){return{type:s,payload:t}},c=r("UPDATE_FORM"),u=function(t){return{type:c,payload:t}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));var i=function(t){return t.badgeForm},r=function(t){return i(t).badges},o=function(t){return i(t).badgeType},s=function(t){return i(t).badgesOperation}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var i;(function(t){t[t.Valid=0]="Valid",t[t.NotValid=1]="NotValid",t[t.Notified=2]="Notified",t[t.Pending=3]="Pending",t[t.NotChecked=4]="NotChecked"})(i||(i={}));var r;(function(t){t[t.Pristine=0]="Pristine",t[t.Dirty=1]="Dirty"})(r||(r={}));var o;(function(t){t[t.Untouched=0]="Untouched",t[t.Touched=1]="Touched"})(o||(o={}))},,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return o}));var i=n(116),r=n(420);n.d(e,"b",(function(){return r.a})),n.d(e,"c",(function(){return r.b})),n.d(e,"e",(function(){return r.c})),n.d(e,"f",(function(){return r.d})),n.d(e,"i",(function(){return r.e})),n.d(e,"j",(function(){return r.f})),n.d(e,"k",(function(){return r.g})),n.d(e,"l",(function(){return r.h})),n.d(e,"m",(function(){return r.i})),n.d(e,"n",(function(){return r.j})),n.d(e,"o",(function(){return r.k})),n.d(e,"q",(function(){return r.l})),n.d(e,"s",(function(){return r.m})),n.d(e,"x",(function(){return r.n})),n.d(e,"y",(function(){return r.o})),n.d(e,"z",(function(){return r.p})),n.d(e,"B",(function(){return r.q})),n.d(e,"G",(function(){return r.r})),n.d(e,"H",(function(){return r.s})),n.d(e,"J",(function(){return r.t})),n.d(e,"K",(function(){return r.u})),n.d(e,"L",(function(){return r.v})),n.d(e,"M",(function(){return r.w})),n.d(e,"N",(function(){return r.x})),n.d(e,"O",(function(){return r.y})),n.d(e,"P",(function(){return r.z})),n.d(e,"a",(function(){return i.a})),n.d(e,"g",(function(){return i.c})),n.d(e,"h",(function(){return i.d})),n.d(e,"p",(function(){return i.e})),n.d(e,"r",(function(){return i.f})),n.d(e,"t",(function(){return i.g})),n.d(e,"u",(function(){return i.h})),n.d(e,"v",(function(){return i.i})),n.d(e,"w",(function(){return i.j})),n.d(e,"A",(function(){return i.k})),n.d(e,"C",(function(){return i.l})),n.d(e,"D",(function(){return i.m})),n.d(e,"E",(function(){return i.n})),n.d(e,"F",(function(){return i.o})),n.d(e,"I",(function(){return i.p})),n.d(e,"Q",(function(){return i.q})),n.d(e,"R",(function(){return i.r})),n.d(e,"S",(function(){return i.s})),n.d(e,"T",(function(){return i.t})),n.d(e,"U",(function(){return i.u})),n.d(e,"V",(function(){return i.v})),n.d(e,"W",(function(){return i.w})),n.d(e,"X",(function(){return i.x}));var o={And:i.b.AND,Or:i.b.OR,Not:i.b.NOT,QueryMatches:i.b.QUERY_MATCHES,ElementExists:i.b.ELEMENT_EXISTS}},function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"m",(function(){return b})),n.d(e,"f",(function(){return m})),n.d(e,"s",(function(){return g})),n.d(e,"d",(function(){return v}));var i=n(412),r=n(413),o=n(165),s=n(166);n.d(e,"p",(function(){return o.b})),n.d(e,"q",(function(){return o.c})),n.d(e,"t",(function(){return o.d})),n.d(e,"u",(function(){return o.e})),n.d(e,"v",(function(){return o.f}));var a=n(414);n.d(e,"g",(function(){return a.a}));var c=n(415);n.d(e,"h",(function(){return c.a})),n.d(e,"i",(function(){return c.b})),n.d(e,"j",(function(){return c.c}));var u=n(416);n.d(e,"e",(function(){return u.a})),n.d(e,"o",(function(){return u.b})),n.d(e,"l",(function(){return s.a})),n.d(e,"r",(function(){return s.b})),n.d(e,"w",(function(){return s.c})),n.d(e,"x",(function(){return s.d}));var d=n(417);n.d(e,"a",(function(){return d.a})),n.d(e,"n",(function(){return d.b}));var l,p=i,f=r,h=function(t,e){return!!t&&!!e&&t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height},b={trackUserActions:!0,recordUserId:!0},m={THEME:"theme",USER_ACTION:"userActions",KEYBOARD_SHORTCUTS:"keyboardShortcuts"},g=(l={},l[m.THEME]=o.a,l[m.USER_ACTION]=b,l[m.KEYBOARD_SHORTCUTS]=s.a,/^[^\s]{8,}$/),v=5},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(19),s=n(43),a=n(31),c=function(t){for(var e=[t];e[e.length-1].parent;)e.push(e[e.length-1].parent);return e.reverse(),e},u=(function(){function t(t){this.store=t}return t.prototype.canActivateChild=function(t,e){var n=this;return this.store.select((function(t){return t})).skipWhile((function(t){return Object(s.a)(t)})).take(1).map(s.e).map((function(e){for(var i=0,r=c(t);i<r.length;i++){var s=r[i],a=(function(t){var i=t.data.authorization;if(i&&!e.some((function(t){return i.indexOf(t)>=0})))return n.store.dispatch(Object(o.b)("/")),{value:!1}})(s);if("object"==typeof a)return a.value}return!0}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"h",(function(){return l}));var i=function(t){return"RESET_PASSWORD_"+t},r=i("RESET_LINK"),o=function(t,e){return{type:r,payload:{link:t,password:e}}},s=i("RESET_LINK_SUCCEEDED"),a=function(t){return{type:s,payload:{redirect:t}}},c=i("RESET_LINK_FAILED"),u=function(t){return{type:c,payload:{isTempError:t}}},d=i("RESET_STATE"),l=function(){return{type:d}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return l}));var i=function(t){return"FORGOTTEN_PASSWORD_"+t},r=i("RESET_STATE"),o=function(){return{type:r}},s=i("REQUEST_RESET"),a=function(t,e){return{type:s,payload:{username:t,baseUrl:e}}},c=i("REQUEST_RESET_SUCCEEDED"),u=function(){return{type:c}},d=i("REQUEST_RESET_FAILED"),l=function(){return{type:d}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n(0),r=n(1),o=n(587),s=n.n(o),a=(function(){function t(){}return t})(),c=(function(t){function e(){var e=t.call(this)||this;return e.webAuth=new s.a.WebAuth({clientID:"VSPmoSfkS58VFF3C78baDPHmIXEmSpoC",domain:"lukaskopenec.eu.auth0.com",redirectUri:window.location.origin,responseType:"token id_token"}),e}return i.d(e,t),e.prototype.handleAuthentication=function(){var t=this.webAuth;return new Promise(function(e,n){t.parseHash(null,(function(t,i){if(i){if(i.error)return void n(i.error);if(i.idToken&&i.accessToken)return window.location.hash="",void e({accessToken:i.accessToken,idToken:i.idToken})}e()}))})},e.prototype.logIn=function(t,e){var n=this.webAuth.client;return new Promise(function(i,r){n.login({realm:"Username-Password-Authentication",username:t,password:e},(function(t,e){if(t)return void r(t.description);e&&e.accessToken&&e.idToken?i({accessToken:e.accessToken,idToken:e.idToken}):r()}))})},e.prototype.loginWithGoogle=function(){this.webAuth.authorize({connection:"google-oauth2"})},e.prototype.getUserProfile=function(t){var e=this.webAuth.client;return new Promise(function(n,i){e.userInfo(t,(function(t,e){if(t)return void i(t.errorDescription);e?n(e):i("Uknown error")}))})},e})(a);c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(48),s=n(6),a=(n.n(s),n(132)),c=(function(t){function e(e){return t.call(this,e)||this}return i.d(e,t),e.prototype.login=function(t){return null},e.prototype.getUserProfile=function(t){return null},e.prototype.resetPassword=function(t,e){return null},e.prototype.requestResetPassword=function(t){return null},e})(a.k);i.c([Object(a.g)("/login",{auth:"public"}),i.g(0,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Object]),i.f("design:returntype",s.Observable)],c.prototype,"login",null),i.c([Object(a.e)("/profile",{auth:"private"}),i.g(0,Object(a.f)("Authorization")),i.f("design:type",Function),i.f("design:paramtypes",[String]),i.f("design:returntype",s.Observable)],c.prototype,"getUserProfile",null),i.c([Object(a.g)("/reset-password/{resetLink}",{auth:"public"}),i.g(0,Object(a.i)("resetLink")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[String,Object]),i.f("design:returntype",s.Observable)],c.prototype,"resetPassword",null),i.c([Object(a.g)("/request-reset-password",{auth:"public"}),i.g(0,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Object]),i.f("design:returntype",s.Observable)],c.prototype,"requestResetPassword",null),c=i.c([Object(r.Injectable)(),Object(a.d)({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),Object(a.a)("./api/$auth$/auth"),i.f("design:paramtypes",[o.Http])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return u}));var i=function(t){return t.storage},r=function(t){return i(t).storage},o=function(t){return r(t).url},s=function(t){return!!r(t)},a=function(t,e){return r(t)[e]},c=function(t){return i(t).registredStatePathsToStore},u=function(t){return i(t).restoredFractions}},function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"k",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"g",(function(){return h})),n.d(e,"m",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"l",(function(){return g}));var i=n(3),r=Object(i.P)("LOAD_APPLICATIONS"),o=Object(i.P)("LOAD_LOCALES"),s="APP_READY",a=function(){return{type:s}},c="SET_CONFIGURATIONS",u=function(t){return{type:c,payload:t}},d="APP_DETECTION_STARTED",l=function(){return{type:d}},p="APP_DETECTION_FINISHED",f=function(){return{type:p}},h="SELECT_APP_CONFIGURATION",b=function(t){return{type:h,payload:t}},m="CLEAR_STATE",g=function(){return{type:m}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(3),r=function(t){return"FORM_LIST_"+t},o=Object(i.P)(r("LOAD_FORMS")),s=r("SET_SEARCH"),a=function(t){return{type:s,payload:t}}},function(t,e,n){"use strict";n.d(e,"g",(function(){return l}));var i=n(635),r=n(1280),o=n(56);n.d(e,"i",(function(){return o.a}));var s=n(1284);n.d(e,"e",(function(){return s.a}));var a=n(1285);n.d(e,"d",(function(){return a.a}));var c=n(636);n.d(e,"h",(function(){return c.a})),n.d(e,"j",(function(){return c.c}));var u=n(183);n.d(e,"k",(function(){return u.f})),n.d(e,"b",(function(){return u.a})),n.d(e,"f",(function(){return u.e}));var d=n(179);n.d(e,"c",(function(){return d.b})),n.d(e,"a",(function(){return d.a}));var l=[i.a,r.a]},function(t,e,n){"use strict";var i=n(1281);n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return i.b}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(3)),a=n(88),c=n(64),u=n(22),d=n(28),l={left:-1,top:-1,height:-1,width:-1},p=(function(){function t(t,e,n){var i=this;this.document=t,this.observer=e,this.messages=n,this.myPath=[],this.parentUrls=[],this.myPosition=l,this.frames=[],window.addEventListener("message",this.processMessage.bind(this)),window.top!==window&&window.parent.postMessage({letznav:"FrameHello"},"*"),o.Observable.fromEvent(window,"hashchange").subscribe((function(){return i.checkContexts(!0)})),this.observer.domChanged.debounceTime(100).subscribe((function(){return i.checkContexts()}))}return Object.defineProperty(t.prototype,"path",{get:function(){return this.myPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posittion",{get:function(){return this.myPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urls",{get:function(){return this.parentUrls.concat([this.document.getUriHash()])},enumerable:!0,configurable:!0}),t.prototype.registerFrame=function(t){for(var e,n=document.getElementsByTagName("iframe"),i=0;i<n.length;++i)if(n[i].contentWindow===t){e=n[i];break}if(e){var r={frame:e,window:t,position:l,selector:this.document.getSelector(e)};this.frames.push(r),this.checkContext(r,!0)}},t.prototype.checkContext=function(t,e){void 0===e&&(e=!1);var n=t.frame.getBoundingClientRect(),i={top:this.myPosition.top+n.top,left:this.myPosition.left+n.left,height:n.bottom-n.top,width:n.right-n.left};if(e||!Object(s.G)(i,t.position)){t.position=i;var r=this.myPath.concat([t.selector]),o=this.parentUrls.concat([this.document.getUriHash()]);try{t.window.postMessage({letznav:"FrameInfo",position:i,path:r,urls:o},"*")}catch(t){}}},t.prototype.checkContexts=function(t){void 0===t&&(t=!1);for(var e=[],n=0,i=this.frames;n<i.length;n++){var r=i[n];document.contains(r.frame)?this.checkContext(r,t):e.push(r)}e.length&&(this.frames=this.frames.filter((function(t){return e.indexOf(t)<0})),this.messages.sendMessage({type:d.a.FramesChanged}))},t.prototype.processMessage=function(t){if("string"==typeof t.data.letznav)switch(t.data.letznav){case"FrameHello":this.registerFrame(t.source);break;case"FrameInfo":this.myPath=t.data.path,this.myPosition=t.data.position,this.parentUrls=t.data.urls,this.checkContexts()}},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a,c.a,u.a])],p)},,,,,function(t,e,n){"use strict";function i(t){return function(e){return e.prototype.getBaseUrl=function(){return t},e}}function r(t){return function(e){return e.prototype.getDefaultHeaders=function(){return t},e}}function o(t){return function(e){return function(n,i,r){var o=i+"_"+t+"_parameters",s={key:e,parameterIndex:r};Array.isArray(n[o])?n[o].push(s):n[o]=[s]}}}function s(t){return function(e,n){return function(i,r,o){var s=i[r+"_Path_parameters"],c=i[r+"_Query_parameters"],u=i[r+"_Body_parameters"],d=i[r+"_Header_parameters"];return o.value=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var l=null;u&&(l=JSON.stringify(i[u[0].parameterIndex]));var p=e;if(s)for(var f in s)s.hasOwnProperty(f)&&(p=p.replace("{"+s[f].key+"}",i[s[f].parameterIndex]));var h=new a.URLSearchParams;c&&c.filter((function(t){return i[t.parameterIndex]})).forEach((function(t){var e=t.key,n=i[t.parameterIndex];n instanceof Object&&(n=JSON.stringify(n)),h.set(e,n)}));var b=new a.Headers(this.getDefaultHeaders());for(var f in o.headers)o.headers.hasOwnProperty(f)&&b.append(f,o.headers[f]);if(d)for(var f in d)d.hasOwnProperty(f)&&b.append(d[f].key,i[d[f].parameterIndex]);var m=new a.RequestOptions({method:t,url:this.formatBaseUrl(n||null)+p,headers:b,body:l,search:h});return this.performRequest(m)},o}}}e.a=i,n.d(e,"k",(function(){return u})),e.d=r,n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return m})),n.d(e,"c",(function(){return g}));var a=n(48),c=n(6),u=(n.n(c),(function(){function t(t){this.httpService=t}return t.prototype.requestInterceptor=function(t){return c.Observable.of(t)},t.prototype.responseInterceptor=function(t){return t},t.prototype.getBaseUrl=function(){return null},t.prototype.getDefaultHeaders=function(){return null},t.prototype.performRequest=function(t){var e=this,n=new a.Request(t),i=this.requestInterceptor(n).flatMap((function(t){return e.httpService.request(t)}));return i=this.responseInterceptor(i),i=i.map((function(t){var e=t.headers.get("content-type");return e&&e.startsWith("application/json")?t.json():204===t.status?null:t}))},t.prototype.formatBaseUrl=function(t){return this.getBaseUrl().replace(/\$(\w+)\$/g,(function(e,n){return t[n]}))},t})()),d=o("Path"),l=o("Query"),p=o("Body")("Body"),f=o("Header"),h=s(a.RequestMethod.Get),b=s(a.RequestMethod.Post),m=s(a.RequestMethod.Put),g=s(a.RequestMethod.Delete);s(a.RequestMethod.Head)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(22)),a=n(28),c=n(3),u=(function(){function t(t){var e=this;this.messages=t,this._shortcut=new o.Subject,this._keydown=new o.Subject,this.messages.ofType(a.a.Shortcut).subscribe((function(t){e._shortcut.next(t.shortcut)})),this._keydown.map((function(t){return{shortcut:Object(c.O)(t),event:t}})).filter((function(t){return null!==t.shortcut})).do((function(t){return t.event.preventDefault()})).subscribe((function(t){var n=t.shortcut;return e._shortcut.next(n)}))}return Object.defineProperty(t.prototype,"shortcuts",{get:function(){return this._shortcut},enumerable:!0,configurable:!0}),t.prototype.keydown=function(t){this._keydown.next(t)},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function(t){return t.i18n},r=function(t){return i(t).resources},o=function(t){return i(t).updatedResources}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return h}));var i=n(3),r=function(t){return"PLAYER_"+t},o=Object(i.P)(r("PLAY_FLOW")),s=r("PLAY_FLOW_START"),a=function(t,e,n){var i={flowId:t,startStep:{index:e&&e.index,id:e&&e.id},isResumed:n};return{type:s,payload:i}},c=r("SET_FLOW"),u=function(t,e,n){return{type:c,payload:{flow:t,steps:e,texts:n}}},d=r("MOVE_TO_STEP"),l=function(t){return{type:d,payload:t}},p=r("FLOW_READY"),f=function(){return{type:p}},h=function(){return l(-1)}},function(t,e,n){"use strict";var i=n(335);n.d(e,"f",(function(){return i.c}));var r=n(621);n.d(e,"a",(function(){return r.a}));var o=n(1240);n.d(e,"b",(function(){return o.a}));var s=n(1245);n.d(e,"d",(function(){return s.a})),n.d(e,"e",(function(){return s.b}));var a=n(1246);n.d(e,"c",(function(){return a.a}));n(623)},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"j",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"m",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"n",(function(){return l})),n.d(e,"d",(function(){return p})),n.d(e,"k",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"l",(function(){return b})),n.d(e,"a",(function(){return m})),n.d(e,"h",(function(){return g}));var i=function(t){return"VALIDATION_"+t},r=i("PUSH_VALIDATION_DATA"),o=function(t){return{type:r,payload:t}},s=i("CLEAR_VALIDATION_DATA"),a=function(){return{type:s}},c=i("UPDATE_VALIDATION_STATE"),u=function(t){return{type:c,payload:t}},d=i("UPDATE_VALIDITY"),l=function(t){return{type:d,payload:t}},p=i("SET_MOUSE_OVER"),f=function(t){return{type:p,payload:t}},h=i("SET_PLAYER_RESOURCES"),b=function(t){return{type:h,payload:t}},m=i("CLEAR_CHECK_STATES"),g=function(){return{type:m}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"k",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"n",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"m",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"i",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"j",(function(){return g}));var i=function(t){return"BADGE_"+t},r=i("PUSH_BADGE_DATA"),o=function(t){return{type:r,payload:{badges:t}}},s=i("PUSH_ANNOUNCEMENT_STATE"),a=function(t){return{type:s,payload:{announcements:t}}},c=i("CLEAR_BADGE_DATA"),u=function(){return{type:c}},d=i("UPDATE_BADGE_STATE"),l=function(t){return{type:d,payload:{badges:t}}},p=i("SET_MOUSE_OVER"),f=function(t){return{type:p,payload:t}},h=i("CLEAR_CHECK_STATES"),b=function(){return{type:h}},m=i("CLOSE_ANNOUNCEMENT"),g=function(t){return{type:m,payload:{announcementId:t}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(t){return t.customContent},r=function(t){return i(t).customContent},o=function(t){return i(t).activeContent}},function(t,e,n){"use strict";function i(t){var e=1,n=1;return t=t.map((function(t,i){var r=a.a({},t,{displayNumber:e++,index:i});return u(t)?(e--,r=a.a({},r,{displayNumber:-1,priority:n++})):n=1,r})),t.map((function(e,n){if(u(e)){var i=d(e),r=l(t,"id",i&&i.bounceToStep?i.bounceToStep.stepId:-1);e=a.a({},e,{bounceToStep:r?r.displayNumber:-1})}return e}))}function r(t){return t.filter((function(t){return!u(t)}))}function o(t,e){for(var n=[],o=!1,s=i(e),a=0;a<s.length;a++){if(s[a].isMilestone){if(o)break;n=[]}n.push(s[a]),a===t&&(o=!0)}return r(n)}function s(t){var e=!1;try{e=!!new RegExp(t)}catch(t){}return e}e.d=i,n.d(e,"a",(function(){return l})),e.b=o,e.c=s;var a=n(0),c=n(3),u=function(t){return t.isDecisionPoint},d=function(t){return t.decisionPoint&&t.decisionPoint.actions&&t.decisionPoint.actions.find((function(t){return t.type===c.n.BounceToStep}))},l=function(t,e,n){return t&&t.find((function(t){return t[e]===n}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(87),s=n.n(o),a=n(29),c=n(3),u=n(88),d=n(486),l=n(127),p=(function(){function t(t,e,n){this.document=t,this.pickerService=e,this.frames=n}return t.mapElementToState=function(t){return{identification:t,element:null,checkState:a.a.NotChecked,position:null}},t.prototype.checkElementState=function(t){var e=t.checkState,n=t.position,i=null;if(this.document.checkContainersScore(t.identification.containers))try{i=document.querySelector(t.identification.selector)}catch(t){}if(t.element=i,i){var r=i.getBoundingClientRect(),o=s()(i).is(":visible");if(o){o=this.document.performHitTest(i,r.left+r.width-1,r.top+r.height/2)}t.position=this.pickerService.getElementRect(i),t.checkState=o?a.a.Present:a.a.NotVisible}else t.position=null,t.checkState=a.a.NotPresent;var u=n===t.position||Object(c.G)(n,t.position);return t.checkState!==e||!u},t.prototype.checkElementPresence=function(t){if(!this.checkFramePath(t))return a.a.NotChecked;var e=null;if(this.document.checkContainersScore(t.containers))try{e=document.querySelector(t.selector)}catch(t){}return e?a.a.Present:a.a.NotPresent},t.prototype.checkFramePath=function(t){var e=this.frames.path.join();return(t.frames||[]).map((function(t){return t.attachIn})).join()===e},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[u.a,d.a,l.a])],p)},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),6e4),a="__letznavElementStorage__",c=function(){if(window.top===window)return window[a]||(window[a]=new u),window[a];try{return window.top[a]||null}catch(t){return null}},u=(function(){function t(){var t=this;this.nextId=1,this.storedElements=new Map,this.elementMap=new WeakMap,this._beforeDisposing=new o.Subject,o.Observable.interval(s).do((function(){t.storedElements.forEach((function(t){return t.isActual=!1})),t._beforeDisposing.next()})).subscribe(this.onElementDispose.bind(this))}return Object.defineProperty(t.prototype,"beforeDisposing",{get:function(){return this._beforeDisposing},enumerable:!0,configurable:!0}),t.prototype.storeElement=function(t){if(!t)throw new Error("No element provided");var e=this.elementMap.get(t);if(!e){var n=this.nextId++;e={element:t,id:n,isActual:!0,token:null},e.token={element:t,id:n,refresh:this.onElementRefresh.bind(this,e)},this.storedElements.set(e.id,e),this.elementMap.set(t,e)}return e.token},t.prototype.retrieveElement=function(t){var e=this.storedElements.get(t);return e&&e.element},t.prototype.onElementRefresh=function(t){t.isActual=!0},t.prototype.onElementDispose=function(){var t=this;Array.from(this.storedElements.values()).filter((function(t){return!t.isActual})).forEach((function(e){t.elementMap.delete(e.element),t.storedElements.delete(e.id)}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1),r=new i.InjectionToken("applicationURL")},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(59),s=n(162),a=n(163),c=(function(){function t(t){this.dialog=t}return t.prototype.openConfirmDialog=function(t){var e=this.dialog.open(s.a,this.getDialogConfig(t));return e.componentInstance.title=t.title,e.componentInstance.message=t.message,e.afterClosed()},t.prototype.openInfoDialog=function(t){var e=this.dialog.open(a.a,this.getDialogConfig(t));return e.componentInstance.title=t.title,e.componentInstance.message=t.message,e.afterClosed()},t.prototype.getDialogConfig=function(t){return{width:(t.width||350)+"px",height:(t.height||216)+"px"}},t})();c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.g])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(59),s=n(23),a=(function(){function t(t,e){this.dialogRef=t,this.domSanitizer=e}return t.prototype.ngOnInit=function(){this.title=this.domSanitizer.bypassSecurityTrustHtml(this.title),this.message=this.domSanitizer.bypassSecurityTrustHtml(this.message)},t.prototype.cancel=function(){this.dialogRef.close(!1)},t.prototype.confirm=function(){this.dialogRef.close(!0)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"title",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"message",void 0),a=i.c([Object(r.Component)({selector:"admin-confirm-dialog",template:n(407)}),i.f("design:paramtypes",[o.i,s.c])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(59),s=n(23),a=(function(){function t(t,e){this.dialogRef=t,this.domSanitizer=e}return t.prototype.ngOnInit=function(){this.title=this.domSanitizer.bypassSecurityTrustHtml(this.title),this.message=this.domSanitizer.bypassSecurityTrustHtml(this.message)},t.prototype.confirm=function(){this.dialogRef.close(!0)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"title",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"message",void 0),a=i.c([Object(r.Component)({selector:"admin-info-dialog",template:n(408)}),i.f("design:paramtypes",[o.i,s.c])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(58),s=(n.n(o),n(6)),a=(n.n(s),n(132)),c=(n(115),(function(t){function e(e){return t.call(this,e)||this}return i.d(e,t),e.prototype.getApplications=function(){return null},e.prototype.getAccessibleApplications=function(){return null},e.prototype.getSchedulerConfig=function(){return null},e.prototype.getSchedulerJobFrequency=function(){return null},e.prototype.saveApplication=function(t,e){return null},e.prototype.updateJobFrequency=function(t){return null},e.prototype.getApplicationConfigurations=function(){return null},e.prototype.getFlows=function(t,e){return null},e.prototype.getFlowsMilestone=function(t){return null},e.prototype.getFlowsSimple=function(t,e){return null},e.prototype.getTags=function(t){return null},e.prototype.saveTags=function(t,e){return null},e.prototype.addFlowsToTag=function(t,e,n){return null},e.prototype.getFlow=function(t,e){return null},e.prototype.createFlow=function(t,e){return null},e.prototype.saveFlow=function(t,e,n){return null},e.prototype.deleteFlow=function(t,e){return null},e.prototype.toggleAlwaysVisible=function(t,e){return null},e.prototype.changeDeploymentStatus=function(t,e){return null},e.prototype.getSteps=function(t,e){return null},e.prototype.saveStep=function(t,e,n,i){return null},e.prototype.createStep=function(t,e,n){return null},e.prototype.deleteStep=function(t,e,n){return null},e.prototype.updateStepsOrder=function(t,e,n){return null},e.prototype.removeTagFromFlow=function(t,e,n){return null},e.prototype.getFlowPlayInfo=function(t,e){return null},e.prototype.validateFlow=function(t,e){return null},e.prototype.getAllLanguages=function(t){return null},e.prototype.getAvailableLanguages=function(t){return null},e.prototype.saveLanguages=function(t,e){return null},e.prototype.getFlowTexts=function(t,e,n){return null},e.prototype.saveFlowTexts=function(t,e,n,i){return null},e.prototype.getPlayerResources=function(t,e){return null},e.prototype.savePlayerResources=function(t,e,n){return null},e.prototype.getActionDefinitions=function(t){return null},e.prototype.saveActionDefinitions=function(t,e){return null},e.prototype.getPlayerOptions=function(t,e){return null},e.prototype.savePlayerOptions=function(t,e,n){return null},e.prototype.getRawStyle=function(t){return null},e.prototype.getAppliedStyle=function(t,e){return void 0===e&&(e=""),null},e.prototype.saveThemeValues=function(t,e){return null},e.prototype.getCampaigns=function(t){return null},e.prototype.saveCampaigns=function(t,e){return null},e.prototype.getUsers=function(){return null},e.prototype.addUser=function(t){return null},e.prototype.updateUser=function(t,e){return null},e.prototype.deleteUser=function(t){return null},e.prototype.resetPassword=function(t,e){return null},e.prototype.resetPasswordLink=function(t,e){return null},e.prototype.changePassword=function(t){return null},e.prototype.getForms=function(t){return null},e.prototype.createForm=function(t,e){return null},e.prototype.getForm=function(t,e){return null},e.prototype.saveForm=function(t,e,n){return null},e.prototype.deleteForm=function(t,e){return null},e.prototype.getValidations=function(t,e,n){return null},e.prototype.getMultiFormValidations=function(t,e,n){return null},e.prototype.createValidation=function(t,e,n){return null},e.prototype.deleteValidation=function(t,e,n){return null},e.prototype.saveValidation=function(t,e,n,i,r){return null},e.prototype.getValidationsTexts=function(t,e,n){return null},e.prototype.saveValidationsTexts=function(t,e,n,i){return null},e.prototype.getBadgeForms=function(t,e){return null},e.prototype.getFormDetails=function(t,e,n){return null},e.prototype.getBadges=function(t,e,n,i){return null},e.prototype.getMultiFormBadges=function(t,e,n){return null},e.prototype.getBadge=function(t,e,n,i,r){return null},e.prototype.getBadgeTexts=function(t,e,n,i){return null},e.prototype.saveBadgeTexts=function(t,e,n,i,r){return null},e.prototype.createBadge=function(t,e,n,i){return null},e.prototype.deleteBadge=function(t,e,n,i){return null},e.prototype.saveBadge=function(t,e,n,i,r,o){return null},e.prototype.saveSftpConfig=function(t,e){return null},e.prototype.getSftpConfig=function(t){return null},e.prototype.getContents=function(t,e){return null},e.prototype.createContent=function(t,e,n){return null},e.prototype.deleteContent=function(t){return null},e.prototype.updateContent=function(t,e,n){return null},e.prototype.saveTimeZones=function(t,e){return null},e.prototype.getTimeZones=function(t){return null},e.prototype.getAnnouncementTexts=function(t,e,n,i){return null},e.prototype.saveAnnouncementTexts=function(t,e,n,i,r){return null},e.prototype.getValidAdminAnnouncements=function(t,e){return null},e})(a.k));i.c([Object(a.e)("/applications",{auth:"public"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getApplications",null),i.c([Object(a.e)("/applications/accessible",{auth:"private"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getAccessibleApplications",null),i.c([Object(a.e)("/scheduler/getConfig",{auth:"private"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getSchedulerConfig",null),i.c([Object(a.e)("/scheduler/getSchedulerJobFrequencies",{auth:"private"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getSchedulerJobFrequency",null),i.c([Object(a.h)("/applications/{id}",{auth:"private"}),i.g(0,Object(a.i)("id")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveApplication",null),i.c([Object(a.h)("/scheduler/updateJobFrequency",{auth:"private"}),i.g(0,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Object]),i.f("design:returntype",s.Observable)],c.prototype,"updateJobFrequency",null),i.c([Object(a.e)("/applications/configs",{auth:"private"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getApplicationConfigurations",null),i.c([Object(a.e)("/applications/{applicationId}/flows",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.j)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFlows",null),i.c([Object(a.e)("/applications/{applicationId}/flows/milestones",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFlowsMilestone",null),i.c([Object(a.e)("/applications/{applicationId}/flows/simple",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.j)("flows")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"getFlowsSimple",null),i.c([Object(a.e)("/applications/{applicationId}/tags",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getTags",null),i.c([Object(a.h)("/applications/{applicationId}/tags",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveTags",null),i.c([Object(a.h)("/applications/{applicationId}/tags/{tagId}/flows",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("tagId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"addFlowsToTag",null),i.c([Object(a.e)("/applications/{applicationId}/flows/{flowId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFlow",null),i.c([Object(a.g)("/applications/{applicationId}/flows",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createFlow",null),i.c([Object(a.h)("/applications/{applicationId}/flows/{flowId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveFlow",null),i.c([Object(a.c)("/applications/{applicationId}/flows/{flowId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteFlow",null),i.c([Object(a.h)("/applications/{applicationId}/flows/alwaysVisible",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"toggleAlwaysVisible",null),i.c([Object(a.h)("/applications/{applicationId}/flows/deployment-status",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"changeDeploymentStatus",null),i.c([Object(a.e)("/applications/{applicationId}/flows/{flowId}/steps",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getSteps",null),i.c([Object(a.h)("/applications/{applicationId}/flows/{flowId}/steps/{stepId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,Object(a.i)("stepId")),i.g(3,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveStep",null),i.c([Object(a.g)("/applications/{applicationId}/flows/{flowId}/steps",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createStep",null),i.c([Object(a.c)("/applications/{applicationId}/flows/{flowId}/steps/{stepId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,Object(a.i)("stepId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteStep",null),i.c([Object(a.g)("/applications/{applicationId}/flows/{flowId}/steps/order",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"updateStepsOrder",null),i.c([Object(a.c)("/applications/{applicationId}/flows/{flowId}/tags/{tagId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.g(2,Object(a.i)("tagId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"removeTagFromFlow",null),i.c([Object(a.e)("/applications/{applicationId}/flows/{flowId}/play-info",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFlowPlayInfo",null),i.c([Object(a.e)("/applications/{applicationId}/flows/{flowId}/validate",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"validateFlow",null),i.c([Object(a.e)("/applications/{applicationId}/locales",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getAllLanguages",null),i.c([Object(a.e)("/applications/{applicationId}/locales/my",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getAvailableLanguages",null),i.c([Object(a.h)("/applications/{applicationId}/locales/my",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveLanguages",null),i.c([Object(a.e)("/applications/{applicationId}/locales/{localeId}/flows/{flowId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.g(2,Object(a.i)("flowId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFlowTexts",null),i.c([Object(a.h)("/applications/{applicationId}/locales/{localeId}/flows/{flowId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.g(2,Object(a.i)("flowId")),i.g(3,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveFlowTexts",null),i.c([Object(a.e)("/applications/{applicationId}/locales/{localeId}/resources",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getPlayerResources",null),i.c([Object(a.h)("/applications/{applicationId}/locales/{localeId}/resources",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"savePlayerResources",null),i.c([Object(a.e)("/applications/{applicationId}/action-definitions",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getActionDefinitions",null),i.c([Object(a.h)("/applications/{applicationId}/action-definitions",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveActionDefinitions",null),i.c([Object(a.e)("/applications/{applicationId}/player-options/{option}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("option")),i.f("design:type",Function),i.f("design:paramtypes",[Number,String]),i.f("design:returntype",s.Observable)],c.prototype,"getPlayerOptions",null),i.c([Object(a.h)("/applications/{applicationId}/player-options/{option}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("option")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,String,Object]),i.f("design:returntype",s.Observable)],c.prototype,"savePlayerOptions",null),i.c([Object(a.e)("/applications/{applicationId}/theme/raw",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getRawStyle",null),i.c([Object(a.e)("/applications/{applicationId}/theme",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.j)("baseUrl")),i.f("design:type",Function),i.f("design:paramtypes",[Number,String]),i.f("design:returntype",s.Observable)],c.prototype,"getAppliedStyle",null),i.c([Object(a.h)("/applications/{applicationId}/theme",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveThemeValues",null),i.c([Object(a.e)("/applications/{applicationId}/campaigns",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getCampaigns",null),i.c([Object(a.g)("/applications/{applicationId}/campaigns",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveCampaigns",null),i.c([Object(a.e)("/users",{auth:"private"}),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",s.Observable)],c.prototype,"getUsers",null),i.c([Object(a.g)("/users",{auth:"private"}),i.g(0,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Object]),i.f("design:returntype",s.Observable)],c.prototype,"addUser",null),i.c([Object(a.h)("/users/{id}",{auth:"private"}),i.g(0,Object(a.i)("id")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"updateUser",null),i.c([Object(a.c)("/users/{id}",{auth:"private"}),i.g(0,Object(a.i)("id")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteUser",null),i.c([Object(a.g)("/users/reset-password/{id}",{auth:"private"}),i.g(0,Object(a.i)("id")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"resetPassword",null),i.c([Object(a.g)("/users/reset-password-link/{id}",{auth:"private"}),i.g(0,Object(a.i)("id")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"resetPasswordLink",null),i.c([Object(a.g)("/account/change-password/",{auth:"private"}),i.g(0,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Object]),i.f("design:returntype",s.Observable)],c.prototype,"changePassword",null),i.c([Object(a.e)("/applications/{applicationId}/forms",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getForms",null),i.c([Object(a.g)("/applications/{applicationId}/forms",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createForm",null),i.c([Object(a.e)("/applications/{applicationId}/forms/{formId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getForm",null),i.c([Object(a.h)("/applications/{applicationId}/forms/{formId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveForm",null),i.c([Object(a.c)("/applications/{applicationId}/forms/{formId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteForm",null),i.c([Object(a.e)("/applications/{applicationId}/forms/{formId}/validations/locales/{localeId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getValidations",null),i.c([Object(a.e)("/applications/{applicationId}/forms/{formIds}/multi-form-validations/locales/{localeId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formIds")),i.g(2,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,String,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getMultiFormValidations",null),i.c([Object(a.g)("/applications/{applicationId}/forms/{formId}/validations",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createValidation",null),i.c([Object(a.c)("/applications/{applicationId}/forms/{formId}/validations/{validationId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("validationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteValidation",null),i.c([Object(a.h)("/applications/{applicationId}/forms/{formId}/validations/{validationId}/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("validationId")),i.g(3,Object(a.i)("localeId")),i.g(4,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveValidation",null),i.c([Object(a.e)("/applications/{applicationId}/forms/{formId}/validation-texts",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.j)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getValidationsTexts",null),i.c([Object(a.g)("/applications/{applicationId}/forms/{formId}/validator-Texts/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("localeId")),i.g(3,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveValidationsTexts",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{type}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("type")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getBadgeForms",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formId}/{type}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getFormDetails",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formId}/badges/{type}/locales/{localeId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getBadges",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formIds}/badges/locales/{localeId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formIds")),i.g(2,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,String,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getMultiFormBadges",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formId}/badges/{type}/locales/{localeId}/{badgeId}",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("localeId")),i.g(4,Object(a.i)("badgeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getBadge",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formId}/badges-texts/{type}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.j)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getBadgeTexts",null),i.c([Object(a.g)("/applications/{applicationId}/badge-forms/{formId}/badge-texts/{type}/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("localeId")),i.g(4,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveBadgeTexts",null),i.c([Object(a.g)("/applications/{applicationId}/badge-forms/{formId}/badges/{type}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createBadge",null),i.c([Object(a.c)("/applications/{applicationId}/badge-forms/{formId}/badges/{type}/{badgeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("badgeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteBadge",null),i.c([Object(a.h)("/applications/{applicationId}/badge-forms/{formId}/badges/{type}/{badgeId}/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("badgeId")),i.g(4,Object(a.i)("localeId")),i.g(5,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveBadge",null),i.c([Object(a.g)("/applications/{id}/analyticsExport/updateSftpConfig",{auth:"private"}),i.g(0,a.b),i.g(1,Object(a.i)("id")),i.f("design:type",Function),i.f("design:paramtypes",[Object,Number]),i.f("design:returntype",s.Observable)],c.prototype,"saveSftpConfig",null),i.c([Object(a.e)("/applications/{id}/analyticsExport/getSftpConfig",{auth:"private"}),i.g(0,Object(a.i)("id")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getSftpConfig",null),i.c([Object(a.e)("/applications/{applicationId}/locales/{localeId}/contents",{auth:"public"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getContents",null),i.c([Object(a.g)("/applications/{applicationId}/locales/{localeId}/contents",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"createContent",null),i.c([Object(a.c)("/contents/{contentId}",{auth:"private"}),i.g(0,Object(a.i)("contentId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"deleteContent",null),i.c([Object(a.h)("/locales/{localeId}/contents",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.g(2,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"updateContent",null),i.c([Object(a.h)("/applicaitons/{applicationId}/timezones",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",s.Observable)],c.prototype,"saveTimeZones",null),i.c([Object(a.e)("/applicaitons/{applicationId}/timezones",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.f("design:type",Function),i.f("design:paramtypes",[Number]),i.f("design:returntype",s.Observable)],c.prototype,"getTimeZones",null),i.c([Object(a.e)("/applications/{applicationId}/badge-forms/{formId}/announcements-texts/{type}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.j)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getAnnouncementTexts",null),i.c([Object(a.g)("/applications/{applicationId}/badge-forms/{formId}/announcements-texts/{type}/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("formId")),i.g(2,Object(a.i)("type")),i.g(3,Object(a.i)("localeId")),i.g(4,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number,Number,Number,Array]),i.f("design:returntype",s.Observable)],c.prototype,"saveAnnouncementTexts",null),i.c([Object(a.e)("/applications/{applicationId}/admin-announcements/locales/{localeId}",{auth:"private"}),i.g(0,Object(a.i)("applicationId")),i.g(1,Object(a.i)("localeId")),i.f("design:type",Function),i.f("design:paramtypes",[Number,Number]),i.f("design:returntype",s.Observable)],c.prototype,"getValidAdminAnnouncements",null),c=i.c([Object(r.Injectable)(),Object(a.d)({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),Object(a.a)("./api/$auth$/admin"),i.g(0,Object(r.Inject)(o.AuthHttp)),i.f("design:paramtypes",[Object])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"b",(function(){return m}));var i;(function(t){t[t.RightTop=1]="RightTop",t[t.RightMiddle=2]="RightMiddle",t[t.RightBottom=3]="RightBottom",t[t.BottomRight=4]="BottomRight",t[t.BottomMiddle=5]="BottomMiddle",t[t.BottomLeft=6]="BottomLeft",t[t.LeftTop=7]="LeftTop",t[t.LeftMiddle=8]="LeftMiddle",t[t.LeftBottom=9]="LeftBottom"})(i||(i={}));var r,o,s,a,c={accentColor:"#4A79E2",foregroundColor:"#FFFFFF",layoutSize:"regular",layoutDesign:"alternative",layoutTheme:"light",launcherIcon:"information",playerPosition:i.BottomRight},u=(r={},r[i.RightTop]={label:"Right Top",bannerClass:"banner-position--right-top",playerClass:"player-position--right-top"},r[i.RightMiddle]={label:"Right Middle",bannerClass:"banner-position--right-middle",playerClass:"player-position--right-middle"},r[i.RightBottom]={label:"Right Bottom",bannerClass:"banner-position--right-bottom",playerClass:"player-position--right-bottom"},r[i.BottomRight]={label:"Bottom Right",bannerClass:"banner-position--bottom-right",playerClass:"player-position--bottom-right"},r[i.BottomMiddle]={label:"Bottom Middle",bannerClass:"banner-position--bottom-middle",playerClass:"player-position--bottom-middle"},r[i.BottomLeft]={label:"Bottom Left",bannerClass:"banner-position--bottom-left",playerClass:"player-position--bottom-left"},r[i.LeftTop]={label:"Left Top",bannerClass:"banner-position--left-top",playerClass:"player-position--left-top"},r[i.LeftMiddle]={label:"Left Middle",bannerClass:"banner-position--left-middle",playerClass:"player-position--left-middle"},r[i.LeftBottom]={label:"Left Bottom",bannerClass:"banner-position--left-bottom",playerClass:"player-position--left-bottom"},r),d={ORIGINAL:"original",ALTERNATIVE:"alternative"},l=(o={},o[d.ORIGINAL]={label:"Original",class:"letznav-design--original"},o[d.ALTERNATIVE]={label:"Alternative",class:"letznav-design--alternative"},o),p={ALTERNATIVE_ONE:"help",ALTERNATIVE_TWO:"information",ALTERNATIVE_THREE:"warning",ALTERNATIVE_FOUR:"asterisk"},f=(s={},s[p.ALTERNATIVE_ONE]={label:"Help",class:"letznav-badge-indicator__icon--help"},s[p.ALTERNATIVE_TWO]={label:"Information",class:"letznav-badge-indicator__icon--info"},s[p.ALTERNATIVE_THREE]={label:"Warning",class:"letznav-badge-indicator__icon--warn"},s[p.ALTERNATIVE_FOUR]={label:"Asterisk",class:"letznav-badge-indicator__icon--asterisk"},s),h={LIGHT:"light",DARK:"dark"},b=(a={},a[h.LIGHT]={label:"Light",class:"letznav-theme--light"},a[h.DARK]={label:"Dark",class:"letznav-theme--dark"},a),m=function(t){var e=[];return t.match(/^(TOP|BOTTOM)/i)?e.push("letznav-arrow-vertical"):e.push("letznav-arrow-horizontal"),t.match(/BOTTOM/i)?(e.push("letznav-target-attached-bottom"),e.push("letznav-element-attached-top")):t.match(/TOP/i)?(e.push("letznav-target-attached-top"),e.push("letznav-element-attached-bottom")):(e.push("letznav-target-attached-middle"),e.push("letznav-element-attached-middle")),t.match(/LEFT/i)?(e.push("letznav-target-attached-left"),e.push("letznav-element-attached-right")):t.match(/RIGHT/i)?(e.push("letznav-target-attached-right"),e.push("letznav-element-attached-left")):(e.push("letznav-target-attached-center"),e.push("letznav-element-attached-center")),e.join(" ")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return s}));var i={previousButton:"Alt + P",nextButton:"Alt + N",customButton:"Alt + J",cancelFlow:"Alt + C",toggleLetznav:"Alt + L"},r=function(t){if(0===t.trim().length)return{error:"Shortcut not defined."};var e=t.split("+").map((function(t){return t.trim().toLowerCase()})),n={key:e[e.length-1],ctrl:!1,shift:!1,alt:!1};if(!n.key.match(/^[a-z]$/))return{error:"Shortcut needs to have key A-Z."};if(e.length<2)return{error:"Shortcut needs to have at least one modifier (Ctrl, Shift, Alt)."};for(var i=0,r=e.slice(0,e.length-1);i<r.length;i++){var o=r[i];if(!o.match(/^ctrl|alt|shift$/))return{error:'Invalid token in the shortcut "'+o+'".'};n[o]=!0}return n},o=function(t){return(t.ctrl?"ctrl+":"")+(t.shift?"shift+":"")+(t.alt?"alt+":"")+t.key},s=function(t){if("string"!=typeof t.key)return"erroneous event";var e="";return t.ctrlKey&&(e+="ctrl+"),t.shiftKey&&(e+="shift+"),t.altKey&&(e+="alt+"),e+=t.key,e=e.toLowerCase()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="@ngrx/store/init"},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(19),s=n(43),a=n(31),c=n(117),u=(function(){function t(t){this.store=t}return t.prototype.canActivateChild=function(t,e){var n=this;return this.store.select((function(t){return t})).skipWhile((function(t){return Object(s.a)(t)})).take(1).map(s.e).map((function(e){for(var i=0,r=Object(c.b)(t);i<r.length;i++){var s=r[i],a=(function(t){var i=t.data.restricted;if(i&&e.some((function(t){return i.indexOf(t)>=0})))return n.store.dispatch(Object(o.b)(t.data.restrictedRedirection||"/")),{value:!1}})(s);if("object"==typeof a)return a.value}return!0}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(31)),a=n(60),c=n(43),u=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new o.Subject,this.errorMessage=this.store.select(c.c).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.logIn=function(){this.store.dispatch(Object(a.l)(this.username,this.password))},t})();u=i.c([Object(r.Component)({selector:"account-login",template:n(432)}),i.f("design:paramtypes",[s.a])],u)},function(t,e,n){"use strict";var i=n(171);n.d(e,"a",(function(){return i.a}));var r=n(435);n.d(e,"d",(function(){return r.b})),n.d(e,"c",(function(){return r.a}));var o=n(436);n.d(e,"b",(function(){return o.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(70),s=n(6),a=(n.n(s),n(31)),c=n(118),u=n(433),d=n(115),l=(function(){function t(t,e){this.store=t,this.route=e,this.password=null,this.passwordAgain=null}return Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.password&&this.password.match(d.S)?this.password!==this.passwordAgain&&"Passwords must match.":"Password must consists of at least 8 non-space characters."},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouched",{get:function(){return null!==this.password||null!==this.passwordAgain},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.resetLinkResult=this.store.select(u.c),this.resetDone=this.store.select(u.b),this.redirectToAdmin=this.store.select(u.a),this.route.params.subscribe((function(e){return t.link=e.resetLink}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(c.h)())},t.prototype.changePassword=function(){this.store.dispatch(Object(c.e)(this.link,this.password))},t})();l=i.c([Object(r.Component)({selector:"account-reset-password",template:n(434)}),i.f("design:paramtypes",[a.a,o.a])],l)},function(t,e,n){"use strict";var i=n(173);n.d(e,"a",(function(){return i.a}));var r=n(439);n.d(e,"c",(function(){return r.a})),n.d(e,"d",(function(){return r.b}));var o=n(440);n.d(e,"b",(function(){return o.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(31)),a=n(119),c=n(437),u=(function(){function t(t){this.store=t,this.username=null}return Object.defineProperty(t.prototype,"isTouched",{get:function(){return null!==this.username},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngUnsubscribe=new o.Subject,this.resetLinkSentResult=this.store.select(c.b).takeUntil(this.ngUnsubscribe),this.resetLinkSendingStarted=this.store.select(c.a).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(a.h)())},t.prototype.sendResetLink=function(){this.store.dispatch(Object(a.e)(this.username,window.location.origin))},t})();u=i.c([Object(r.Component)({selector:"account-forgotten-password",template:n(438)}),i.f("design:paramtypes",[s.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(19),s=n(31),a=n(35),c=n(60),u=n(43),d=(function(){function t(t,e){this._store=t,this._service=e}return t.prototype.canActivateChild=function(t){var e=this;return this._store.select((function(t){return t})).skipWhile((function(t){return Object(u.a)(t)})).take(1).switchMapCorx((function(n){var r=(n.get,n.put);return i.b(e,void 0,void 0,(function(){var e,n,s=this;return i.e(this,(function(i){switch(i.label){case 0:return[4,this._service.isAuthenticated()];case 1:return e=i.sent(),e||(n=t.pathFromRoot.map((function(t){return s.mapUrl(t.url)})).join("/"),this._store.dispatch(Object(c.q)(n)),this._store.dispatch(Object(o.b)("/login"))),[4,r(e)];case 2:return i.sent(),[2]}}))}))}))},t.prototype.mapUrl=function(t){return t.map((function(t){return t.path})).join("/")},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,a.a])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=(function(){function t(){}return t})()},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n(449),r=function(t){return t.PickCustomContent},o=function(t){return r(t).uploadedContent},s=function(t){return r(t).type},a=function(t){return r(t).isUploadEnabled},c=function(t){return Object(i.c)(o(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="peristant_state_fraction"},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s}));var i=function(t){return t.elementPicker},r=function(t){return i(t).isPicking},o=function(t){return i(t).pickerId},s=function(t){return i(t).pickedElement}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i;(function(t){t[t.Inactive=0]="Inactive",t[t.StepView=1]="StepView",t[t.Player=2]="Player"})(i||(i={}));var r;(function(t){t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Custom=3]="Custom",t[t.Cancel=4]="Cancel",t[t.End=5]="End"})(r||(r={}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return b}));var i=n(99),r=n(56),o=n(29),s=function(t){return t.flowIntegrity},a=function(t){var e=r.a.selectStep(t);return e?s(t).steps.findIndex((function(t){return t.id===e.id})):null},c=function(t){return s(t).steps[a(t)]},u=function(t,e){for(var n=e;n>=0&&!t.steps[n].isMilestone;)--n;return t.steps[n]||null},d=function(t){return t.containers!==o.a.NotPresent&&0===t.pivots.filter((function(t){return t===o.a.NotPresent})).length},l=function(t){return(c(t)||{pivots:null}).pivots},p=function(t){var e=a(t),n=s(t),i=n.steps[e];if(!i||i.pivots&&i.pivots.length>0)return[];for(var o=e-1;o>=0&&!n.steps[o].isMilestone;)--o;if(o<0)return[];var c=n.steps.filter((function(t,n){return n!==e&&(t.isMilestone||n===e-1)&&d(t)})),u=r.a.selectSteps(t);return c.map((function(t){return u.find((function(e){return e.id===t.id}))}))},f=function(t){return s(t).steps.filter((function(t){return t.isMilestone&&t.containers===o.a.Present&&t.pivots.every((function(t){return t===o.a.Present}))})).map((function(t){return t.id}))},h=function(t){var e=s(t),n=a(t);if(null===n)return!1;var i=u(e,n);return!i||i.pivots.every((function(t){return t===o.a.Present}))},b=function(t){var e=Object(i.k)(t);return!h(t)&&e.isMilestone&&e.pivotElements.length>0}},function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return c}));var i=n(616),r=n.n(i),o=function(t){var e=t.match(/(\?|&)[^#]*/);return e?{uri:t.replace(e[0],""),query:r.a.parse(e[0])}:{uri:t,query:{}}},s=function(t,e){var n=o(t);return function(t){if(!t)return!1;var i=t.startsWith("http://")||t.startsWith("https://"),r=i?t:e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""),s=o(r);return!!n.uri.startsWith(s.uri)&&Object.keys(s.query).every((function(t){var e=s.query[t],i=n.query[t];return e===i||"*"===e&&void 0!==i}))}},a=function(t,e){return e&&-1!==e.findIndex((function(e){return e.id===t}))},c=function(t,e){return e&&-1!==e.findIndex((function(e){return e.id===t}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(3),r=Object(i.P)("LOAD_PLAYER_RESOURCES"),o=Object(i.P)("SET_PLAYER_RESOURCES")},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return l}));var i=n(3),r=function(t){return"BUBBLE_PREVIEW_"+t},o=Object(i.P)(r("LOAD_THEME")),s=r("UPDATE_METADATA"),a=function(t){return{type:s,payload:t}},c=r("SET_BUBBLE_ACTIVE"),u=function(t){return{type:c,payload:t}},d=r("BUBBLE_ACTION_INVOKED"),l=function(t){return{type:d,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(3),r=function(t){return"FLOW_LIST_"+t},o=Object(i.P)(r("LOAD_FLOWS")),s=r("SET_SEARCH"),a=function(t){return{type:s,payload:t}}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(22)),a=(function(t){function e(e){var n=t.call(this)||this;return n._ngZone=e,n._responses=new Map,n._messageId=0,n._messages=new o.Subject,window.addEventListener("message",n.onMessage.bind(n),!1),n}return i.d(e,t),Object.defineProperty(e.prototype,"messages",{get:function(){return this._messages.map((function(t){return t.message}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messagesResponse",{get:function(){return this._messages},enumerable:!0,configurable:!0}),e.prototype.getWindows=function(){for(var t=[],e=[window.top];e.length>0;){var n=e.pop();t.push(n);for(var i=0;i<n.frames.length;i++)e.push(n.frames[i])}return t},e.prototype.sendMessage=function(t,e){var n=this;return void 0===e&&(e=!1),new Promise(function(i,r){var o=++n._messageId;if(e){var s=function(t){n._ngZone.run((function(){return i(t)}))};n._responses.set(o,{responseCallback:s})}var a={LETZNAV_IDENT:"letznav_messages",id:o,message:t,needResponse:e,isResponse:!1};if(window.self===window.top)for(var c=n.getWindows(),u=0;u<c.length;u++)try{c[u].postMessage(a,"*")}catch(t){}else try{window.top.postMessage(a,"*")}catch(t){}e||i(null)})},e.prototype.sendMessageTab=function(t,e,n){throw void 0===n&&(n=!1),new Error("Not supported")},e.prototype.ofType=function(t){return this.messages.filter((function(e){return e.type===t}))},e.prototype.ofTypeResponse=function(t){return this._messages.filter((function(e){return e.message.type===t}))},e.prototype.onMessage=function(t){var e=this;if("letznav_messages"===t.data.LETZNAV_IDENT){var n=t.data,i=n.id,r=n.message,o=n.needResponse;if(n.isResponse){var s=this._responses.get(i);return void(s&&(this._responses.delete(i),s.responseCallback(r)))}var a=null;o&&(a=function(e){var n={LETZNAV_IDENT:"letznav_messages",id:i,isResponse:!0,message:e};try{t.source.postMessage(n,"*")}catch(t){}}),this._ngZone.run((function(){return e._messages.next({message:r,sendResponse:a,sender:t.source})}))}},e})(s.a);a=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[r.NgZone])],a)},,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(22)),a=(function(t){function e(e){var n=t.call(this)||this;return n._ngZone=e,n._messages=new o.Subject,chrome.runtime.onMessage.addListener(n.onMessage.bind(n)),n}return i.d(e,t),Object.defineProperty(e.prototype,"messages",{get:function(){return this._messages.map((function(t){return t.message}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messagesResponse",{get:function(){return this._messages},enumerable:!0,configurable:!0}),e.prototype.sendMessage=function(t,e){return void 0===e&&(e=!1),this.sendMessageTab(null,t,e)},e.prototype.sendMessageTab=function(t,e,n){var i=this;return void 0===n&&(n=!1),new Promise(function(r,o){var s=function(t){i._ngZone.run((function(){return r(t)}))};null===t?chrome.runtime.sendMessage(e,n?s:null):chrome.tabs.sendMessage(t,e,n?s:null),n||r(null)})},e.prototype.ofType=function(t){return this.messages.filter((function(e){return e.type===t}))},e.prototype.ofTypeResponse=function(t){return this._messages.filter((function(e){return e.message.type===t}))},e.prototype.onMessage=function(t,e,n){var i=this;return this._ngZone.run((function(){return i._messages.next({message:t,sendResponse:n,sender:e})})),!0},e})(s.a);a=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[r.NgZone])],a)},function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"l",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"k",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"d",(function(){return m}));var i=n(3),r=function(t){return"PICK_CUSTOM_CONTENT_"+t},o=Object(i.P)(r("LOAD_CUSTOM_CONTENT")),s=r("UPDATE_CONTENT_TYPE"),a=function(t){return{type:s,payload:t}},c=r("CLEAR_UPLOADED_CONTENT"),u=function(){return{type:c}},d=r("CLEAR_CONTENT_TYPE"),l=function(){return{type:d}},p=r("EDIT_CONTENT"),f=function(t){return{type:p,payload:t}},h=r("CHANGE_UPLOAD_STATUS"),b=function(t){return{type:h,payload:t}},m=Object(i.P)(r("CREATE_CONTENT"))},,,,function(t,e,n){"use strict";var i=n(603);n.d(e,"a",(function(){return i.a}));var r=n(134);n.d(e,"b",(function(){return r.a}));var o=n(1165);n.d(e,"c",(function(){return o.a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"g",(function(){return l}));var i=function(t){return"ELEMENT_PICKER_"+t},r=i("ACTIVATE_PICKER"),o=function(t){return{type:r,payload:t}},s=i("SET_PICKER_ID"),a=function(t){return{type:s,payload:t}},c=i("CANCEL_PICKER"),u=function(){return{type:c}},d=i("ELEMENT_SELECTED"),l=function(t,e,n,i){return{type:d,payload:{element:t,pickedElementType:e,uriHash:n,label:i}}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(t){return t.frame},r=function(t){return i(t).panelVisible},o=function(t){return i(t).bannerVisible}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=(function(t){return"FRAME_"+t})("CHANGE_VISIBLITY"),r=function(t){return{type:i,payload:t}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return c}));var i=n(1234),r=n(1236),o=n(1238);n.d(e,"e",(function(){return o.a})),n.d(e,"f",(function(){return o.b}));var s=n(334);n.d(e,"b",(function(){return s.d})),n.d(e,"c",(function(){return s.e}));var a=n(1239);n.d(e,"a",(function(){return a.a}));var c=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return d}));var i=n(3),r=function(t){return"FLOW_FEEDBACK_"+t},o=Object(i.P)(r("SEND_FEEDBACK")),s=Object(i.P)(r("SHOW_FEEDBACK")),a=r("CHANGE_FEEDBACK"),c=function(t){return{type:a,payload:t}},u=r("CANCEL_FEEDBACK"),d=function(){return{type:u}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(3),r=function(t){return"PLAYER_EVENTS_"+t},o=Object(i.P)(r("SEND_PLAYER_EVENT")),s=Object(i.P)(r("LOAD_CUSTOM_ACTIONS")),a=function(t){return o.init(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return c}));var i=n(3),r=function(t){return"CHANGE_LANGUAGE_"+t},o=Object(i.P)(r("LOAD_LANGUAGE")),s=Object(i.P)(r("SAVE_LANGUAGE")),a=r("CHANGE_LANGUAGE"),c=function(t){return{type:a,payload:t}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return p}));var i=n(1264),r=n(1266),o=n(1268),s=n(1270),a=n(140),c=n(83);n.d(e,"b",(function(){return c.c}));var u=n(1272);n.d(e,"d",(function(){return u.a})),n.d(e,"f",(function(){return u.b}));var d=n(1273);n.d(e,"a",(function(){return d.a}));var l=[i.a,o.a,r.a,s.a],p={selectCustomContent:a.b}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u}));var i=function(t){return"FLOW_INTEGRITY_"+t},r=i("SET_INTEGRITY_STATE"),o=function(t){return{type:r,payload:t}},s=i("PUSH_INTEGRITY_STATE"),a=function(t){return{type:s,payload:t}},c=i("CLEAR_INTEGRITY_STATE"),u=function(){return{type:c}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return u}));var i=n(3),r=function(t){return"STEP_VIEW_"+t},o=Object(i.P)(r("SAVE_FLOW")),s=r("SET_EDIT_FLOW"),a=function(t,e){return void 0===e&&(e=null),{type:s,payload:{flow:t,validationIssues:e}}},c=r("UPDATE_FLOW"),u=function(t){return{type:c,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return p}));var i=n(10),r=(n.n(i),n(21)),o="editForm.form",s=function(t){return t.editForm},a=function(t){return s(t).form},c=function(t){var e=s(t);return e.form.formIdentification&&e.form.formIdentification.length>0},u=function(t){return s(t).isSaving||Object(r.h)(t)},d=function(t){var e=s(t);return!Object(i.isEqual)(e.form,e.initialForm)&&e.form.id>0},l=function(t){return s(t).isSaving},p=function(t){return s(t).initialForm}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"b",(function(){return f}));var i=n(10),r=(n.n(i),n(45)),o=n(21),s="validation.validation",a=function(t){return t.validation},c=function(t){return a(t).validation},u=function(t){return a(t).isSaving},d=function(t){return a(t).isSaving||Object(o.h)(t)},l=function(t){return Object(r.b)(t)},p=function(t){var e=a(t);return!e.ignoreSaving&&!Object(i.isEqual)(e.validation,e.validationInitial)},f=function(t){return a(t).deleteOnCancel}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(3),r=function(t){return"BADGE_FORM_LIST_"+t},o=Object(i.P)(r("LOAD_FORMS")),s=r("SET_SEARCH"),a=function(t){return{type:s,payload:t}}},function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(654),r=n(655);n.d(e,"b",(function(){return i.a})),n.d(e,"d",(function(){return r.a}));var o=n(1392);n.d(e,"f",(function(){return o.a})),n.d(e,"g",(function(){return o.b}));var s=n(102);n.d(e,"h",(function(){return s.b}));var a=n(1393);n.d(e,"c",(function(){return a.a}));var c=n(1394);n.d(e,"a",(function(){return c.a}));var u=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return l}));var i=n(3),r=function(t){return"PICK_FLOW_AND_STEP_"+t},o=Object(i.P)(r("FILTER_FLOWS")),s=r("TURN_ON_FILTER"),a=function(){return{type:s}},c=r("TURN_OFF_FILTER"),u=function(){return{type:c}},d=r("UPDATE_FLOW_MILESTONES_CACHE"),l=function(t){return{type:d,payload:t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"i",(function(){return b}));var i=n(10),r=(n.n(i),n(45)),o=n(659),s=function(t){return t.badge},a=function(t){return s(t).badge},c=function(t){return s(t).badgeInitial},u=function(t){return s(t).isSaving},d=function(t){return s(t).isSaving||Object(r.b)(t)},l=function(t){return Object(r.b)(t)},p=function(t){var e=s(t);return!e.ignoreSaving&&!Object(i.isEqual)(e.badge,e.badgeInitial)},f=function(t){return s(t).timezones},h=function(t){return s(t).deleteOnCancel},b=function(t){return Object(o.b)(t,a(t))}},function(t,e,n){"use strict";var i=n(1447);n.d(e,"a",(function(){return i.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(346),s=n(1473),a=n(348),c=(function(){function t(t){this.configuration=t,this.selectors=[],this.configuration.config$.subscribe(this.onConfig.bind(this))}return t.prototype.getConfiguredSelector=function(){var t=new s.a;return this.selectors.push(t),t},t.prototype.onConfig=function(t){var e=t.config,n=t.hardConfig,i=n.ignoreSelectorIdFunction,r=n.ignoreSelectorClassFunction,o=n.ignoreSelectorAttributeFunction,s=this.unpackCustomConfig(e),a=s.ignoreIdC,c=s.ignoreClassC,u=s.ignoreAttributeC,d={ignore:{class:function(t){return!!t.startsWith("tether")||(!(!r||!r(t))||!(!c||!c(t)))},attribute:function(t,e){if("id"===t.toLowerCase()){if(i&&i(e))return!0;if(a&&a(e))return!0}return!(!o||!o(t,e))||!(!u||!u(t,e))}}};n.atributePriority&&n.atributePriority.length&&(d.priority=n.atributePriority);for(var l={ignoreSVG:n.ignoreSVG},p=0,f=this.selectors;p<f.length;p++){var h=f[p];h.selectorOptions=d,h.advancedOptions=l}},t.prototype.unpackCustomConfig=function(t){var e=t.customConfig,n=null,i=null,r=null;try{n=Object(o.a)(e.ignoreSelectorIdFunction),i=Object(o.a)(e.ignoreSelectorClassFunction),r=Object(o.a)(e.ignoreSelectorAttributeFunction)}catch(t){console.error("Cannot unpack custom config",t)}return{ignoreIdC:n,ignoreClassC:i,ignoreAttributeC:r}},t})();c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(22)),a=n(28),c=n(3),u=n(346),d=(function(){function t(t){this.messages=t,this._config=new o.BehaviorSubject({config:c.J,hardConfig:{key:"unknown",applicationName:"Unknown"}}),this._playerShortcuts=new o.BehaviorSubject(c.K),this.messages.ofType(a.a.ApplicationConfig).subscribe(this.onApplicationConfig.bind(this)),this.messages.ofType(a.a.PlayerShortcuts).subscribe(this.onPlayerShortcuts.bind(this)),this.retrieveConfig()}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config$",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playerShortcuts$",{get:function(){return this._playerShortcuts},enumerable:!0,configurable:!0}),t.prototype.retrieveConfig=function(){return i.b(this,void 0,void 0,(function(){var t,e,t,n;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.messages.sendMessage({type:a.a.GetApplicationConfig},!0)];case 1:return t=i.sent(),this.onApplicationConfig(t),[3,3];case 2:return e=i.sent(),console.error(e),[3,3];case 3:return i.trys.push([3,5,,6]),[4,this.messages.sendMessage({type:a.a.GetPlayerShortcuts},!0)];case 4:return t=i.sent(),this.onPlayerShortcuts(t),[3,6];case 5:return n=i.sent(),console.error(n),[3,6];case 6:return[2]}}))}))},t.prototype.onApplicationConfig=function(t){t&&t.config&&t.hardConfig&&this._config.next({config:t.config,hardConfig:Object(c.M)(t.hardConfig,u.a)})},t.prototype.onPlayerShortcuts=function(t){this._playerShortcuts.next(t.config)},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(22),s=n(28),a=n(64),c=n(88),u=(function(){function t(t,e,n){var i=this;this.messages=t,this.observer=e,this.document=n,this.maxZIndex=Number.MIN_SAFE_INTEGER,this.lastZIndex=Number.MIN_SAFE_INTEGER,this.isZIndexValid=!1,this.observer.domChanged.debounceTime(100).subscribe((function(){return i.broadCastZIndex()})),this.observer.domChanged.subscribe((function(){return i.isZIndexValid=!1}))}return t.prototype.getCurrentMaxZIndex=function(){return this.isZIndexValid||(this.lastZIndex=this.document.getMaxZIndex(),this.isZIndexValid=!0),this.lastZIndex},t.prototype.broadCastZIndex=function(){var t=this.getCurrentMaxZIndex();t<=this.maxZIndex||(this.maxZIndex=t,this.messages.sendMessage({type:s.a.zIndexChanged,zIndex:t}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.a,c.a])],u)},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(22),s=n(64),a=n(28),c=n(142),u="crx_pivot_highlight",d=(function(){function t(t,e,n){var i=this;this.messages=t,this.observer=e,this.elementTracking=n,this.pivotsHighlighted=!1,this.highlightedPivot=null,this.highlightedPivots=[],this.messages.ofType(a.a.SetFormData).subscribe(this.onSetOrUpdateFormData.bind(this)),this.messages.ofType(a.a.UpdateFormData).subscribe(this.onSetOrUpdateFormData.bind(this)),this.messages.ofType(a.a.ClearFormData).subscribe(this.clearState.bind(this)),this.messages.ofType(a.a.ShowPivot).subscribe(this.onShowPivot.bind(this)),this.messages.ofType(a.a.HidePivot).subscribe(this.onHidePivot.bind(this)),this.messages.ofType(a.a.RecheckForms).subscribe(this.onCheckForms.bind(this)),this.observer.domChanged.debounceTime(50).subscribe((function(){i.checkState()})),this.messages.sendMessage({type:a.a.RequestFormData})}return t.prototype.onCheckForms=function(){this.checkState(!0)},t.prototype.checkFormState=function(){var t=this,e=!1;return this.formState.forEach((function(n){t.elementTracking.checkFramePath(n.identification)&&(e=t.elementTracking.checkElementState(n)||e)})),e},t.prototype.checkState=function(t){if(this.formState){(this.checkFormState()||t)&&this.messages.sendMessage({type:a.a.UpdateFormState,formState:this.formState.map((function(t){return t.checkState}))})}},t.prototype.clearState=function(){this.formState=null},t.prototype.onSetOrUpdateFormData=function(t){this.formState=(t.form||[]).map(c.a.mapElementToState),this.checkState(!0)},t.prototype.onShowPivot=function(t){this.highlightedPivot=Number.isInteger(t.pivotIndex)?t.pivotIndex:null,this.pivotsHighlighted=!0,this.checkPivotsHighlight()},t.prototype.onHidePivot=function(){this.pivotsHighlighted=!1,this.checkPivotsHighlight()},t.prototype.checkPivotsHighlight=function(){var t=this;if(this.pivotsHighlighted){var e=[];this.formState&&(e=this.formState.map((function(t){return t.element})),null!==this.highlightedPivot&&this.highlightedPivot<e.length&&(e=[e[this.highlightedPivot]])),(e.length!==this.highlightedPivots.length||e.some((function(e,n){return t.highlightedPivots[n]!==e})))&&(this.highlightedPivots.forEach((function(t){return t&&t.classList.remove(u)})),this.highlightedPivots=e,this.highlightedPivots.forEach((function(t){return t&&t.classList.add(u)})))}else this.highlightedPivots.length&&(this.highlightedPivots.forEach((function(t){return t&&t.classList.remove(u)})),this.highlightedPivots=[])},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.a,c.a])],d)},function(t,e,n){"use strict";function i(t,e){return l[+t.type](t,e)}function r(t,e,n){var i=!1;try{switch(e){case s.o.Equal:i=n===t;break;case s.o.NotEqual:i=n!==t;break;case s.o.Regex:var r=void 0;try{r=new RegExp(t)}catch(t){}i=r&&r.test(n);break;case s.o.Contains:i=n.includes(t)}}catch(t){console.error("Value Cannot Be Compared ",t)}return i}function o(t,e){var n=null;if(e.checkContainersScore(t.containers))try{n=document.querySelector(t.selector)}catch(t){}return n}e.b=i,e.a=r,e.c=o;var s=n(3),a=n(1484),c=n(1485),u=n(1486),d=n(1487),l={};l[+s.p.ElementPresence]=a.a,l[+s.p.LabelComparison]=c.a,l[+s.p.InputFieldComparison]=u.a,l[+s.p.CustomScript]=d.a},,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function n(t){return Promise.resolve().then((function(){throw new Error("Cannot find module '"+t+"'.")}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=375},,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var i=n(0),r=n(1),o=n(41),s=n(47),a=n(58),c=(n.n(a),n(59)),u=n(16),d=(n.n(u),n(397)),l=n(398),p=n(399),f=n(401),h=n(403),b=n(405),m=n(406),g=n(161),v=n(162),y=n(163),O=n(409),j=n(410),E=n(411),S=n(164),w=[];w.push(n(574).ColorPickerModule);var I=(function(){function t(){}return t})();I=i.c([Object(r.NgModule)({imports:[o.b,s.d,s.i,c.h,c.b,c.j,c.a].concat(w),declarations:[d.a,l.a,p.a,f.a,h.a,b.a,m.a,v.a,y.a,j.a,E.a,O.a],exports:[d.a,l.a,p.a,f.a,h.a,b.a,m.a,j.a,E.a,O.a],providers:[a.AUTH_PROVIDERS,S.a,g.a],entryComponents:[v.a,y.a]})],I)},,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(47),s=n(6),a=(n.n(s),n(160)),c=u=(function(){function t(t,e){var n=this;this.BASE_URL=t,this.ngZone=e,this.keydown=new r.EventEmitter,this.uiHidden=!1,this._isImageEnabled=new s.BehaviorSubject(!1),this._disabled=new s.BehaviorSubject(!1),this.propagateChange=function(t){},this._disabled.filter((function(){return!!n.editor})).subscribe(this.setDisabled.bind(this))}return Object.defineProperty(t.prototype,"content",{get:function(){return this.editor?this.editor.getContent():null},set:function(t){this.editor&&this.editor.setContent(t||""),this.propagateChange(this.content)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled.value},set:function(t){this._disabled.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isImageEnabled",{set:function(t){this._isImageEnabled.next(t)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.writeValue=function(t){this.editor?this.editor.setContent(t||""):this.tmpContent=t},t.prototype.toggleUi=function(){this.uiHidden=!this.uiHidden;var t=this.editor.$(this.editor.contentAreaContainer.parentElement),e=t.find("div.mce-toolbar-grp"),n=t.find("div.mce-statusbar");this.uiHidden?(e.hide(),n.hide()):(e.show(),n.show())},t.prototype.ngAfterViewChecked=function(){var t=this;this.editor||tinymce.init({selector:"#"+this.elementId,plugins:this.getTinyMCEPlugins(),skin_url:this.BASE_URL+"assets/skins/lightgray",content_css:this.BASE_URL+"assets/skins/letznav.css",menubar:!1,force_br_newlines:!1,force_p_newlines:!1,default_link_target:"_blank",link_context_toolbar:!0,link_assume_external_targets:!0,setup:function(e){t.editor=e,t.tmpContent&&(t.editor.setContent(t.tmpContent),t.tmpContent=null),e.on("keydown",(function(e){t.ngZone.run((function(){return t.keydown.emit(e)}))})),e.on("keyup",(function(){var n=e.getContent();t.ngZone.run((function(){return t.propagateChange(n)}))})),e.on("change",(function(){var n=e.getContent();t.ngZone.run((function(){return t.propagateChange(n)}))})),e.on("init",(function(){var n=e.$(e.contentAreaContainer.parentElement),i=n.find("div.mce-toolbar-grp"),r=n.find("div.mce-statusbar");i.hide(),r.hide(),t.uiHidden=!0,t.setDisabled()}))}})},t.prototype.ngOnDestroy=function(){this.editor&&tinymce.remove(this.editor)},t.prototype.setDisabled=function(){this.disabled?this.editor.setMode("readonly"):this.editor.setMode("design")},t.prototype.getTinyMCEPlugins=function(){return this._isImageEnabled.value?["link","paste","table","image"]:["link","paste","table"]},t})();i.c([Object(r.Input)(),i.f("design:type",String)],c.prototype,"elementId",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],c.prototype,"name",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"keydown",void 0),i.c([Object(r.Input)(),i.f("design:type",String),i.f("design:paramtypes",[String])],c.prototype,"content",null),i.c([Object(r.Input)(),i.f("design:type",Boolean),i.f("design:paramtypes",[Boolean])],c.prototype,"disabled",null),i.c([Object(r.Input)(),i.f("design:type",Boolean),i.f("design:paramtypes",[Boolean])],c.prototype,"isImageEnabled",null),c=u=i.c([Object(r.Component)({selector:"rich-text-editor",template:'\n  <textarea name="{{name}}" id="{{elementId}}">\n  </textarea>\n  <a (click)="toggleUi()" class="mdi mdi-format-text input-rich-text-toolbar"></a>',providers:[{provide:o.f,useExisting:Object(r.forwardRef)((function(){return u})),multi:!0}]}),i.g(0,Object(r.Inject)(a.a)),i.f("design:paramtypes",[String,r.NgZone])],c);var u},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(t,e){var n=this;this.elRef=t,this.renderer=e,this.contentChangeEvent=new r.EventEmitter,this.discardEditEvent=new r.EventEmitter,this.unsubscribeKeyDown=this.renderer.listen(this.elRef.nativeElement,"keydown",(function(t){return n.keyDown(t)})),this.unsubscribeBlur=this.renderer.listen(this.elRef.nativeElement,"blur",(function(t){return n.blur(t)}))}return Object.defineProperty(t.prototype,"contentChange",{get:function(){return this.contentChangeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discardEdit",{get:function(){return this.discardEditEvent},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if(t.hasOwnProperty("editable")){t.editable.currentValue?(this.elRef.nativeElement.contentEditable=!0,this.elRef.nativeElement.focus()):this.elRef.nativeElement.contentEditable=!1}if(t.hasOwnProperty("content")){var e=t.content;this.elRef.nativeElement.innerText=e.currentValue}if(t.hasOwnProperty("title")){var n=t.title;this.elRef.nativeElement.title=n.currentValue}},t.prototype.ngOnDestroy=function(){this.unsubscribeKeyDown(),this.unsubscribeBlur()},t.prototype.keyDown=function(t){"Enter"===t.key?(this.contentChangeEvent.emit(this.elRef.nativeElement.innerText),t.stopPropagation()):"Escape"===t.key&&(this.discardEditEvent.emit(),this.elRef.nativeElement.innerText=this.content,t.stopPropagation())},t.prototype.blur=function(t){this.elRef.nativeElement.innerText!==this.content&&(this.contentChangeEvent.emit(this.elRef.nativeElement.innerText),t.stopPropagation())},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"editable",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"content",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"title",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter),i.f("design:paramtypes",[])],o.prototype,"contentChange",null),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter),i.f("design:paramtypes",[])],o.prototype,"discardEdit",null),o=i.c([Object(r.Component)({selector:"editable-span",template:"<span></span>"}),i.f("design:paramtypes",[r.ElementRef,r.Renderer])],o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.collapsed=!0,this.toggledEvent=new r.EventEmitter,this.isCollapsed=this.collapsed}return Object.defineProperty(t.prototype,"toggled",{get:function(){return this.toggledEvent},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if(t.hasOwnProperty("collapsed")){var e=t.collapsed;this.isCollapsed=e.currentValue,void 0!==e.previousValue&&this.toggledEvent.emit(this.collapsed)}},t.prototype.toggle=function(){this.disabled||(this.isCollapsed=!this.isCollapsed,this.toggledEvent.emit(this.isCollapsed))},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"collapsed",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"title",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"icontype",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter),i.f("design:paramtypes",[])],o.prototype,"toggled",null),o=i.c([Object(r.Component)({selector:"collapsable-panel",template:n(400)}),i.f("design:paramtypes",[])],o)},function(t,e){t.exports='<div class="collapsable-panel" [class.disabled]="disabled">\n  <div class="panel-header" (click)="toggle()">\n    <span class="panel-header__title">\n      <i class="panel-header__caret mdi mdi-{{ icontype }}" [class.mdi-chevron-right]="isCollapsed" [class.mdi-chevron-down]="!isCollapsed"></i>\n      {{ title }}\n    </span>\n  </div>\n  <div class="panel-content" [class.collapsed]="isCollapsed" [class.expanded]="!isCollapsed">\n    <ng-content></ng-content>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(47),s=(function(){function t(){this.timeZoneChange=new r.EventEmitter,this.myControl=new o.b}return Object.defineProperty(t.prototype,"timeZone",{get:function(){return this.defaultOption},set:function(t){this.defaultOption=t,this.timeZoneChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.options=this.options||[],this.filteredOptions=this.myControl.valueChanges.map((function(e){return t.filter(e)}))},t.prototype.filter=function(t){return this.options.filter((function(e){return e.toLowerCase().includes(t.toLowerCase())}))},t.prototype.onUpdate=function(t){this.timeZoneChange.emit(t)},t})();i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"options",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],s.prototype,"timeZoneChange",void 0),i.c([Object(r.ViewChild)("auto"),i.f("design:type",r.ElementRef)],s.prototype,"auto",void 0),i.c([Object(r.Input)(),i.f("design:type",String),i.f("design:paramtypes",[String])],s.prototype,"timeZone",null),s=i.c([Object(r.Component)({selector:"autocomplete-component",template:n(402)})],s)},function(t,e){t.exports='<div class="input-component">\n  <input type="text" placeholder="Select timeZone" aria-label="Number"  [ngModel]="defaultOption"  mdInput [formControl]="myControl" [mdAutocomplete]="auto">\n  <md-autocomplete   #auto="mdAutocomplete">\n    <md-option  *ngFor="let option of filteredOptions | async" [value]="option"  (onSelectionChange)="onUpdate(option)">\n      {{ option }}\n    </md-option>\n  </md-autocomplete>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.collapsed=!0,this.toggledEvent=new r.EventEmitter,this.isCollapsed=this.collapsed}return Object.defineProperty(t.prototype,"toggled",{get:function(){return this.toggledEvent},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if(t.hasOwnProperty("collapsed")){var e=t.collapsed;this.isCollapsed=e.currentValue,void 0!==e.previousValue&&this.toggledEvent.emit(this.collapsed)}},t.prototype.toggle=function(){this.disabled||(this.isCollapsed=!this.isCollapsed,this.toggledEvent.emit(this.isCollapsed))},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"collapsed",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"title",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"icontype",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter),i.f("design:paramtypes",[])],o.prototype,"toggled",null),o=i.c([Object(r.Component)({selector:"collapsable-panel-admin",template:n(404)}),i.f("design:paramtypes",[])],o)},function(t,e){t.exports='<div class="collapsable-panel" [class.collapsed]="isCollapsed" [class.expanded]="!isCollapsed" [class.disabled]="disabled">\n  <div class="panel-header" (click)="toggle()">\n    <span class="panel-header__title">\n      <i class="panel-header__title__icon panel-header__title__icon-{{ icontype }}"></i>\n      {{ title }}\n    </span>\n    <i class="panel-header__caret mdi" [class.mdi-chevron-right]="isCollapsed" [class.mdi-chevron-down]="!isCollapsed"></i>\n  </div>\n  <div class="panel-content">\n    <ng-content></ng-content>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this._style=""}return Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(t){this._style!==t&&(this._style=t,this.styleElement&&(this.styleElement.innerHTML=this._style))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.styleElement=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(this.styleElement),this.styleElement.innerHTML=this._style},t.prototype.ngOnDestroy=function(){this.styleElement.parentElement.removeChild(this.styleElement),this.styleElement=null},t})();i.c([Object(r.Input)(),i.f("design:type",String),i.f("design:paramtypes",[String])],o.prototype,"style",null),o=i.c([Object(r.Component)({selector:"style-element",template:""})],o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.colorChange=new r.EventEmitter,this.toggleColor=!1}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color!==t&&(this._color=t,this.colorChange.emit(t))},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",String),i.f("design:paramtypes",[String])],o.prototype,"color",null),i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"disabled",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"colorChange",void 0),o=i.c([Object(r.Component)({selector:"color-picker",template:'\n<input class="color-picker"\n  [(colorPicker)]="color"\n  [style.background]="color"\n  [disabled]="disabled"\n  [cpAlphaChannel]="\'disabled\'"\n  [cpOutputFormat]="\'hex\'"\n  [(cpToggle)]="toggleColor"/>\n'})],o)},function(t,e){t.exports='<h1 md-dialog-title [innerHtml]="title"></h1>\n<div md-dialog-content [innerHtml]="message">\n</div>\n<div md-dialog-actions class="dialog-actions">\n  <button md-button (click)="cancel()">Cancel</button>\n  <button md-button class="primary" (click)="confirm()">Confirm</button>\n</div>'},function(t,e){t.exports='<h1 md-dialog-title [innerHtml]="title"></h1>\n<div md-dialog-content [innerHtml]="message">\n</div>\n<div md-dialog-actions class="dialog-actions">\n  <button md-button class="primary" (click)="confirm()">Ok</button>\n</div>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(t,e){this.changeDetector=t,this.ngZone=e,this.canAnimate=new r.EventEmitter,this._isDestroyed=!1}return t.prototype.ngAfterViewInit=function(){var t=this;window.requestAnimationFrame((function(){t._isDestroyed||t.ngZone.run((function(){t.canAnimate.emit(),t.changeDetector.markForCheck()}))}))},t.prototype.ngOnDestroy=function(){this._isDestroyed=!0},t})();i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"canAnimate",void 0),o=i.c([Object(r.Component)({selector:"animation-trigger",template:""}),i.f("design:paramtypes",[r.ChangeDetectorRef,r.NgZone])],o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(47),s=a=(function(){function t(){}return t.prototype.validate=function(t){return this.validPattern?this.validateInternal(t.value,new RegExp(this.validPattern)):null},t.prototype.validateInternal=function(t,e){return e.test(t)?null:{validPattern:{value:t}}},t})();i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"validPattern",void 0),s=a=i.c([Object(r.Directive)({selector:"[validPattern]",providers:[{provide:o.e,useExisting:a,multi:!0}]})],s);var a},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(47),s=a=(function(){function t(){}return t.prototype.validate=function(t){try{return JSON.parse(t.value),null}catch(t){return{validJson:{valid:!1}}}},t})();s=a=i.c([Object(r.Directive)({selector:"[validJson]",providers:[{provide:o.e,useExisting:a,multi:!0}]})],s);var a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"URL_HIT",(function(){return i})),n.d(e,"BUTTON_CLICK",(function(){return r})),n.d(e,"names",(function(){return o})),n.d(e,"codeValidationRegex",(function(){return s}));var i="URL_HIT",r="BUTTON_CLICK",o=[{key:i,name:"URI Hit"},{key:r,name:"Button"}],s="[a-zA-Z0-9]{6}"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"AND",(function(){return i})),n.d(e,"OR",(function(){return r})),n.d(e,"NOT",(function(){return o})),n.d(e,"QUERY_MATCHES",(function(){return s})),n.d(e,"ELEMENT_EXISTS",(function(){return a}));var i="AND",r="OR",o="NOT",s="QUERY_MATCHES",a="ELEMENT_EXISTS"},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={SYSTEM_ADMIN:1,ADMIN:2,DEMO_USER:100,EXTERNAL_API:101};Object.keys(i).map((function(t){return i[t]}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}));var i={CLICK_NEXT:"CLICK_NEXT",CLICK_ELEMENT:"CLICK_ELEMENT",MOUSEOVER_ELEMENT:"MOUSEOVER_ELEMENT",CHANGE_ELEMENT:"CHANGE_ELEMENT",INPUT_ELEMENT:"INPUT_ELEMENT"},r={CLICK_NEXT:"NEXT button",CLICK_ELEMENT:"Click on element",MOUSEOVER_ELEMENT:"Mouse hover element",CHANGE_ELEMENT:"Change in element",INPUT_ELEMENT:"Input in element"},o={CLICK_ELEMENT:"click",MOUSEOVER_ELEMENT:"mouseover",CHANGE_ELEMENT:"change",INPUT_ELEMENT:"input"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i;(function(t){t[t.saveEditor=1]="saveEditor",t[t.pickElement=2]="pickElement",t[t.cancelAction=3]="cancelAction"})(i||(i={}));var r=function(t){return"string"!=typeof t.key?null:t.ctrlKey&&"s"===t.key.toLowerCase()?i.saveEditor:t.ctrlKey&&"e"===t.key.toLowerCase()?i.pickElement:"escape"===t.key.toLowerCase()?i.cancelAction:null}},function(t,e,n){"use strict";var i=n(418);n.d(e,"b",(function(){return i.a}));var r=n(419);n.d(e,"a",(function(){return r.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){return Object.assign({},t,{isApplication:e(t.isApplication),ignoreSelectorIdFunction:e(t.ignoreSelectorIdFunction),ignoreSelectorClassFunction:e(t.ignoreSelectorClassFunction),ignoreSelectorAttributeFunction:e(t.ignoreSelectorAttributeFunction),extractUserId:e(t.extractUserId),overrideHitTest:e(t.overrideHitTest)})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i,r={unknown:"unknown",jira:"jira",clarity:"clarity",rally:"rally",workday:"workday"},o={key:r.clarity,applicationName:"Clarity",isApplication:function(t){return/ca ppm/i.test(t.applicationName)},ignoreSelectorClassFunction:function(t){return/^(over|subfocus)$/.test(t)},ignoreSelectorAttributeFunction:function(t,e){if("href"===t&&/id\\?=/.test(e))return!0},extractUserId:function(){return $("#ppm_header_user").text()}},s={key:r.jira,applicationName:"Jira",isApplication:function(t){return/jira/i.test(t.applicationName)},ignoreSelectorAttributeFunction:function(t,e){return/^(href|title)$/.test(t)}},a={key:r.rally,applicationName:"Rally",isApplication:function(t){return/ca agile/i.test(t.title)},ignoreSelectorClassFunction:function(t){return/^(rui-multiobject-picker)$/.test(t)||/focus/.test(t)}},c={key:r.workday,applicationName:"WorkDay",isApplication:function(t){return/workday/i.test(t.title)},ignoreSelectorClassFunction:function(t){return/^\w{4}|[\w\-?]{2,4}$/.test(t)},ignoreSelectorAttributeFunction:function(t,e){return/^(aria-hidden)$/.test(t)},atributePriority:["data-automation-id","id","class","href","src"],ignoreSVG:!0,overrideHitTest:function(t,e,n){var i=e.getBoundingClientRect(),r=t.getBoundingClientRect();return r.width<=0?i.top<=r.bottom&&i.bottom>r.top:n}},u={key:r.unknown,applicationName:"Generic",ignoreSelectorAttributeFunction:function(t,e){return!0}};i={},i[r.clarity]=o,i[r.jira]=s,i[r.rally]=a,i[r.workday]=c,i[r.unknown]=u},function(t,e,n){"use strict";n.d(e,"o",(function(){return r})),n.d(e,"q",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"x",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"n",(function(){return l})),n.d(e,"m",(function(){return f})),n.d(e,"p",(function(){return p})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"s",(function(){return v})),n.d(e,"l",(function(){return g})),n.d(e,"a",(function(){return y})),n.d(e,"z",(function(){return j})),n.d(e,"v",(function(){return E})),n.d(e,"u",(function(){return S})),n.d(e,"y",(function(){return w})),n.d(e,"r",(function(){return I})),n.d(e,"c",(function(){return O})),n.d(e,"t",(function(){return k})),n.d(e,"d",(function(){return C})),n.d(e,"w",(function(){return T}));var i,r={MIN:"${min}",MAX:"${max}",REGEX:"${regex}"},o={applicationKey:"unknown",customConfig:{}};(function(t){t[t.Draft=0]="Draft",t[t.Ready=1]="Ready",t[t.Published=2]="Published"})(i||(i={}));var s,a=Object.keys(i).map((function(t){return+t})).filter((function(t){return Number.isInteger(t)}));(function(t){t[t.ElementPresence=0]="ElementPresence",t[t.LabelComparison=1]="LabelComparison",t[t.InputFieldComparison=2]="InputFieldComparison",t[t.CustomScript=3]="CustomScript"})(s||(s={}));var c,u=function(t){switch(t){case+s.ElementPresence:return"Element Presence";case+s.LabelComparison:return"Label Comparison";case+s.InputFieldComparison:return"Spotlight Comparison";case+s.CustomScript:return"Custom Script";default:return""}};(function(t){t[t.BounceToStep=0]="BounceToStep",t[t.EndFlow=1]="EndFlow",t[t.CustomScript=2]="CustomScript"})(c||(c={}));var d;(function(t){t[t.Equal=0]="Equal",t[t.NotEqual=1]="NotEqual",t[t.Regex=2]="Regex",t[t.Contains=3]="Contains"})(d||(d={}));var l;(function(t){t[t.DecisionPoint=0]="DecisionPoint",t[t.FlowStep=1]="FlowStep"})(l||(l={}));var p,f={banner:{shortTitle:"banner.shortTitle",fullTitle:"banner.fullTitle"},navigator:{searchFlows:"navigator.searchFlows",workflow:"navigator.workflow",workflows:"navigator.workflows",items:"navigator.items",item:"navigator.item"},buttons:{next:"buttons.next",done:"buttons.done",submit:"buttons.submit"},feedback:{text:"feedback.text",error:"feedback.error",expand:"feedback.expand",collapse:"feedback.collapse"},success:{title:"success.title",text:"success.text"},validations:{rangeMessage:"validations.rangeMessage",minLength:"validations.minLength",maxLength:"validations.maxLength",regex:"validations.regex",required:"validations.required",customMessage:"validations.customMessage"}};(function(t){t[t.RequiredValue=0]="RequiredValue",t[t.LengthConstraint=1]="LengthConstraint",t[t.Regex=2]="Regex",t[t.Custom=3]="Custom"})(p||(p={}));var h;(function(t){t[t.Draft=0]="Draft",t[t.Ready=1]="Ready",t[t.Published=2]="Published"})(h||(h={}));var b,m=Object.keys(h).map((function(t){return+t})).filter((function(t){return Number.isInteger(t)}));(function(t){t[t.Launcher=0]="Launcher",t[t.NavTip=1]="NavTip",t[t.Announcement=2]="Announcement",t[t.Validation=3]="Validation"})(b||(b={}));var g,v=function(t){switch(t){case+b.Launcher:return"Launcher";case+b.NavTip:return"NavTip";case+b.Announcement:return"Announcement";case+b.Validation:return"Validation";default:return""}};(function(t){t[t.Flow=0]="Flow",t[t.URL=1]="URL",t[t.Video=2]="Video"})(g||(g={}));var y;(function(t){t[t.Flow=0]="Flow",t[t.URL=1]="URL",t[t.Video=2]="Video",t[t.Ok=3]="Ok"})(y||(y={}));var O,j=function(t){switch(t){case g.Flow:return"Flow";case g.URL:return"URL";case g.Video:return"Video";default:return""}},E=function(t){switch(t){case g.URL:return C.URL;case g.Video:return C.Video}},S=function(t){switch(t){case y.URL:return C.URL;case y.Video:return C.Video}},w=function(t){switch(t){case y.URL:return"Launch an URL";case y.Video:return"Launch a Video";case y.Flow:return"Launch a WorkFlow";case y.Ok:return"Ok got it"}},I=function(t){switch(t){case y.Flow:return"Flow";case y.URL:return"URL";case y.Video:return"Video";default:return""}};(function(t){t[t.Draft=0]="Draft",t[t.Ready=1]="Ready",t[t.Published=2]="Published"})(O||(O={}));var C,k=function(t){switch(t){case O.Draft:return"Draft";case O.Ready:return"Ready";case O.Published:return"Published";default:return""}};(function(t){t[t.URL=0]="URL",t[t.Video=1]="Video",t[t.Image=2]="Image"})(C||(C={}));var T=function(t){switch(t){case C.URL:return"URL";case C.Video:return"Video";case C.Image:return"Image";default:return""}}},,,function(t,e,n){"use strict";n(116),n(424)},function(t,e,n){"use strict";var i;(function(t){t[t.toggleCssPicker=0]="toggleCssPicker",t[t.cssPickerToggled=1]="cssPickerToggled",t[t.uriHashChanged=2]="uriHashChanged",t[t.cssSelectorChanged=3]="cssSelectorChanged",t[t.takeScreenshot=4]="takeScreenshot",t[t.screenshot=5]="screenshot",t[t.screenshotFailed=6]="screenshotFailed",t[t.selectedElementMoved=7]="selectedElementMoved",t[t.selectElement=8]="selectElement",t[t.getIFrameSelector=9]="getIFrameSelector",t[t.iFrameSelector=10]="iFrameSelector",t[t.shortcutPressed=11]="shortcutPressed"})(i||(i={}));var r;(function(t){t[t.element=0]="element",t[t.parent=1]="parent"})(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){return new Promise(function(n,i){var r=document.createElement("canvas");document.body.appendChild(r);var o=new Image;o.onload=function(){var t=window.devicePixelRatio;r.width=e.width*t,r.height=e.height*t,r.getContext("2d").drawImage(o,e.left*t,e.top*t,e.width*t,e.height*t,0,0,e.width*t,e.height*t);var i=r.toDataURL("image/png");document.body.removeChild(r),n(i)},o.src=t})}},function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return p}));var i=n(0),r=function(t,e,n,i){return new Promise(function(r,o){var s=new FormData;s.append(e,t,t.name);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===a.DONE){var t=a.getResponseHeader("Content-Type");200===a.status?t&&t.startsWith("application/json")?r(JSON.parse(a.response)):r():o(t&&t.startsWith("application/json")?a.response:a.responseText)}},a.open("POST",n,!0),i&&a.setRequestHeader("Authorization","Bearer "+i),a.send(s)})},o=function(t){return""+t.location.pathname+t.location.hash},s=function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):decodeURI(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),r=0;r<e.length;++r)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})},a=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},c=function(t,e){var n=e.split(/\s+/).map((function(t){return t.trim()})).filter((function(t){return t.length})).map(a),i=new RegExp(n.map((function(t){return"("+t+")"})).join(".*"),"i"),r=[];return t.forEach((function(t){var e={item:t,tokens:[]},n=t.name.match(i);if(n){for(var o=0,s=1;s<n.length;++s){var a=t.name.indexOf(n[s],o),c=n[s].length;e.tokens.push({offset:a,length:c}),o=a+c}r.push(e)}})),r},u=function(t,e){void 0===e&&(e="search-results-highlight");for(var n="",i=t.item.name,r=0,o=0,s=t.tokens;o<s.length;o++){var a=s[o];r!==a.offset&&(n+="<span>"+i.substr(r,a.offset-r)+"</span>"),n+='<span class="'+e+'">'+i.substr(a.offset,a.length)+"</span>",r=a.offset+a.length}return r!==i.length&&(n+="<span>"+i.substr(r,i.length-r)+"</span>"),n},d=function(t,e){if(!t)return e;if(!e)return t;for(var n=[],i=0,r=0;i<t.length||r<e.length;){if(i>=t.length){n.push.apply(n,e.slice(r));break}if(r>=e.length){n.push.apply(n,t.slice(i));break}var o=t[i],s=e[r];o.name.localeCompare(s.name)<0?(n.push(o),i++):(n.push(s),r++)}return n},l=function(){return{screenWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,screenHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},p=function(t,e,n){for(var r=e.split("."),o=null,s=null,a=t,c=null,u=0,d=r;u<d.length;u++){var l=d[u],p=i.a({},a,(f={},f[l]=null,f));c?o[s]=p:c=p,o=p,a=a[l]||{},s=l}return o[s]=n,c;var f}},function(t,e,n){"use strict";function i(t,e){return n={},n[t.INIT]=e.init||a,n[t.SUCCEEDED]=e.succeeded||a,n[t.FAILED]=e.failed||a,n[t.CANCELED]=e.canceled||a,n;var n}n.d(e,"a",(function(){return s})),e.b=i;var r=n(0),o=function(t){return function(e){return{type:t,payload:e}}},s=function(t){var e={INIT:t+"_INIT",SUCCEEDED:t+"_SUCCEEDED",FAILED:t+"_FAILED",CANCELED:t+"_CANCELED"};return r.a({},e,{RESULT_ACTIONS:[e.SUCCEEDED,e.FAILED,e.CANCELED],init:o(e.INIT),failed:o(e.FAILED),succeeded:o(e.SUCCEEDED),canceled:o(e.CANCELED)})},a=function(t){return t}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return c}));var i=n(10),r=(n.n(i),["RIGHT","BOTTOM","TOP","LEFT"]),o=i.flatten(r.map((function(t,e){return[t+"-"+r[(e+e%2+2)%r.length],t,t+"-"+r[(e+e%2+1)%r.length]]}))),s=20,a=20,c=function(t,e,n,i){void 0===i&&(i=s);var r=t.offsetWidth,o=t.offsetHeight;n=n.toLowerCase();var c,u,d=a+i;return c=n.startsWith("top")?e.top-o-i:n.indexOf("top")>=0?e.top-o+d:n.startsWith("bottom")?e.height+e.top+i:n.indexOf("bottom")>=0?e.top+e.height-d:e.top+(e.height-o)/2,u=n.startsWith("left")?e.left-r-i:n.indexOf("left")>=0?e.left-r+d:n.startsWith("right")?e.width+e.left+i:n.indexOf("right")>=0?e.left+e.width-d:e.left+(e.width-r)/2,{left:u,top:c,height:o,width:r}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var i=n(0),r=n(1),o=n(41),s=n(47),a=n(59),c=n(70),u=n(8),d=n(430),l=n(117),p=n(168),f=n(169),h=n(170),b=n(172),m=n(120),g=n(35),v=n(174),y=n(121),O=(n(442),n(444)),j=n(61),E=(function(){function t(){}return t})();E=i.c([Object(r.NgModule)({imports:[o.b,a.b,a.d,a.j,s.d,s.i,c.e,u.c.run(h.b),u.c.run(b.b)],declarations:[f.a,h.a,b.a,d.a],exports:[f.a,h.a,b.a,d.a],providers:[{provide:m.a,useClass:m.b},{provide:g.a,useClass:O.a},{provide:j.b,useClass:j.a},v.a,l.a,p.a,y.a]})],E)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(43)),a=n(31),c=(function(){function t(t,e,n){this.hostElement=t,this.renderer=e,this.store=n}return Object.defineProperty(t.prototype,"authorization",{set:function(t){this.acceptedRoles=t,this.onRolesChanged()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new o.Subject,this.userRoles$=this.store.select(s.e).takeUntil(this.ngUnsubscribe),this.userRoles$.subscribe((function(e){t.userRoles=e,t.onRolesChanged()}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onRolesChanged=function(){var t=this;Array.isArray(this.userRoles)&&Array.isArray(this.acceptedRoles)&&this.userRoles.some((function(e){return t.acceptedRoles.indexOf(e)>=0}))?this.renderer.setElementStyle(this.hostElement.nativeElement,"display",null):this.renderer.setElementStyle(this.hostElement.nativeElement,"display","none")},t})();i.c([Object(r.Input)(),i.f("design:type",Array),i.f("design:paramtypes",[Array])],c.prototype,"authorization",null),c=i.c([Object(r.Directive)({selector:"[authorization]"}),i.f("design:paramtypes",[r.ElementRef,r.Renderer,a.a])],c)},,function(t,e){t.exports='<div class="login-wrapper">\n  <form (ngSubmit)="logIn()" novalidate #loginForm="ngForm">\n    <div class="error top" [class.hidden]="!(errorMessage | async)">\n      {{ (errorMessage | async) || \'&nbsp;\' }}\n    </div>\n    <div class="input-component">\n      <label>Username</label>\n      <input type="text" placeholder="Enter Your Username" [(ngModel)]="username" name="letznav-username" required>\n    </div>\n    <div class="input-component">\n      <label>Password</label>\n      <a class="forgot-password" routerLink="../forgotten-password">Forgot?</a>\n      <input type="password" placeholder="Enter Your Password" [(ngModel)]="password" name="letznav-password" required>\n    </div>\n    <md-card-actions>\n      <button type="submit" md-button class="button-save" [disabled]="!loginForm.form.valid">Login</button>\n    </md-card-actions>\n  </form>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var i=function(t){return t.resetPassword},r=function(t){return i(t).resetLinkResult},o=function(t){return i(t).resetDone},s=function(t){return i(t).redirectToAdmin}},function(t,e){t.exports='<div class="login-wrapper">\n  <div class="login-wrapper__logo"></div>\n\n  <md-card class="login-card">\n    <md-card-title>\n      <h2>Reset Password</h2>\n    </md-card-title>\n\n    <md-card-content>\n      <p>Please enter a new password:</p>\n\n      <form (ngSubmit)="changePassword()" novalidate #passwordForm="ngForm">\n        <div class="error top" [class.hidden]="!isTouched || !isInvalid">\n          {{ isInvalid || \'&nbsp;\' }}\n        </div>\n        <div class="input-component">\n          <label>Password</label>\n          <input type="password" placeholder="Password" [(ngModel)]="password" name="password" [disabled]="resetDone | async" required>\n        </div>\n        <div class="input-component">\n          <label>Repeat Password</label>\n          <input type="password" placeholder="Repeat Password" [(ngModel)]="passwordAgain" name="passwordAgain" [disabled]="resetDone | async" required>\n        </div>\n        <md-card-actions>\n          <button type="submit" md-button class="button-save button-full-width" [disabled]="!isTouched || isInvalid || (resetDone | async)">Change Password</button>\n        </md-card-actions>\n      </form>\n      <div *ngIf="(resetLinkResult | async) === true && (redirectToAdmin | async) === true">\n        Reset successful. Redirecting...\n      </div>\n      <div *ngIf="(resetLinkResult | async) === true && (redirectToAdmin | async) === false">\n        Reset successful. Please close the browser tab.\n      </div>\n      <div *ngIf="(resetLinkResult | async) === false && (resetDone | async) === true">\n        Password reset failed. Reset link is not valid. Please try to reset password one more time or contact your local Administrator.\n      </div>\n      <div *ngIf="(resetLinkResult | async) === false && (resetDone | async) === false">\n        Password reset temporarily failed. Please try again later.\n      </div>\n    </md-card-content>\n  </md-card>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return f}));var i,r=n(0),o=n(84),s=n(118),a={resetDone:!1,resetLinkResult:null,redirectToAdmin:!0},c=function(t){return r.a({},t,{resetDone:!0})},u=function(t,e){return r.a({},t,{resetLinkResult:!0,redirectToAdmin:e.redirect})},d=function(t,e){var n=e.isTempError;return r.a({},t,{resetLinkResult:!1,resetDone:!0!==n})},l=function(t){return a},p=(i={},i[s.a]=c,i[s.c]=u,i[s.b]=d,i[s.d]=l,i),f=Object(o.a)(p,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(35),c=n(118),u=(function(){function t(t,e){var n=this;this.action$=t,this.accountService=e,this.resetlinkSucceeded$=this.action$.ofType(c.c).map(o.d).filter((function(t){return t.redirect})).delay(5e3).map((function(t){return Object(s.b)("login")})),this.resetlink$=this.action$.ofType(c.a).map(o.d).switchMapCorx((function(t,e){var r=(t.get,t.put),o=e.link,s=e.password;return i.b(n,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,this.accountService.resetPassword(o,s)];case 1:return t=n.sent().redirect,[4,r(c.g(t))];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),[4,r(c.f(404!==e.status))];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],u.prototype,"resetlinkSucceeded$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],u.prototype,"resetlink$",void 0),u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function(t){return t.forgottenPassword},r=function(t){return i(t).sendingStarted},o=function(t){return i(t).sentResult}},function(t,e){t.exports='<div>\n  Please enter your email address to send a&nbsp;link with password reset:\n  <form (ngSubmit)="sendResetLink()" novalidate>\n    <div class="input-component">\n      <input type="text" placeholder="Email address" [(ngModel)]="username" name="username" [disabled]="(resetLinkSendingStarted | async)" required>\n    </div>\n    <button type="submit" md-button class="button-save" [disabled]="!isTouched || (resetLinkSendingStarted | async)">Send reset link</button>\n  </form>\n  <div *ngIf="(resetLinkSentResult | async) === true">\n    Link was sent. Check your email. If you don\'t receive any email, please contact your local Administrator.\n  </div>\n  <div *ngIf="(resetLinkSentResult | async) === false">\n    We had some trouble sending your email. Please try again later.\n  </div>\n</div>'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return f}));var i,r=n(0),o=n(84),s=n(119),a={sendingStarted:!1,sentResult:null},c=function(t){return a},u=function(t){return r.a({},t,{sendingStarted:!0})},d=function(t){return r.a({},t,{sentResult:!0})},l=function(t){return r.a({},t,{sentResult:!1,sendingStarted:!1})},p=(i={},i[s.d]=c,i[s.a]=u,i[s.c]=d,i[s.b]=l,i),f=Object(o.a)(p,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(8),s=n(6),a=(n.n(s),n(35)),c=n(119),u=(function(){function t(t,e){var n=this;this.action$=t,this.accountService=e,this.resetlink$=this.action$.ofType(c.a).map(o.d).switchMap((function(t){var e=t.username,i=t.baseUrl;return s.Observable.fromPromise(n.accountService.requestResetPassword(e,i)).map((function(){return c.g()})).catch((function(){return s.Observable.of(c.f())}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],u.prototype,"resetlink$",void 0),u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.a])],u)},,function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(58),s=(n.n(o),n(120)),a=n(35),c=n(61),u=(function(t){function e(e,n){var i=t.call(this)||this;return i.auth0Service=e,i.tokenStorage=n,i}return i.d(e,t),e.prototype.handleAuthentication=function(){return i.b(this,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,this.auth0Service.handleAuthentication()];case 1:return t=e.sent(),t?[4,this.tokenStorage.setToken("access_token",t.accessToken)]:[3,4];case 2:return e.sent(),[4,this.tokenStorage.setToken("token",t.idToken)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},e.prototype.logIn=function(t,e){return i.b(this,void 0,void 0,(function(){var n;return i.e(this,(function(i){switch(i.label){case 0:return[4,this.auth0Service.logIn(t,e)];case 1:return n=i.sent(),[4,this.tokenStorage.setToken("access_token",n.accessToken)];case 2:return i.sent(),[4,this.tokenStorage.setToken("token",n.idToken)];case 3:return i.sent(),[2]}}))}))},e.prototype.loginWithGoogle=function(){return this.auth0Service.loginWithGoogle()},e.prototype.logOut=function(){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,this.tokenStorage.setToken("access_token")];case 1:return t.sent(),[4,this.tokenStorage.setToken("token")];case 2:return t.sent(),[2]}}))}))},e.prototype.isAuthenticated=function(){return i.b(this,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,this.getAuthorizationToken()];case 1:return t=e.sent(),[2,Object(o.tokenNotExpired)("token",t)]}}))}))},e.prototype.getAuthorizationToken=function(){return this.tokenStorage.getToken("token")},e.prototype.getUserProfile=function(){return this.auth0Service.getUserProfile(localStorage.getItem("access_token"))},e.prototype.resetPassword=function(t,e){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(t){throw new Error("Not supported")}))}))},e.prototype.requestResetPassword=function(t,e){throw new Error("Not supported")},e})(a.a);u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,c.b])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(175),s=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e.prototype.setToken=function(t,e){return e?localStorage.setItem("letznav_token_"+t,e):localStorage.removeItem("letznav_token_"+t),Promise.resolve()},e.prototype.getToken=function(t){var e=localStorage.getItem("letznav_token_"+t)||null;return Promise.resolve(e)},e})(o.a);s=i.c([Object(r.Injectable)()],s)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(58),s=(n.n(o),n(35)),a=n(121),c=n(61),u=(function(t){function e(e,n){var i=t.call(this)||this;return i.authService=e,i.tokenStorage=n,i}return i.d(e,t),e.prototype.handleAuthentication=function(){return i.b(this,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return[4,this.getAuthorizationToken()];case 1:if(!(t=n.sent()))return[3,6];n.label=2;case 2:return n.trys.push([2,4,,6]),[4,this.getUserProfile()];case 3:return n.sent(),[3,6];case 4:return e=n.sent(),[4,this.tokenStorage.setToken("token")];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.logIn=function(t,e){return i.b(this,void 0,void 0,(function(){var n,r,o,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this.authService.login({username:t,password:e}).toPromise()];case 1:return n=i.sent(),r=n.token,o=n.userId,[4,this.tokenStorage.setToken("token",r)];case 2:return i.sent(),[4,this.tokenStorage.setToken(s.b,String(o))];case 3:return i.sent(),[3,5];case 4:if(a=i.sent(),403===a.status)throw new Error("Invalid username or password");throw a;case 5:return[2]}}))}))},e.prototype.loginWithGoogle=function(){throw new Error("Not supported")},e.prototype.getUserProfile=function(){return i.b(this,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return[4,this.getAuthorizationHeader()];case 1:return t=n.sent(),[4,this.authService.getUserProfile(t).toPromise()];case 2:return e=n.sent(),[2,e]}}))}))},e.prototype.logOut=function(){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,this.tokenStorage.setToken("token")];case 1:return t.sent(),[4,this.tokenStorage.setToken(s.b)];case 2:return t.sent(),[2]}}))}))},e.prototype.isAuthenticated=function(){return i.b(this,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,this.getAuthorizationToken()];case 1:return t=e.sent(),t?[2,Object(o.tokenNotExpired)("token",t)]:[2,!1]}}))}))},e.prototype.getAuthorizationToken=function(){return this.tokenStorage.getToken("token")},e.prototype.resetPassword=function(t,e){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(n){switch(n.label){case 0:return[4,this.authService.resetPassword(t,{password:e}).toPromise()];case 1:return[2,n.sent()]}}))}))},e.prototype.requestResetPassword=function(t,e){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(n){switch(n.label){case 0:return[4,this.authService.requestResetPassword({username:t,baseUrl:e}).toPromise()];case 1:return n.sent(),[2]}}))}))},e.prototype.getAuthorizationHeader=function(){return i.b(this,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,this.getAuthorizationToken()];case 1:return t=e.sent(),[2,"Bearer "+t]}}))}))},e})(s.a);u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a,c.b])],u)},function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return E}));var i,r=n(0),o=n(4),s=n(84),a=n(60),c=n(170),u=n(172),d={loginError:"",loggingIn:!1,redirectAfterLogIn:null,user:null,validatingAuth:!0},l=function(t){return r.a({},t,{loginError:"",loggingIn:!0})},p=function(t){return r.a({},t,{loginError:"",loggingIn:!0})},f=function(t,e){return r.a({},t,{loggingIn:!1,user:e})},h=function(t){return r.a({},t,{user:null})},b=function(t,e){return r.a({},t,{loginError:e,loggingIn:!1})},m=function(t,e){return r.a({},t,{redirectAfterLogIn:e})},g=function(t){return r.a({},t,{validatingAuth:!0})},v=function(t){return r.a({},t,{validatingAuth:!1})},y=(i={},i[a.d]=l,i[a.a]=p,i[a.b]=f,i[a.c]=h,i[a.e]=b,i[a.h]=m,i[a.i]=g,i[a.j]=v,i),O=Object(s.a)(y,d),j={login:d,resetPassword:c.c,forgottenPassword:u.d},E=Object(o.h)({login:O,resetPassword:c.d,forgottenPassword:u.c})},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(6),c=(n.n(a),n(31)),u=n(35),d=n(43),l=n(60),p=n(167),f=n(447),h=(function(){function t(t,e,n){var r=this;this.action$=t,this.accountService=e,this.store=n,this.init$=this.action$.ofType(p.a).delay(0).switchMap((function(){return a.Observable.of(l.r())})),this.validateAuth$=this.action$.ofType(l.i).switchMapCorx((function(t){var e=t.put;t.get;return i.b(r,void 0,void 0,(function(){var t,n;return i.e(this,(function(i){switch(i.label){case 0:t=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.accountService.handleAuthentication()];case 2:return i.sent(),[4,this.accountService.isAuthenticated()];case 3:return t=i.sent(),[3,5];case 4:return n=i.sent(),[3,5];case 5:return t?[4,e(l.k())]:[3,7];case 6:i.sent(),i.label=7;case 7:return[4,e(l.s(t))];case 8:return i.sent(),[2]}}))}))})),this.logIn$=this.action$.ofType(l.d).map(o.d).switchMap((function(t){var e=t.username,n=t.password;return a.Observable.fromPromise(r.accountService.logIn(e,n)).map((function(t){return l.k()})).catch((function(t){return a.Observable.of(l.m(Object(f.a)(t)))}))})),this.getUserProfile$=this.action$.ofType(l.a).switchMap((function(t){return a.Observable.fromPromise(r.accountService.getUserProfile()).map((function(t){return l.o(t)})).catch((function(t){return a.Observable.of(l.m(Object(f.a)(t)))}))})),this.loggedIn$=this.action$.ofType(l.b).map((function(t){var e=r.store.getState(),n=Object(d.d)(e);return n||"/login"!==r.store.getRouterState().path||(n="/admin"),n})).filter((function(t){return!!t})).map((function(t){return Object(s.b)(t)})),this.logInWithGoogle$=this.action$.ofType(l.f).do((function(t){return r.accountService.loginWithGoogle()})),this.logOut$=this.action$.ofType(l.g).switchMapCorx((function(t){var e=(t.get,t.put);return i.b(r,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,this.accountService.logOut()];case 1:return t.sent(),[4,e(l.p())];case 2:return t.sent(),[2]}}))}))})),this.loggedOut$=this.action$.ofType(l.c).map((function(t){return Object(s.b)("login")}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"init$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"validateAuth$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"logIn$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"getUserProfile$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loggedIn$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"logInWithGoogle$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"logOut$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loggedOut$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,u.a,c.a])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(48),r=function(t){if(t instanceof Error)return t.message;if(t instanceof i.Response){var e=t.headers&&t.headers.get("Content-Type");if(e&&e.indexOf("application/json")>=0)try{var n=t.json();if(n.msg)return n.msg}catch(t){}switch(t.status){case 0:return"Cannot contact server. Please, try again later.";case 400:return"Bad Request";case 404:return"Resource Not Found";case 500:return"The operation failed on the server. Please, try again.";default:return"Unknown error ("+t.status+": "+t.statusText}}if("string"==typeof t)try{var n=JSON.parse(t);if(n.msg)return n.msg}catch(e){return t}return t.msg?t.msg:"Unknown error: "+t.toString()}},function(t,e,n){"use strict";function i(t,e){return new o.AuthHttp(new o.AuthConfig({tokenGetter:function(){return e.getToken("token")}}),t)}n.d(e,"a",(function(){return a}));var r=n(48),o=n(58),s=(n.n(o),n(61)),a={provide:o.AuthHttp,useFactory:i,deps:[r.Http,s.b]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}));var i;(function(t){t[t.NameAbsent=0]="NameAbsent",t[t.UrlAbsent=1]="UrlAbsent"})(i||(i={}));var r=function(t){switch(t){case i.NameAbsent:return"New Content name is required";case i.UrlAbsent:return"New Content url is required"}},o=function(t){if(!t)return[];var e=new Set;return e.has(i.NameAbsent)||0!==t.name.trim().length||e.add(i.NameAbsent),e.has(i.UrlAbsent)||0!==t.url.trim().length||e.add(i.UrlAbsent),Array.from(e)}},,,function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var i=function(t){return"DIALOG_SERVICE_"+t},r=i("OPEN_DIALOG"),o=function(t,e){return{type:r,payload:{dialog:t,params:e}}},s=i("DIALOG_CLOSED"),a=function(t){return{type:s,payload:{result:t}}}},,,function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(19),c=n(10),u=(n.n(c),n(5)),d=(n.n(u),n(85)),l=n(122),p=n(177),f=["url",p.a],h=function(t){return f.push(t)},b=(function(){function t(t,e){var n=this;this.action$=t,this.store=e,this.loadStorage$=this.action$.ofType(d.a.INIT).delay(1).switchMapCorx((function(t){var e=(t.get,t.put);return i.b(n,void 0,void 0,(function(){var t,n,r,o,s;return i.e(this,(function(i){switch(i.label){case 0:for(i.trys.push([0,2,,4]),t={},n=0,r=f;n<r.length;n++)o=r[n],t[o]=this.loadFromStorage(o);return[4,e(d.a.succeeded(t))];case 1:return i.sent(),[3,4];case 2:return s=i.sent(),[4,e(d.a.failed(s))];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))})),this.updateUrl$=this.action$.ofType(a.c.UPDATE_LOCATION).map(o.d).switchMapCorx((function(t,e){var r=t.get,o=t.put,s=e.path;return i.b(n,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return[4,r(this.store.select(l.c).take(1))];case 1:return t=n.sent(),t?[4,r(this.store.select(l.a).take(1))]:[2];case 2:return e=n.sent(),e===s?[2]:[4,o(Object(d.i)(s))];case 3:return n.sent(),[2]}}))}))})),this.saveToStorage$=this.action$.ofType(d.e).map(o.d).do((function(t){var e=t.key,i=t.data;n.saveToStorage(e,i)})).filter((function(){return null})),this.saveStateToStorage$=this.action$.ofType(d.d).withLatestFrom(this.store).map((function(t){for(var e=(t[0],t[1]),n={fractions:[],ts:u.utc().toISOString()},i=0,r=Object(l.e)(e);i<r.length;i++){var o=r[i],s={path:o,state:c.get(e,o,null)};n.fractions.push(s)}return Object(d.m)(p.a,n)})),this.restoreStateFromStorage$=this.action$.ofType(d.a.SUCCEEDED).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=(t.get,t.put),o=(e[0],e[1]);return i.b(n,void 0,void 0,(function(){var t,e,n,s;return i.e(this,(function(i){switch(i.label){case 0:return t=Object(l.b)(o,p.a),t?[4,r(Object(d.m)(p.a,null))]:[2];case 1:return i.sent(),e=u.utc(),n=u(t.ts,u.ISO_8601),s=n.clone().add(30,"s").isSameOrAfter(e),s?[4,r(Object(d.n)(t.fractions))]:[2];case 2:return i.sent(),[2]}}))}))})),this.restoreStateFraction$=this.action$.ofType(d.b).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=t.put,o=e[0],s=o.statePath,a=o.replaceState,c=e[1];return i.b(n,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return t=Object(l.d)(c),e=t&&t.find((function(t){return t.path===s})),e?a?[4,r(Object(d.k)(e.path,e.state))]:[3,2]:[3,4];case 1:n.sent(),n.label=2;case 2:return[4,r(Object(d.o)(e.path,e.state))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}))}return t.prototype.loadFromStorage=function(t){var e=window.sessionStorage.getItem("letznav_player_storage_"+t),n=null;try{null!==e&&(n=JSON.parse(e))}catch(t){console.error(t)}return n},t.prototype.saveToStorage=function(t,e){window.sessionStorage.setItem("letznav_player_storage_"+t,JSON.stringify(e))},t})();i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"loadStorage$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"updateUrl$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"saveToStorage$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"saveStateToStorage$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"restoreStateFromStorage$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"restoreStateFraction$",void 0),b=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f])],b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return g}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(85),c={storage:null,registredStatePathsToStore:[],restoredFractions:null},u=Object(s.Q)(a.a,{succeeded:function(t,e){return r.a({},t,{storage:e})},failed:function(t){return r.a({},t,{storage:{}})}}),d=function(t,e){return r.a({},t,{storage:r.a({},t.storage,(n={},n[e.key]=e.data,n))});var n},l=function(t,e){return r.a({},t,{registredStatePathsToStore:o.union(t.registredStatePathsToStore,[e.statePath])})},p=function(t,e){return r.a({},t,{registredStatePathsToStore:t.registredStatePathsToStore.filter((function(t){return t!==e}))})},f=function(t,e){return r.a({},t,{restoredFractions:e})},h=function(t,e){return r.a({},t,{restoredFractions:t.restoredFractions.filter((function(t){return t.path!==e.path}))})},b=r.a({},u,(i={},i[a.e]=d,i[a.b]=l,i[a.h]=p,i[a.f]=f,i[a.g]=h,i)),m=Object(s._3)(b,c),g=function(t){return function(e,n){if(n.type===a.c){var i=n.payload;return Object(s._12)(e,i.path,i.state)}return t(e,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(19),c=n(16),u=(n.n(c),n(85)),d=n(122),l=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(c.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t,e;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(d.c).take(1))];case 1:return t=i.sent(),t?[2]:[4,r(u.a.init())];case 2:return i.sent(),[4,n(this.actions$.ofType(u.a.SUCCEEDED,u.a.FAILED).take(1))];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),null!==e&&e.startsWith("/admin")?[4,r(Object(a.b)(e))]:[3,6];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(42),s=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e.prototype.setToken=function(t,e){return new Promise(function(n,i){chrome.storage.local.set((r={},r["auth_token_"+t]=e||null,r),(function(){if(chrome.runtime.lastError)return void i(chrome.runtime.lastError);n()}));var r})},e.prototype.getToken=function(t){return new Promise(function(e,n){chrome.storage.local.get("auth_token_"+t,(function(i){if(chrome.runtime.lastError)return void n(chrome.runtime.lastError);e(i["auth_token_"+t]||null)}))})},e})(o.l);s=i.c([Object(r.Injectable)()],s);var a={provide:o.l,useClass:s}},function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(612),r=n(1294),o=n(184);n.d(e,"d",(function(){return o.a}));var s=n(1296);n.d(e,"b",(function(){return s.a}));var a=n(1297);n.d(e,"c",(function(){return a.a}));var c=n(1298);n.d(e,"f",(function(){return c.a})),n.d(e,"g",(function(){return c.b})),n.d(e,"a",(function(){return i.a}));var u=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i;(function(t){t[t.Element=0]="Element",t[t.ElementNavigation=1]="ElementNavigation",t[t.Anchor=2]="Anchor",t[t.Spotlight=3]="Spotlight",t[t.Label=4]="Label"})(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function(t){return t.changeLanguage},r=function(t){return i(t).currentLocaleId},o=function(t){return i(t).isSaving}},function(t,e,n){"use strict";var i=n(1199);n.d(e,"b",(function(){return i.a})),n.d(e,"c",(function(){return i.b}));var r=n(1200);n.d(e,"a",(function(){return r.a}));var o=n(1201);n.d(e,"d",(function(){return o.a})),n.d(e,"e",(function(){return o.b}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return c}));var i=n(619),r=n(464),o=n(1213);n.d(e,"d",(function(){return o.a})),n.d(e,"e",(function(){return o.b}));var s=n(1214);n.d(e,"a",(function(){return s.a})),n.d(e,"f",(function(){return r.b}));var a=n(1233);n.d(e,"b",(function(){return a.a}));var c=(n(135),[i.a,r.a])},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(18),a=(n.n(s),n(135)),c=(function(){function t(t){var e=this;this.store=t,this.ngUnsubscribe=new s.Subject,this.store.select(a.b).takeUntil(this.ngUnsubscribe).subscribe((function(t){e.resources=t}))}return t.prototype.transform=function(t){return u(t,this.resources)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();c=i.c([Object(r.Pipe)({name:"i18n"}),i.f("design:paramtypes",[o.f])],c);var u=function(t,e){return t.split(".").reduce((function(t,e){return t&&t[e]}),e)||"!Missing translation!"}},function(t,e){t.exports={banner:{shortTitle:"Need Help?",fullTitle:"How can we help you?"},navigator:{searchFlows:"Search Workflows",workflow:"Workflow",workflows:"Workflows",items:"Items",item:"Item"},buttons:{next:"Next",submit:"Submit",done:"Done"},feedback:{text:"Please rate this flow and add an optional comment.",error:"Please give a rating.",expand:"Give feedback",collapse:"Skip feedback"},success:{title:"Success!",text:"You have successfully completed the flow."},validations:{rangeMessage:"The length of the field has to be between ${min} and ${max} characters",minLength:"The field has to be at least ${min} characters long",maxLength:"The field has to be at most ${max} characters long",regex:"The value has to match ${regex}",required:"This field is required",customMessage:"Value must pass custom validation"}}},function(t,e,n){"use strict";var i=n(1241);n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return i.b}));var r=n(1242);n.d(e,"c",(function(){return r.a})),n.d(e,"d",(function(){return r.b}));var o=n(1243);n.d(e,"e",(function(){return o.a}));var s=n(1244);n.d(e,"f",(function(){return s.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(3),r=Object(i.P)("LOAD_PLAYER_OPTIONS")},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return d}));var i=n(3),r=n(337),o=function(t){return t.flows},s=function(t){return o(t).flows},a=function(t){var e=s(t),n=r.e.selectCustomContent(t);return Object(i._5)(n,e)},c=function(t){var e=a(t),n=u(t);return e?n.trim().length<2?e.map((function(t){return{item:t}})):Object(i.N)(e,n):null},u=function(t){return o(t).searchText},d=function(t){var e=s(t);return e&&e.length||0}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u}));var i=function(t){return"DECISION_CONDITIONS_"+t},r=i("CREATE_DECISION_EVALUATION"),o=function(t){return{type:r,payload:t}},s=i("UPDATE_DECISION_EVALUATION"),a=function(t){return{type:s,payload:t}},c=i("CLEAR_DECISION_EVALUATION"),u=function(t){return{type:c,payload:t}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return u}));var i=n(1287),r=n(1289),o=n(1291);n.d(e,"e",(function(){return o.a})),n.d(e,"f",(function(){return o.b}));var s=n(1292);n.d(e,"a",(function(){return s.a}));var a=n(338);n.d(e,"b",(function(){return a.c})),n.d(e,"c",(function(){return a.d})),n.d(e,"g",(function(){return a.e}));var c=n(180);n.d(e,"h",(function(){return c.e}));var u=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(637),r=n(1300),o=n(638);n.d(e,"b",(function(){return i.a})),n.d(e,"d",(function(){return o.a}));var s=n(1303);n.d(e,"c",(function(){return s.a}));var a=n(1304);n.d(e,"a",(function(){return a.a}));var c=n(1305);n.d(e,"f",(function(){return c.a})),n.d(e,"g",(function(){return c.b}));var u=[i.a,r.a,o.a]},function(t,e,n){"use strict";n.d(e,"g",(function(){return p}));var i=n(639),r=n(1307),o=n(1309),s=n(1311);n.d(e,"c",(function(){return i.a}));var a=n(1318);n.d(e,"a",(function(){return a.a}));var c=n(1319);n.d(e,"d",(function(){return c.a}));var u=n(1320);n.d(e,"e",(function(){return u.a})),n.d(e,"h",(function(){return u.b}));var d=n(1321);n.d(e,"b",(function(){return d.a}));var l=n(640);n.d(e,"f",(function(){return l.a}));var p=[i.a,r.a,o.a].concat(s.a)},function(t,e,n){"use strict";n.d(e,"e",(function(){return u}));var i=n(641),r=n(643),o=n(1324);n.d(e,"a",(function(){return i.a})),n.d(e,"d",(function(){return r.a}));var s=n(1326);n.d(e,"b",(function(){return s.a}));var a=n(644),c=n(1327);n.d(e,"f",(function(){return c.a})),n.d(e,"g",(function(){return c.b})),n.d(e,"c",(function(){return a.a}));var u=[i.a,o.a,r.a]},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var i=n(645),r=n(1329);n.d(e,"a",(function(){return i.a}));var o=n(1331);n.d(e,"c",(function(){return o.a})),n.d(e,"d",(function(){return o.b}));var s=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"d",(function(){return c}));var i=n(646),r=n(1337),o=n(1339);n.d(e,"b",(function(){return o.a}));var s=n(1340);n.d(e,"c",(function(){return s.a}));var a=n(1341);n.d(e,"e",(function(){return a.a})),n.d(e,"f",(function(){return a.b})),n.d(e,"a",(function(){return i.a}));var c=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"e",(function(){return d}));var i=n(1350),r=n(1352),o=n(652),s=n(1355),a=n(1357);n.d(e,"a",(function(){return a.a}));var c=n(1358);n.d(e,"b",(function(){return c.a})),n.d(e,"c",(function(){return c.b}));var u=n(477);n.d(e,"d",(function(){return u.a}));var d=(n(103),[i.a,r.a,o.a,s.a])},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=(n(103),function(t){return t.formValidation}),r=function(t){return i(t).fieldsState},o=function(t){return i(t).mouseOverFieldId}},function(t,e,n){"use strict";n.d(e,"d",(function(){return c}));var i=n(653),r=n(1380),o=n(1382);n.d(e,"b",(function(){return o.a}));var s=n(1383);n.d(e,"c",(function(){return s.a}));var a=n(1384);n.d(e,"e",(function(){return a.a})),n.d(e,"f",(function(){return a.b})),n.d(e,"a",(function(){return i.a}));var c=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"d",(function(){return a}));var i=n(344),r=n(1385);n.d(e,"a",(function(){return r.a}));var o=n(1387);n.d(e,"b",(function(){return o.a}));var s=n(1389);n.d(e,"c",(function(){return s.a})),n.d(e,"e",(function(){return s.b}));var a={turnOffFiltering:i.e,turnOnFiltering:i.f}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=function(t){return t.pickFlowAndStep},r=function(t){return i(t).isFiltering},o=function(t){return i(t).isFilteringOn},s=function(t){return i(t).flows},a=function(t){return i(t).flowsMilestones}},function(t,e,n){"use strict";n.d(e,"e",(function(){return f}));var i=n(656),r=n(657),o=n(658),s=n(660),a=n(1400),c=n(661);n.d(e,"a",(function(){return o.a}));var u=(n(75),n(1403));n.d(e,"f",(function(){return u.a})),n.d(e,"g",(function(){return u.b}));var d=n(1404);n.d(e,"c",(function(){return d.a}));var l=n(1405);n.d(e,"b",(function(){return l.a}));var p=n(1406);n.d(e,"d",(function(){return p.a}));var f=[o.a,r.a,i.a,s.a,a.a,c.a]},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s}));var i=function(t){return t.badgeState},r=function(t){return i(t).badgesState},o=function(t){return i(t).mouseOverBadgeId},s=function(t){return i(t).activeAnnouncement}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(75),o=n(1),s=n(4),a=n(6),c=(n.n(a),n(3)),u=n(210),d=n(176),l=n(10),p=(n.n(l),n(140)),f=(function(){function t(t){this.store=t,this.customContentIdChange=new o.EventEmitter,this.editContents=new o.EventEmitter,this.uploadedCustomContentChange=new o.EventEmitter,this.deploymentsList=Object.keys(c.j).filter((function(t){return!isNaN(+t)})).map((function(t){return Object(c.U)(+t)})),this._type=c.k.URL,this._customContentId=0,this._uploadedCustomContent=null,this._disabled=new a.BehaviorSubject(!1)}return Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled.getValue()},set:function(t){this._disabled.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.store.dispatch(Object(u.l)(t)),this.store.dispatch(Object(r.m)(null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customContentId",{get:function(){return this._customContentId},set:function(t){var e=t<0;this.store.dispatch(Object(u.h)(e)),this._customContentId=t,this.customContentIdChange.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uploadedCustomContent",{get:function(){return this._uploadedCustomContent},set:function(t){this._uploadedCustomContent=t,this.uploadedCustomContentChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngUnsubscribe=new a.Subject,this.contents=this.store.select(p.b).takeUntil(this.ngUnsubscribe),this.uploadedContent=this.store.select(d.d).map(l.cloneDeep).takeUntil(this.ngUnsubscribe),this.uploadEnabled=this.store.select(d.c).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.store.dispatch(Object(u.i)()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},Object.defineProperty(t.prototype,"mapContentType",{get:function(){return Object(c.X)(this.type)},enumerable:!0,configurable:!0}),t.prototype.onContentEdited=function(t){this.store.dispatch(Object(u.k)(t))},t.prototype.onOptionChange=function(t){this.store.dispatch(Object(u.h)(t))},t})();i.c([Object(o.Input)(),i.f("design:type",Boolean),i.f("design:paramtypes",[Boolean])],f.prototype,"disabled",null),i.c([Object(o.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],f.prototype,"type",null),i.c([Object(o.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],f.prototype,"customContentId",null),i.c([Object(o.Output)(),i.f("design:type",Object)],f.prototype,"customContentIdChange",void 0),i.c([Object(o.Output)(),i.f("design:type",o.EventEmitter)],f.prototype,"editContents",void 0),i.c([Object(o.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],f.prototype,"uploadedCustomContent",null),i.c([Object(o.Output)(),i.f("design:type",Object)],f.prototype,"uploadedCustomContentChange",void 0),f=i.c([Object(o.Component)({selector:"pick-custom-content",template:n(1442)}),i.f("design:paramtypes",[s.f])],f)},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(22),s=n(28),a=n(88),c=n(127),u=n(347),d=n(21),l=p=(function(){function t(t,e,n,i){this.messages=t,this.document=e,this.frames=n,this.pickerActive=!1,this.selector=i.getConfiguredSelector(),this.elementsFoundByTextSearch=[],window.document.addEventListener("mousemove",this.processMouseMove.bind(this),!1),window.document.addEventListener("click",this.processMouseClick.bind(this),!0),this.messages.ofType(s.a.ActivatePicker).subscribe(this.onActivatePicker.bind(this)),this.messages.ofType(s.a.ElementSelected).subscribe(this.onElementSelected.bind(this)),this.messages.ofType(s.a.SearchElementByText).subscribe(this.onSearchElementsByText.bind(this)),this.messages.ofType(s.a.ClearTextSearch).subscribe(this.clearPreviousTextSearch.bind(this)),this.messages.ofType(s.a.DeactivatePicker).subscribe(this.onCancelPicker.bind(this))}return t.prototype.getElementRect=function(t){var e=t.getBoundingClientRect();return{left:this.frames.posittion.left+e.left,top:this.frames.posittion.top+e.top,width:e.width,height:e.height}},t.prototype.sendSelectedElementNavigation=function(t,e){this.sendSelectedElementMessage(t,e,d.b.ElementNavigation)},t.prototype.sendSelectedElementMessage=function(t,e,n,i){var r=this.frames.urls,o=r.shift(),a=this.frames.path.map((function(t,e){return{attachIn:t,uriHashes:[r[e]]}}));this.messages.sendMessage({type:s.a.ElementSelected,elementIdentification:{containers:e,selector:t,frames:a},uriHash:o,pickedElement:n,label:i})},t.prototype.onActivatePicker=function(t){this.pickerActive=!0,this.pickedElement=t.pickedElement},t.prototype.onCancelPicker=function(){this.pickerActive=!1,this.pickedElement=null,this.hoveredElement&&(this.hoveredElement.classList.remove("crx_mouse_visited"),this.hoveredElement=null)},t.prototype.onElementSelected=function(){this.pickerActive=!1,this.hoveredElement&&(this.hoveredElement.classList.remove("crx_mouse_visited"),this.hoveredElement=null)},t.prototype.canPickElement=function(){return this.pickerActive||this.elementsFoundByTextSearch.length>0},t.prototype.processMouseMove=function(t){if(this.canPickElement()){var e=t.srcElement,n=t.srcElement;if(this.originalElement!==n){for(this.hoveredElement&&(this.hoveredElement.classList.remove("crx_mouse_visited"),this.hoveredElement=null,this.originalElement=null);e&&!this.selector.isAllowedChild(e);)e=e.parentElement;if(e&&this.selector.isAllowedElement(e)&&(this.pickerActive||!(this.elementsFoundByTextSearch.indexOf(e)<0))){if(this.pickedElement===d.b.Spotlight){if(p.spotlightElements.indexOf(e.tagName.toLowerCase())<0)return;if("iframe"===e.tagName.toLowerCase()&&e.attributes.src)return}if(this.pickedElement===d.b.Label){if(p.nonLabelElements.indexOf(e.tagName.toLowerCase())>=0)return;if("iframe"===e.tagName.toLowerCase()&&e.attributes.src)return}this.hoveredElement=e,this.originalElement=n,this.hoveredElement.classList.add("crx_mouse_visited")}}}},t.prototype.processMouseClick=function(t){if(this.hoveredElement&&this.canPickElement()&&(0!==t.screenX||0!==t.screenY)){t.preventDefault(),t.stopImmediatePropagation(),this.clearPreviousTextSearch(),this.hoveredElement.classList.remove("crx_mouse_visited");var e=this.document.getSelector(this.hoveredElement),n=this.document.getContainers(this.hoveredElement),i=this.extractLabel();this.sendSelectedElementMessage(e,n,this.pickedElement,i)}},t.prototype.clearPreviousTextSearch=function(){this.elementsFoundByTextSearch.forEach((function(t){return t.classList.remove("crx_text_search")})),this.elementsFoundByTextSearch=[]},t.prototype.onSearchElementsByText=function(t){this.clearPreviousTextSearch();var e=this.selector.findText(t.searchText);e.length>0&&(this.elementsFoundByTextSearch=e,this.elementsFoundByTextSearch.forEach((function(t){return t.classList.add("crx_text_search")})))},t.prototype.extractLabel=function(){var t,e;if(this.pickedElement===d.b.Element){if(t=this.extractTextContent(this.hoveredElement),e=0,!t){var n=this.document.getLabel(this.hoveredElement);t=this.extractTextContent(n),e=1}}else if(this.pickedElement===d.b.Spotlight){var n=this.document.getLabel(this.hoveredElement);t=this.extractTextContent(n),e=1}return t&&t.length>30&&(t=null),t&&{text:t,type:e}||null},t.prototype.extractTextContent=function(t){var e=t&&(t.innerText||t.textContent);return"string"!=typeof e?null:e=e.trim().split("\n")[0].trim()},t})();l.spotlightElements=["input","select","textarea","iframe"],l.nonLabelElements=["input","select","textarea"],l=p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.a,c.a,u.a])],l);var p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(83),o=n(1),s=n(8),a=n(4),c=n(210),u=n(3),d=n(12),l=n(176),p=(function(){function t(t,e,n){var o=this;this.action$=t,this.backendService=e,this.store=n,this.saveContent$=this.action$.ofType(c.d.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,s=t.get,a=(e[0],e[1]);return i.b(o,void 0,void 0,(function(){var t,e,o,u,p,f;return i.e(this,(function(h){switch(h.label){case 0:return h.trys.push([0,5,,7]),t=Object(d.a)(a),e=Object(l.d)(a),o=Object(l.a)(a),u=i.a({},e,{type:o}),[4,s(this.backendService.createContent(t.id,t.defaultLocaleId,u))];case 1:return p=h.sent(),[4,n(c.d.succeeded(p))];case 2:return h.sent(),[4,n(Object(r.i)(p))];case 3:return h.sent(),[4,n(Object(c.j)())];case 4:return h.sent(),[3,7];case 5:return f=h.sent(),[4,n(c.d.failed(f))];case 6:return h.sent(),[3,7];case 7:return[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],p.prototype,"saveContent$",void 0),p=i.c([Object(o.Injectable)(),i.f("design:paramtypes",[s.a,u.f,a.f])],p)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(22)),a=n(28),c=(function(){function t(t){var e=this;this.messages=t,this._maxZIndex=new o.BehaviorSubject(0),this.messages.ofType(a.a.zIndexChanged).subscribe((function(t){e._maxZIndex.getValue()<t.zIndex&&e._maxZIndex.next(t.zIndex)}))}return Object.defineProperty(t.prototype,"maxZIndex",{get:function(){return this._maxZIndex},enumerable:!0,configurable:!0}),t})();c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a])],c)},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i;(function(t){t[t.OkCancelDialog=1]="OkCancelDialog",t[t.DeleteCancelDialog=2]="DeleteCancelDialog",t[t.UnsavedChanges=3]="UnsavedChanges",t[t.CancelStep=4]="CancelStep",t[t.CancelValidation=5]="CancelValidation",t[t.CancelBadge=6]="CancelBadge"})(i||(i={}));var r;(function(t){t[t.Ok=1]="Ok",t[t.Cancel=2]="Cancel",t[t.Save=3]="Save",t[t.Discard=4]="Discard",t[t.Delete=5]="Delete"})(r||(r={}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d}));var i=n(23),r=n(1),o=(n(1183),[]),s=[],a=function(t){return t};Object(r.enableProdMode)(),a=function(t){return Object(i.f)(),t},o=o.slice(),s=s.slice();var c=a,u=o.slice(),d=s.slice()},,,,function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":215,"./af.js":215,"./ar":216,"./ar-dz":217,"./ar-dz.js":217,"./ar-kw":218,"./ar-kw.js":218,"./ar-ly":219,"./ar-ly.js":219,"./ar-ma":220,"./ar-ma.js":220,"./ar-sa":221,"./ar-sa.js":221,"./ar-tn":222,"./ar-tn.js":222,"./ar.js":216,"./az":223,"./az.js":223,"./be":224,"./be.js":224,"./bg":225,"./bg.js":225,"./bn":226,"./bn.js":226,"./bo":227,"./bo.js":227,"./br":228,"./br.js":228,"./bs":229,"./bs.js":229,"./ca":230,"./ca.js":230,"./cs":231,"./cs.js":231,"./cv":232,"./cv.js":232,"./cy":233,"./cy.js":233,"./da":234,"./da.js":234,"./de":235,"./de-at":236,"./de-at.js":236,"./de-ch":237,"./de-ch.js":237,"./de.js":235,"./dv":238,"./dv.js":238,"./el":239,"./el.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-nz":244,"./en-nz.js":244,"./eo":245,"./eo.js":245,"./es":246,"./es-do":247,"./es-do.js":247,"./es.js":246,"./et":248,"./et.js":248,"./eu":249,"./eu.js":249,"./fa":250,"./fa.js":250,"./fi":251,"./fi.js":251,"./fo":252,"./fo.js":252,"./fr":253,"./fr-ca":254,"./fr-ca.js":254,"./fr-ch":255,"./fr-ch.js":255,"./fr.js":253,"./fy":256,"./fy.js":256,"./gd":257,"./gd.js":257,"./gl":258,"./gl.js":258,"./gom-latn":259,"./gom-latn.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it.js":267,"./ja":268,"./ja.js":268,"./jv":269,"./jv.js":269,"./ka":270,"./ka.js":270,"./kk":271,"./kk.js":271,"./km":272,"./km.js":272,"./kn":273,"./kn.js":273,"./ko":274,"./ko.js":274,"./ky":275,"./ky.js":275,"./lb":276,"./lb.js":276,"./lo":277,"./lo.js":277,"./lt":278,"./lt.js":278,"./lv":279,"./lv.js":279,"./me":280,"./me.js":280,"./mi":281,"./mi.js":281,"./mk":282,"./mk.js":282,"./ml":283,"./ml.js":283,"./mr":284,"./mr.js":284,"./ms":285,"./ms-my":286,"./ms-my.js":286,"./ms.js":285,"./my":287,"./my.js":287,"./nb":288,"./nb.js":288,"./ne":289,"./ne.js":289,"./nl":290,"./nl-be":291,"./nl-be.js":291,"./nl.js":290,"./nn":292,"./nn.js":292,"./pa-in":293,"./pa-in.js":293,"./pl":294,"./pl.js":294,"./pt":295,"./pt-br":296,"./pt-br.js":296,"./pt.js":295,"./ro":297,"./ro.js":297,"./ru":298,"./ru.js":298,"./sd":299,"./sd.js":299,"./se":300,"./se.js":300,"./si":301,"./si.js":301,"./sk":302,"./sk.js":302,"./sl":303,"./sl.js":303,"./sq":304,"./sq.js":304,"./sr":305,"./sr-cyrl":306,"./sr-cyrl.js":306,"./sr.js":305,"./ss":307,"./ss.js":307,"./sv":308,"./sv.js":308,"./sw":309,"./sw.js":309,"./ta":310,"./ta.js":310,"./te":311,"./te.js":311,"./tet":312,"./tet.js":312,"./th":313,"./th.js":313,"./tl-ph":314,"./tl-ph.js":314,"./tlh":315,"./tlh.js":315,"./tr":316,"./tr.js":316,"./tzl":317,"./tzl.js":317,"./tzm":318,"./tzm-latn":319,"./tzm-latn.js":319,"./tzm.js":318,"./uk":320,"./uk.js":320,"./ur":321,"./ur.js":321,"./uz":322,"./uz-latn":323,"./uz-latn.js":323,"./uz.js":322,"./vi":324,"./vi.js":324,"./x-pseudo":325,"./x-pseudo.js":325,"./yo":326,"./yo.js":326,"./zh-cn":327,"./zh-cn.js":327,"./zh-hk":328,"./zh-hk.js":328,"./zh-tw":329,"./zh-tw.js":329};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=609},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(32),a=n(123),c=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.store.dispatch(Object(a.k)())},t.prototype.ngOnDestroy=function(){this.store.dispatch(Object(a.l)())},t.prototype.onUnload=function(){this.store.dispatch(Object(s.i)())},t})();i.c([Object(r.HostListener)("window:unload"),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",void 0)],c.prototype,"onUnload",null),c=i.c([Object(r.Component)({selector:"letznav-admin",template:n(1188)}),i.f("design:paramtypes",[o.f])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(37),s=n(3),a=(function(){function t(t){this.config=t,this.BadgeType=s.g}return t})();a=i.c([Object(r.Component)({selector:"home",template:n(1189)}),i.g(0,Object(r.Inject)(o.b)),i.f("design:paramtypes",[Object])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(71),u=n(40),d=n(32),l=n(12),p=n(468),f=n(184),h=(function(){function t(t){this.store=t,this.MODE="player",this.PLAYER_RESOURCES=a.x}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.searchTextInput=new s.Subject,this.flows=this.store.select(p.a).filter((function(t){return!!t})).takeUntil(this.ngUnsubscribe),this.searchText=this.store.select(p.d).takeUntil(this.ngUnsubscribe),this.flowCount=this.store.select(p.b).takeUntil(this.ngUnsubscribe),this.canCreateMore=s.Observable.combineLatest(this.store.select(Object(l.f)(a.y.DEMO_USER)),this.flowCount).map((function(t){var e=t[0],n=t[1];return!e||n<a.m})).takeUntil(this.ngUnsubscribe),this.loadedFlows=new s.BehaviorSubject(60),this.displayedFlows=s.Observable.combineLatest(this.flows,this.loadedFlows).map((function(t){var e=t[0],n=t[1];return e.slice(0,n)})),this.searchTextInput.debounceTime(200).subscribe((function(e){t.store.dispatch(Object(f.c)(e))})),this.store.dispatch(Object(d.g)("flows.searchText"))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.loadFlows=function(){var t=this;s.Observable.combineLatest(this.flows,this.loadedFlows).take(1).subscribe((function(e){var n=e[0],i=e[1];n.length<=i||t.loadedFlows.next(Math.min(i+60,n.length))}))},t.prototype.onSearch=function(t){this.searchTextInput.next(t)},t.prototype.onClearSearch=function(){this.store.dispatch(Object(f.c)(""))},t.prototype.onPlay=function(t){this.store.dispatch(u.c.changeVisiblity({bannerVisible:!0,panelVisible:!1})),this.store.dispatch(c.H.playFlow(t.id))},t.prototype.isContent=function(t){return Number.isInteger(t.type)},t.prototype.isFlow=function(t){return!this.isContent(t)},t})();h=i.c([Object(r.Component)({selector:"flow-list",template:n(1293)}),i.f("design:paramtypes",[o.f])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(123)),c=n(614),u=n(40),d=n(32),l=(function(){function t(t,e){this.store=t,this.playerShortcuts=e}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.store.dispatch(Object(a.k)()),this.panelVisible=this.store.select(u.f.selectPanelVisible).takeUntil(this.ngUnsubscribe),this.playerShortcuts.shortcuts$.filter((function(t){return t===c.a.toggleLetznav})).withLatestFrom(this.panelVisible).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=(e[0],e[1]);t.store.dispatch(u.c.changeVisiblity({panelVisible:!n,bannerVisible:n}))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onUnload=function(){this.store.dispatch(Object(d.i)())},t})();i.c([Object(r.HostListener)("window:unload"),i.f("design:type",Function),i.f("design:paramtypes",[]),i.f("design:returntype",void 0)],l.prototype,"onUnload",null),l=i.c([Object(r.Component)({selector:"letznav-player",template:n(1206)}),i.f("design:paramtypes",[o.f,c.b])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var i,r=n(0),o=n(1),s=n(6),a=(n.n(s),n(11));(function(t){t[t.previousButton=1]="previousButton",t[t.nextButton=2]="nextButton",t[t.customButton=3]="customButton",t[t.cancelFlow=4]="cancelFlow",t[t.toggleLetznav=5]="toggleLetznav"})(i||(i={}));var c=(function(){function t(t){this.messages=t,this._shortcuts=new s.Subject,this.messages.ofType(a.b.PlayerShortcut).subscribe(this.onShortcut.bind(this))}return Object.defineProperty(t.prototype,"shortcuts$",{get:function(){return this._shortcuts},enumerable:!0,configurable:!0}),t.prototype.onShortcut=function(t){var e=i[t.shortcut];Number.isInteger(e)&&this._shortcuts.next(e)},t})();c=r.c([Object(o.Injectable)(),r.f("design:paramtypes",[a.e])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var i,r=n(3),o=n(40);(function(t){t[t.ElementNotPicked=0]="ElementNotPicked",t[t.BubbleCannotBeAttached=1]="BubbleCannotBeAttached",t[t.ElementNotVisible=2]="ElementNotVisible",t[t.SelectorInvalid=3]="SelectorInvalid",t[t.BubbleOutOfScreen=4]="BubbleOutOfScreen",t[t.NoTitle=5]="NoTitle",t[t.AnchorsNotPresent=6]="AnchorsNotPresent",t[t.MilestoneAnchorsNotPresent=7]="MilestoneAnchorsNotPresent"})(i||(i={}));var s=function(t,e,n){if(!t||!e)return[];var s=new Set;t.attachTo.trim().length||s.add(i.ElementNotPicked),t.title||s.add(i.NoTitle),e.elementFound&&!e.elementRect&&s.add(i.ElementNotVisible),!s.has(i.ElementNotPicked)&&e.selectorError&&s.add(i.SelectorInvalid),s.has(i.ElementNotPicked)||s.has(i.SelectorInvalid)||e.elementFound||s.add(i.BubbleCannotBeAttached);var a=e.bubblePosition;if(a&&!s.has(i.ElementNotVisible)&&!s.has(i.BubbleCannotBeAttached)){var c=Object(r._2)(),u=c.screenWidth,d=c.screenHeight;(a.left<0||a.left+a.width>u-o.b||a.top<0||a.top+a.height>d)&&s.add(i.BubbleOutOfScreen)}return e.elementFound&&!n&&s.add(i.AnchorsNotPresent),!t.isMilestone||t.pivotElements&&t.pivotElements.length||s.add(i.MilestoneAnchorsNotPresent),Array.from(s)}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var i=function(t){return"PLAYER_CONDITIONS_"+t},r=i("UPDATE_EVALUATION"),o=function(t,e){return{type:r,payload:{condition:t,frameId:e}}},s=i("CLEAR_EVALUATION"),a=function(){return{type:s}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(331),c="letznav_player_panel_opened",u=function(){return!!Number(sessionStorage.getItem(c))},d=(function(){function t(t){this.store=t,this.saveFrameState$=this.store.select(a.b).skip(1).do((function(t){sessionStorage.setItem(c,String(Number(t)))})).filter((function(){return null}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],d.prototype,"saveFrameState$",void 0),d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(135)),c=n(464),u=(function(){function t(t){this.store=t,this.ngUnsubscribe=new s.Subject}return t.prototype.ngOnInit=function(){var t=this;this.translation=this.store.select(a.b).map((function(e){return Object(c.b)(t.id,e)})).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();i.c([Object(r.Input)(),i.f("design:type",String)],u.prototype,"id",void 0),u=i.c([Object(r.Component)({selector:"i18nc",template:"{{ translation | async }}"}),i.f("design:paramtypes",[o.f])],u)},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(t){return t.flowFeedback},r=function(t){return i(t).isVisible},o=function(t){return i(t).feedback}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i;(function(t){t[t.CLICK_NAV=1]="CLICK_NAV",t[t.SEARCH=2]="SEARCH",t[t.START_FLOW=3]="START_FLOW",t[t.CANCEL_FLOW=4]="CANCEL_FLOW",t[t.END_FLOW=5]="END_FLOW",t[t.SUBMIT_FEEDBACK=6]="SUBMIT_FEEDBACK",t[t.GOTO_NEXT_STEP=7]="GOTO_NEXT_STEP",t[t.GOTO_PREVIOUS_STEP=8]="GOTO_PREVIOUS_STEP",t[t.CLICK_CUSTOM=9]="CLICK_CUSTOM",t[t.FLOW_ERROR=10]="FLOW_ERROR",t[t.FEEDBACK=11]="FEEDBACK",t[t.CHANGE_URL=12]="CHANGE_URL",t[t.CUSTOM_ACTION=13]="CUSTOM_ACTION",t[t.VALIDATION_RESULT=14]="VALIDATION_RESULT",t[t.LAUNCHER_ACTION=15]="LAUNCHER_ACTION",t[t.LAUNCHER_DISPLAY=16]="LAUNCHER_DISPLAY",t[t.NAVTIP_ACTION=17]="NAVTIP_ACTION",t[t.NAVTIP_DISPLAY=18]="NAVTIP_DISPLAY",t[t.ANNOUNCEMENT_DISPLAY=19]="ANNOUNCEMENT_DISPLAY",t[t.ANNOUNCEMENT_ACCEPT=20]="ANNOUNCEMENT_ACCEPT",t[t.ANNOUNCEMENT_CANCEL=21]="ANNOUNCEMENT_CANCEL"})(i||(i={}));var r=new Set([i.CLICK_NAV,i.SEARCH,i.START_FLOW,i.CANCEL_FLOW,i.END_FLOW,i.GOTO_NEXT_STEP,i.GOTO_PREVIOUS_STEP,i.CLICK_CUSTOM,i.CHANGE_URL,i.CUSTOM_ACTION,i.VALIDATION_RESULT,i.LAUNCHER_ACTION,i.LAUNCHER_DISPLAY,i.NAVTIP_ACTION,i.NAVTIP_DISPLAY,i.ANNOUNCEMENT_DISPLAY,i.ANNOUNCEMENT_ACCEPT,i.ANNOUNCEMENT_CANCEL])},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=function(t){return t.playerOptions},r=function(t){return i(t).keyboardShortcuts},o=function(t){return i(t).userActions}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=function(t){return t.playerEvents},r=function(t){return i(t).actionDefitions}},function(t,e,n){"use strict";n.d(e,"c",(function(){return a}));var i=n(625),r=n(1248);n.d(e,"d",(function(){return r.a})),n.d(e,"e",(function(){return r.b}));var o=n(1249);n.d(e,"a",(function(){return o.a}));var s=n(1250);n.d(e,"b",(function(){return s.a}));var a=[i.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(12)),c=n(461),u=n(336),d=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.locales=this.store.select(a.i).takeUntil(this.ngUnsubscribe),this.currentLocale=this.store.select(c.a).takeUntil(this.ngUnsubscribe),this.isSaving=this.store.select(c.b).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onLocaleChanged=function(t){this.store.dispatch(Object(u.d)(t)),this.store.dispatch(u.c.init())},t})();d=i.c([Object(r.Component)({selector:"change-language",template:n(1247)}),i.f("design:paramtypes",[o.f])],d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c}));var i=n(3),r=function(t){return t.forms},o=function(t){return r(t).forms},s=function(t){var e=o(t),n=a(t);return e?n.trim().length<2?e.map((function(t){return{item:t}})):Object(i.N)(e,n):null},a=function(t){return r(t).searchText},c=function(t){var e=o(t);return e&&e.length}},function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return g}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(4)),a=n(23),c=n(3),u=n(71),d=n(181),l=n(62),p=n(140),f=n(83),h=n(468),b=n(139),m="ln_announcement_",g=(function(){function t(t,e){this.store=t,this.sanitizer=e,this.loadedFlowsList=[],this.loadedContentList=[]}return t.prototype.ngOnInit=function(){return i.b(this,void 0,void 0,(function(){var t=this;return i.e(this,(function(e){return this.ngUnsubscribe=new o.Subject,this.isFormConnected=this.store.select(l.k).takeUntil(this.ngUnsubscribe),this.isPlayer&&this.store.dispatch(Object(u.O)({type:u.h.ANNOUNCEMENT_DISPLAY,data:{badgeId:this.announcement.id,formId:this.announcement.formId}})),this.store.select(h.c).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.loadedFlowsList=e})),this.store.select(p.b).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.loadedContentList=e})),[2]}))}))},Object.defineProperty(t.prototype,"isPlayer",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sanitizedContent",{get:function(){return this.announcement.content?this.sanitizer.bypassSecurityTrustHtml(this.announcement.content):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canBeDisplayed",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCancelButtonDisplayed",{get:function(){return!!this.announcement.showCancelButton},enumerable:!0,configurable:!0}),t.prototype.onActionClick=function(t){var e=this,n={badgeId:this.announcement.id,type:+this.announcement.announcementType};this.store.dispatch(Object(u.O)({type:u.h.ANNOUNCEMENT_ACCEPT,data:n})),window.localStorage.setItem(m+t,"true"),this.store.dispatch(Object(b.j)(t)),this.announcement.announcementType===c.c.Flow?Number.isInteger(this.announcement.flowId)&&(n=i.a({},n,{formId:this.announcement.formId}),Object(d.c)(this.announcement.flowId,this.loadedFlowsList)&&this.store.dispatch(u.H.playFlow(this.announcement.flowId,{id:this.announcement.stepId}))):(Number.isInteger(this.announcement.customContentId)&&(n=i.a({},n,{customContentId:this.announcement.customContentId})),this.store.select(p.b).take(1).subscribe((function(t){if(t){var n=t.find((function(t){return t.id===e.announcement.customContentId}));n&&Object(d.b)(n.id,e.loadedContentList)&&e.store.dispatch(Object(f.h)(n))}})))},t.prototype.onCancelClick=function(t){return i.b(this,void 0,void 0,(function(){return i.e(this,(function(e){return this.isPlayer&&(this.store.dispatch(Object(u.O)({type:u.h.ANNOUNCEMENT_CANCEL,data:{badgeId:this.announcement.id,formId:this.announcement.formId}})),this.store.dispatch(Object(b.j)(t))),[2]}))}))},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],g.prototype,"announcement",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],g.prototype,"display",void 0),g=i.c([Object(r.Component)({selector:"announcement-window",template:n(1274)}),i.f("design:paramtypes",[s.f,a.c])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(138)),c=n(45),u=n(63),d=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.form=this.store.select(c.a).takeUntil(this.ngUnsubscribe),this.validations=this.store.select(c.f).takeUntil(this.ngUnsubscribe),s.Observable.combineLatest(this.form,this.validations).take(1).subscribe((function(e){var n=e[0],i=e[1];t.store.dispatch(Object(u.p)(n)),t.store.dispatch(Object(a.j)(i))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(a.i)()),this.store.dispatch(Object(u.n)()),this.store.dispatch(Object(u.o)())},t})();d=i.c([Object(r.Component)({selector:"form-view",template:n(1259)}),i.f("design:paramtypes",[o.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(45)),u=n(63),d=n(100),l=n(21),p=(function(){function t(t,e){this.store=t,this.changeDetector=e}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.store.select(c.f).map(a.clone).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.validations=e})),s.Observable.combineLatest(this.store.select(c.d),this.store.select(c.b),this.store.select(c.e)).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0],i=e[1],r=e[2];t.disabled=n,t.locked=i,t.isFormConnected=r})),this.store.select(c.a).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.form=e}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onAdd=function(){this.store.dispatch(u.d.init({redirect:!0})),this.store.dispatch(Object(d.h)(!0)),this.store.dispatch(Object(l.c)(l.b.Spotlight))},t.prototype.onDeleteForm=function(){this.store.dispatch(u.e.init())},t})();p=i.c([Object(r.Component)({selector:"validation-list",template:n(1260)}),i.f("design:paramtypes",[o.f,r.ChangeDetectorRef])],p)},function(t,e,n){"use strict";var i=n(1275);n.d(e,"a",(function(){return i.a}));var r=n(1276);n.d(e,"d",(function(){return r.a})),n.d(e,"e",(function(){return r.b}));var o=(n(631),n(469));n.d(e,"b",(function(){return o.d})),n.d(e,"c",(function(){return o.e}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=function(t){return t.decisionEvaluation},r=function(t){return i(t).decisionEvaluations}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a}));var i=function(t){return"ACTIVE_FORMS_"+t},r=i("ACTIVATE_FORMS"),o=function(t){return{type:r,payload:t}},s=i("RESET_STATE"),a=function(){return{type:s}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(29),r=function(t){return t.activeForms},o=function(t){var e=r(t).forms;return e&&e.filter((function(t){return t.anchorsState.every((function(t){return t===i.a.Present}))}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return g}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(136),c=n(125);(function(t){t[t.None=0]="None",t[t.Starting=1]="Starting",t[t.InProgress=2]="InProgress",t[t.Succeeded=3]="Succeeded",t[t.Canceled=4]="Canceled"})(i||(i={}));var u,d={flow:null,steps:null,texts:null,currentStep:-1,playState:i.None,flowPath:[]},l=Object(s.Q)(a.c,{init:function(t,e){var n=e.startStep;return r.a({},t,{flow:null,steps:null,currentStep:n.index||0,flowPath:[n.index||0],playState:i.Starting})},canceled:function(t){return r.a({},d,{playState:i.Canceled})},succeeded:function(t){return r.a({},d,{playState:i.Succeeded})},failed:function(t){return d}}),p=function(t,e){return r.a({},t,e)},f=function(t,e){if(t.playState!==i.InProgress&&t.playState!==i.Starting)return t;var n=t.steps[e],s=Object(o.cloneDeep)(t.flowPath);return n&&(n.isMilestone&&(s=[]),n.isDecisionPoint||s[s.length-1]===e||s.push(e)),r.a({},t,{currentStep:e,flowPath:s})},h=function(t){return t.playState===i.Starting?r.a({},t,{playState:i.InProgress}):t},b=function(t,e){var n=t.flowPath.map(o.cloneDeep);if(t.playState!==i.InProgress)return t;var s=t.currentStep;switch(e){case c.a.Next:if(++s,n[n.length-1]===s||s>=t.steps.length)break;s>-1&&t.steps[s].isMilestone&&(n=[]),s>-1&&!t.steps[s].isDecisionPoint&&n.push(s);break;case c.a.Previous:if(-1===s||t.steps[s].isMilestone)break;s=n[n.length-2],n.pop();break;case c.a.Cancel:s=-1,n=[];break;case c.a.End:s=t.steps.length,n=[]}return r.a({},t,{currentStep:s,flowPath:n})},m=r.a({},l,(u={},u[a.e]=p,u[a.b]=f,u[a.a]=h,u[c.b]=b,u)),g=Object(s._3)(m,d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(3)),u=n(11),d=n(56),l=n(636),p=n(183),f=n(179),h=n(40),b=(function(){function t(t,e){this.store=t,this.messages=e}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.eventCooldown=new s.BehaviorSubject(!1),this.step=this.store.select(d.g).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.stepProgress=this.store.select(d.h).takeUntil(this.ngUnsubscribe),this.style=this.store.select(d.i).takeUntil(this.ngUnsubscribe),this.theme=this.store.select(d.j).takeUntil(this.ngUnsubscribe),this.metadata=this.store.select(d.f).takeUntil(this.ngUnsubscribe),this.isActive=this.store.select(d.b).takeUntil(this.ngUnsubscribe),this.isEditation=this.store.select(d.c).takeUntil(this.ngUnsubscribe),this.isVisible=s.Observable.combineLatest(this.store.select(h.f.selectPanelVisible),this.store.select(d.d)).map((function(t){t[0];return t[1]})).takeUntil(this.ngUnsubscribe),this.step.distinctUntilChanged((function(t,e){if(!t||!e||t.id!==e.id)return!1;var n=t.attachTo===e.attachTo,i=(t.frames||[]).map((function(t){return t.attachIn})).join()===(e.frames||[]).map((function(t){return t.attachIn})).join(),r=(t.containers||[]).join()===(e.containers||[]).join();return n&&i&&r})).takeUntil(this.ngUnsubscribe).do((function(){return t.store.dispatch(Object(p.g)(l.b))})).subscribe((function(){t.sendStepInfo()})),this.messages.ofType(u.b.GetElementSelector).debounceTime(50).takeUntil(this.ngUnsubscribe).subscribe((function(){t.sendStepInfo()})),this.messages.ofType(u.b.ElementState).takeUntil(this.ngUnsubscribe).subscribe(this.onElementState.bind(this)),this.messages.ofType(u.b.FramesChanged).debounceTime(100).takeUntil(this.ngUnsubscribe).subscribe(this.onFramesChanged.bind(this)),this.messages.ofType(u.b.ElementEvent).withLatestFrom(this.step,this.isVisible,this.eventCooldown).filter((function(t){var e=(t[0],t[1]),n=t[2],i=t[3];return!!e&&n&&!i})).takeUntil(this.ngUnsubscribe).subscribe(this.onElementEvent.bind(this)),this.eventCooldown.debounceTime(200).filter((function(t){return t})).subscribe((function(){return t.eventCooldown.next(!1)}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.eventCooldown.complete()},t.prototype.onBubblePositionUpdated=function(t){this.store.dispatch(Object(p.g)({bubblePosition:t}))},t.prototype.onNext=function(){this.store.dispatch(Object(p.e)(f.a.Next))},t.prototype.onPrevious=function(){this.store.dispatch(Object(p.e)(f.a.Previous))},t.prototype.onCustom=function(){this.store.dispatch(Object(p.e)(f.a.Custom))},t.prototype.onCancel=function(){this.store.dispatch(Object(p.e)(f.a.Cancel))},t.prototype.sendStepInfo=function(){var t=this;this.step.take(1).subscribe((function(e){var n;n=e?{type:u.b.ElementSelector,elementIdentification:{selector:e.attachTo,frames:e.frames,containers:e.containers}}:{type:u.b.ElementSelector,elementIdentification:{containers:[],selector:"",frames:null}},t.messages.sendMessage(n)}))},t.prototype.onElementState=function(t){var e=this;this.step.take(1).subscribe((function(n){var i=t.isVisible?t.elementRect:null,r={selectorError:t.error,elementFound:!!t.elementRect,elementRect:i,elementId:t.elementId,location:t.location,lastUpdate:(new Date).getTime()};t.elementAppeared&&(r.zIndex=t.zIndex+1),e.store.dispatch(Object(p.g)(r))}))},t.prototype.resetElementState=function(){this.store.dispatch(Object(p.g)(l.b)),this.messages.sendMessage({type:u.b.GetElementState})},t.prototype.onFramesChanged=function(){this.resetElementState()},t.prototype.onElementEvent=function(t){var e=t[0],n=t[1];c.A[n.advanceOn]===e.event&&(this.eventCooldown.next(!0),this.store.dispatch(Object(p.e)(f.a.Next)))},t})();b=i.c([Object(r.Component)({selector:"bubble-preview",template:n(1279)}),i.f("design:paramtypes",[o.f,u.e])],b)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return h}));var i,r=n(0),o=n(3),s=n(179),a=n(183),c={zIndex:0,elementRect:null,elementId:null,selectorError:null,elementFound:!1,bubblePosition:null,location:null,lastUpdate:null},u={style:null,theme:null,bubbleMode:s.b.Inactive,metadata:c},d=Object(o.Q)(a.b,{succeeded:function(t,e){return r.a({},t,{style:e.style,theme:e.theme})}}),l=function(t,e){return r.a({},t,{metadata:r.a({},t.metadata,e)})},p=function(t,e){return r.a({},t,{bubbleMode:e})},f=r.a({},d,(i={},i[a.d]=l,i[a.c]=p,i)),h=Object(o._3)(f,u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(72)),c=n(86),u=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.flow=this.store.select(a.a).takeUntil(this.ngUnsubscribe),this.steps=this.store.select(a.d).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(c.j)())},t.prototype.onAdd=function(){this.store.dispatch(c.b.init({redirect:!0}))},t})();u=i.c([Object(r.Component)({selector:"flow-view",template:n(1299)}),i.f("design:paramtypes",[o.f])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(601)),c=(n.n(a),n(10)),u=(n.n(c),n(3)),d=n(72),l=n(86),p=n(141),f=(function(){function t(t,e,n){this.store=t,this.dragula=e,this.changeDetector=n,this.StepType=u.C,this.showAddStepHints=!1}return Object.defineProperty(t.prototype,"editDisabled",{get:function(){return this.disabled||this.locked},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.dragula.setOptions("step-bag",{moves:function(e,n,i,r){return!t.editDisabled},mirrorContainer:document.getElementsByTagName("letznav-app-editor")[0].getElementsByClassName("dragula-container")[0]}),this.ngUnsubscribe=new s.Subject,this.store.select(d.d).map(c.clone).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.steps=Object(p.d)(e)})),this.dragula.dropModel.takeUntil(this.ngUnsubscribe).subscribe((function(){var e=t.steps.map((function(t){return t.id}));t.store.dispatch(l.i.init(e))})),s.Observable.combineLatest(this.store.select(d.c),this.store.select(d.b)).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0],i=e[1];t.disabled=n,t.locked=i})),this.flow=this.store.select(d.a).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.dragula.destroy("step-bag")},t.prototype.onDelete=function(t){this.store.dispatch(l.d.init({step:t}))},t.prototype.onAdd=function(t,e){void 0===t&&(t=null),this.store.dispatch(l.b.init({addAfter:t,redirect:!0,type:e}))},t.prototype.onDeleteFlow=function(){this.store.dispatch(l.c.init({}))},t.prototype.showHints=function(t){this.showAddStepHints=t,this.changeDetector.markForCheck()},t})();f=i.c([Object(r.Component)({selector:"step-list",template:n(1302)}),i.f("design:paramtypes",[o.f,a.DragulaService,r.ChangeDetectorRef])],f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(3)),u=n(11),d=n(134),l=n(99),p=n(73),f=n(125),h=n(21),b=n(32),m=n(180),g=(function(){function t(t,e,n,i){this.store=t,this.messages=e,this.shortcuts=n,this.elementRef=i,this.PickedElementType=h.b,this.validationErrors=[]}return Object.defineProperty(t.prototype,"isDisabled",{get:function(){var t;return this.disabled.take(1).subscribe((function(e){return t=e})),t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.searchElements=new s.Subject,this.step=this.store.select(l.k).map((function(t){return t})).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.decisionPoint=this.store.select(l.d).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.stepIndex=this.store.select(l.l).takeUntil(this.ngUnsubscribe),this.validation=this.store.select(l.m).takeUntil(this.ngUnsubscribe),this.validation.subscribe((function(e){return t.validationErrors=e})),this.disabled=this.store.select(l.f).takeUntil(this.ngUnsubscribe),this.isLocked=this.store.select(l.g).takeUntil(this.ngUnsubscribe),this.canBeSaved=this.store.select(l.b).takeUntil(this.ngUnsubscribe),this.playerTheme=this.store.select(f.i.selectTheme).takeUntil(this.ngUnsubscribe),this.flowSteps=this.store.select(l.c).takeUntil(this.ngUnsubscribe),this.isCurrentStepAnchored=s.Observable.combineLatest(this.store.select(m.b),this.store.select(l.j)).map((function(t){var e=t[0];return t[1]&&e})).takeUntil(this.ngUnsubscribe),this.searchElements.debounceTime(100).takeUntil(this.ngUnsubscribe).subscribe((function(e){e.length>=2?t.messages.sendMessage({type:u.b.SearchElementByText,searchText:e}):e||t.messages.sendMessage({type:u.b.ClearTextSearch})})),this.shortcuts.shortcuts.withLatestFrom(this.disabled).filter((function(t){var e=t[0];return!t[1]||e===c.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0];return t.onShortcut(n)})),this.store.dispatch(Object(f.k)(f.c.StepView)),this.store.dispatch(Object(b.g)(l.a,!1))},t.prototype.ngAfterViewInit=function(){var t=this;s.Observable.timer(200).takeUntil(this.ngUnsubscribe).subscribe((function(){s.Observable.combineLatest(t.store.select(l.e),t.store.select(l.j)).map((function(t){var e=t[0],n=t[1];return e&&n})).take(1).subscribe((function(e){e&&t.store.dispatch(Object(h.c)(h.b.Element))})),t.isCurrentStepAnchored.distinctUntilChanged().debounceTime(100).takeUntil(t.ngUnsubscribe).subscribe((function(e){if(!e){t.elementRef.nativeElement.getElementsByTagName("flow-integrity")[0].scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}}))}))},t.prototype.ngOnDestroy=function(){this.store.dispatch(Object(f.k)(f.c.Inactive)),this.messages.sendMessage({type:u.b.ClearTextSearch}),this.searchElements.complete(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(b.n)(l.a)),this.store.dispatch(Object(p.h)())},t.prototype.onElementSelected=function(t){var e=this;this.step.take(1).subscribe((function(n){t.pickedElementType===h.b.Anchor?(n.pivotElements||(n.pivotElements=[]),n.pivotElements.push(t.element)):(n.containers=t.element.containers,n.attachTo=t.element.selector,n.frames=t.element.frames,n.screenshot=null,n.metadata.elementRect=null,t.label&&!n.title&&(1===t.label.type?n.title="Enter "+t.label.text:n.title=t.label.text),n.uriHashes.indexOf(t.uriHash)<0&&n.uriHashes.push(t.uriHash)),e.store.dispatch(Object(p.k)(n))})),this.clearTextSearch()},t.prototype.onSearch=function(){this.searchElements.next(this.searchText)},t.prototype.onSubmit=function(t){if(this.validationErrors.length>0&&!this.isShowValidationErrors)return void(this.isShowValidationErrors=!0);this.store.dispatch(p.c.init({goToNextStep:t})),this.isShowValidationErrors=!1},t.prototype.onStepUpdated=function(t){this.store.dispatch(Object(p.k)(t))},t.prototype.onExpandSelection=function(){this.isDisabled||this.messages.sendMessage({type:u.b.ChangeSelection,change:u.g.Expand})},t.prototype.onNarrowSelection=function(){this.isDisabled||this.messages.sendMessage({type:u.b.ChangeSelection,change:u.g.Narrow})},t.prototype.onSelectPrevious=function(){this.isDisabled||this.messages.sendMessage({type:u.b.ChangeSelection,change:u.g.Previous})},t.prototype.onSelectNext=function(){this.isDisabled||this.messages.sendMessage({type:u.b.ChangeSelection,change:u.g.Next})},t.prototype.onShowSelection=function(){this.messages.sendMessage({type:u.b.ShowSelection})},t.prototype.onHideSelection=function(){this.messages.sendMessage({type:u.b.HideSelection})},t.prototype.onUploadImage=function(t){this.store.dispatch(p.g.init(t))},t.prototype.onDelete=function(){this.store.dispatch(p.b.init({redirect:!0}))},t.prototype.clearTextSearch=function(){this.searchText&&(this.searchText="",this.searchElements.next(this.searchText))},t.prototype.onShortcut=function(t){switch(t){case c.u.saveEditor:this.onSubmit();break;case c.u.pickElement:this.store.dispatch(Object(h.c)(h.b.Element));break;case c.u.cancelAction:this.store.dispatch(Object(h.d)())}},t})();g=i.c([Object(r.Component)({selector:"step-view",template:n(1306)}),i.f("design:paramtypes",[o.f,u.e,d.a,r.ElementRef])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(3),r=function(t){t.isDecisionPoint||("string"!=typeof t.attachTo&&(t.attachTo=""),t.advanceOn in i.z||(t.advanceOn=i.z.CLICK_NEXT),t.metadata||(t.metadata={}),t.uriHashes||(t.uriHashes=[]),t.attachDirection||(t.attachDirection="RIGHT"))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(32)),u=n(642),d=n(339),l=(function(){function t(t){this.store=t,this.isNew=!1}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.flow=this.store.select(u.a).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(u.b).takeUntil(this.ngUnsubscribe),this.validationIssues=this.store.select(u.c).takeUntil(this.ngUnsubscribe),this.store.dispatch(Object(c.g)("editFlow.flow"))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(c.n)("editFlow.flow"))},t.prototype.onUpdate=function(t){this.store.dispatch(Object(d.e)(Object(a.cloneDeep)(t)))},t.prototype.onSave=function(){this.store.dispatch(d.a.init())},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"isNew",void 0),l=i.c([Object(r.Component)({selector:"edit-flow",template:n(1322)}),i.f("design:paramtypes",[o.f])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var i=function(t){return t.editFlow},r=function(t){return i(t).flow},o=function(t){return i(t).isSaving},s=function(t){return i(t).validationIssues}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return t})();o=i.c([Object(r.Component)({selector:"new-flow",template:n(1323)})],o)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(3)),c=n(72),u=n(12),d=n(339),l=(function(){function t(t,e){this.store=t,this.backendService=e}return t.prototype.resolve=function(t){var e=this;return Object(s.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a;return i.e(this,(function(i){switch(i.label){case 0:return[4,r(this.store.take(1))];case 1:return e=i.sent(),n=Object(u.a)(e),t.url.find((function(t){return"add"===t.path}))?[4,o(Object(d.d)({id:-1,name:"",alwaysVisible:!1,description:"",deployment:0,tags:[]}))]:[3,3];case 2:return i.sent(),[3,6];case 3:return s=Object(c.a)(e),[4,r(this.backendService.validateFlow(n.id,s.id))];case 4:return a=i.sent().validationIssues,[4,o(Object(d.d)({id:s.id,name:s.name,alwaysVisible:s.alwaysVisible,description:s.description,deployment:s.deployment,tags:s.tags},a))];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,a.f])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(70),s=n(4),a=n(6),c=(n.n(a),n(72)),u=n(71),d=(function(){function t(t,e,n){this.store=t,this.router=e,this.route=n}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.flow=this.store.select(c.a).takeUntil(this.ngUnsubscribe),this.steps=this.store.select(c.d).takeUntil(this.ngUnsubscribe),this.playState=this.store.select(u.N.selectPlayState).takeUntil(this.ngUnsubscribe),this.currentStepIndex=this.store.select(u.N.selectCurrentStep).takeUntil(this.ngUnsubscribe),this.playState.take(1).subscribe((function(e){e!==u.j.InProgress&&t.onPlayAgain()})),this.playState.skip(1).filter((function(t){return t===u.j.Canceled||t===u.j.Succeeded})).takeUntil(this.ngUnsubscribe).subscribe((function(){t.router.navigate([".."],{relativeTo:t.route})}))},t.prototype.ngOnDestroy=function(){this.onCancel(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onGotoStep=function(t){var e=this;this.playState.withLatestFrom(this.flow).take(1).subscribe((function(n){var i=n[0],r=n[1];i!==u.j.InProgress?e.store.dispatch(u.H.playFlow(r.id,{index:t})):e.store.dispatch(u.H.moveToStep(t))}))},t.prototype.onPlayAgain=function(){var t=this;this.flow.take(1).subscribe((function(e){t.store.dispatch(u.H.playFlow(e.id))}))},t.prototype.onCancel=function(){var t=this;this.playState.take(1).subscribe((function(e){e===u.j.InProgress&&t.store.dispatch(u.H.cancelPlay())}))},t})();d=i.c([Object(r.Component)({selector:"flow-play",template:n(1328)}),i.f("design:paramtypes",[s.f,o.d,o.a])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(626),u=n(124),d=n(12),l=n(32),p=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.searchTextInput=new s.Subject,this.forms=this.store.select(c.a).filter((function(t){return!!t})).takeUntil(this.ngUnsubscribe),this.searchText=this.store.select(c.d).takeUntil(this.ngUnsubscribe),this.formCount=this.store.select(c.c).takeUntil(this.ngUnsubscribe),this.canCreateMore=s.Observable.combineLatest(this.store.select(Object(d.f)(a.y.DEMO_USER)),this.formCount).map((function(t){var e=t[0],n=t[1];return!e||n<a.m})).takeUntil(this.ngUnsubscribe),this.loadedForms=new s.BehaviorSubject(60),this.displayedForms=s.Observable.combineLatest(this.forms,this.loadedForms).map((function(t){var e=t[0],n=t[1];return e.slice(0,n)})),this.searchTextInput.debounceTime(200).subscribe((function(e){t.store.dispatch(Object(u.c)(e))})),this.store.dispatch(Object(l.g)("forms.searchText"))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.loadForms=function(){var t=this;s.Observable.combineLatest(this.forms,this.loadedForms).take(1).subscribe((function(e){var n=e[0],i=e[1];n.length<=i||t.loadedForms.next(Math.min(i+60,n.length))}))},t.prototype.onClearSearch=function(){this.store.dispatch(Object(u.c)(""))},t.prototype.onSearch=function(t){this.searchTextInput.next(t)},t})();p=i.c([Object(r.Component)({selector:"form-list",template:n(1336)}),i.f("design:paramtypes",[o.f])],p)},function(t,e,n){"use strict";n.d(e,"f",(function(){return d}));var i=n(648),r=n(649),o=n(1344),s=n(1346);n.d(e,"g",(function(){return s.a})),n.d(e,"h",(function(){return s.b}));var a=n(1347);n.d(e,"c",(function(){return a.a}));var c=n(1348);n.d(e,"d",(function(){return c.a}));var u=n(1349);n.d(e,"a",(function(){return u.a})),n.d(e,"b",(function(){return i.a})),n.d(e,"e",(function(){return r.a}));var d=[i.a,o.a,r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(3)),u=n(134),d=n(32),l=n(21),p=n(62),f=n(102),h=n(340),b=n(101),m=(function(){function t(t,e){this.store=t,this.shortcuts=e,this.BadgeType=c.g,this.isInteger=Number.isInteger}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.form=this.store.select(h.b).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.formState=this.store.select(p.j).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(h.d).takeUntil(this.ngUnsubscribe),this.valid=this.store.select(h.f).takeUntil(this.ngUnsubscribe),this.badgeType=this.store.select(f.a).takeUntil(this.ngUnsubscribe),this.shortcuts.shortcuts.withLatestFrom(this.disabled).filter((function(t){var e=t[0];return!t[1]||e===c.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0];return t.onShortcut(n)})),this.store.dispatch(Object(d.g)(h.a,!1))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(d.n)(h.a))},t.prototype.onUpdate=function(t){this.store.dispatch(Object(b.e)(Object(a.cloneDeep)(t)))},t.prototype.onSave=function(){this.store.dispatch(b.a.init())},t.prototype.onShortcut=function(t){switch(t){case c.u.saveEditor:this.onSave();break;case c.u.pickElement:this.store.dispatch(Object(l.c)(l.b.Anchor));break;case c.u.cancelAction:this.store.dispatch(Object(l.d)())}},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],m.prototype,"isNew",void 0),m=i.c([Object(r.Component)({selector:"edit-form",template:n(1342)}),i.f("design:paramtypes",[o.f,u.a])],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(63)),c=n(340),u=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.form=this.store.select(c.b).takeUntil(this.ngUnsubscribe),this.form.take(1).subscribe((function(e){t.store.dispatch(Object(a.p)(e))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(a.n)())},t})();u=i.c([Object(r.Component)({selector:"new-form",template:n(1343)}),i.f("design:paramtypes",[o.f])],u)},function(t,e,n){"use strict";n.d(e,"f",(function(){return p}));var i=n(651),r=n(1361),o=n(1363),s=n(1365),a=n(1367);n.d(e,"c",(function(){return i.a}));var c=n(1369);n.d(e,"e",(function(){return c.a})),n.d(e,"g",(function(){return c.b}));var u=n(1370);n.d(e,"d",(function(){return u.a}));var d=n(1371);n.d(e,"b",(function(){return d.a}));var l=n(1372);n.d(e,"a",(function(){return l.a}));var p=[i.a,r.a,o.a,s.a,a.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n(0),r=n(1),o=n(4),s=n(19),a=n(6),c=(n.n(a),n(10)),u=(n.n(c),n(3)),d=n(134),l=n(11),p=n(21),f=n(32),h=n(45),b=n(341),m=n(100),g=n(476),v=n(62),y=(function(){function t(t,e,n){this.store=t,this.shortcuts=e,this.messages=n,this.PickedElementType=p.b}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.validation=this.store.select(b.g).map(c.cloneDeep).takeUntil(this.ngUnsubscribe),this.status=this.store.select(g.d).withLatestFrom(this.store.select(b.g)).map((function(t){var e=t[0],n=t[1];return e.find((function(t){return t.id===n.id}))})).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(b.c).takeUntil(this.ngUnsubscribe),this.invalid=this.status.map((function(t){return t&&0!==t.erroneousValidators.length})),this.locked=this.store.select(b.d).takeUntil(this.ngUnsubscribe),this.isFormConnected=this.store.select(v.k).takeUntil(this.ngUnsubscribe),this.editDisabled=a.Observable.combineLatest(this.disabled,this.locked).map((function(t){var e=t[0],n=t[1];return e||n})),this.pickDisabled=a.Observable.combineLatest(this.editDisabled,this.isFormConnected).map((function(t){var e=t[0],n=t[1];return e||!n})).takeUntil(this.ngUnsubscribe),this.needsSaving=this.store.select(b.f).takeUntil(this.ngUnsubscribe),this.shortcuts.shortcuts.withLatestFrom(this.disabled).filter((function(t){var e=t[0];return!t[1]||e===u.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0];return t.onShortcut(n)})),this.store.dispatch(Object(f.g)(b.a,!1))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(f.n)(b.a)),this.store.dispatch(Object(m.g)())},t.prototype.onDelete=function(){this.store.dispatch(m.b.init({redirect:!0}))},t.prototype.onSubmit=function(){var t=this;this.store.take(1).subscribe((function(e){if(Object(b.f)(e))t.store.dispatch(m.c.init());else{var n=Object(h.a)(e);t.store.dispatch(Object(s.b)("admin/form/"+n.id+"/"))}}))},t.prototype.onUpdated=function(t){this.store.dispatch(Object(m.j)(t))},t.prototype.onElementSelected=function(t){var e=this;this.validation.take(1).subscribe((function(n){n.inputElement=t.element,t.label&&(n.name=t.label.text),e.store.dispatch(Object(m.j)(n))}))},t.prototype.onShowSelection=function(){var t=this;this.validation.take(1).subscribe((function(e){return t.messages.sendMessage({type:l.b.ShowSpotlight,validationId:e.id})}))},t.prototype.onHideSelection=function(){this.messages.sendMessage({type:l.b.HideSpotlight})},t.prototype.onShortcut=function(t){switch(t){case u.u.saveEditor:this.onSubmit();break;case u.u.pickElement:this.store.dispatch(Object(p.c)(p.b.Spotlight));break;case u.u.cancelAction:this.store.dispatch(Object(p.d)())}},t})();y=i.c([Object(r.Component)({selector:"validation-view",template:n(1360)}),i.f("design:paramtypes",[o.f,d.a,l.e])],y)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(37),s=n(103),a=n(126),c=(function(){function t(t,e){this.elementRef=t,this.BACKEND_URL=e,this.ValidationState=s.b,this.POSITIONING_MODE=a.a,this.isMouseIn=new r.EventEmitter,this.init=new r.EventEmitter}return Object.defineProperty(t.prototype,"positioningData",{get:function(){return{elementId:this.field.elementId,elementRect:this.field.elementRect}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(t){this.isMouseIn.emit(!0)},t.prototype.onMouseLeave=function(t){this.isMouseIn.emit(!1)},t.prototype.ngOnInit=function(){this.init.emit(this)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"field",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"display",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],c.prototype,"isMouseIn",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"init",void 0),i.c([Object(r.HostListener)("mouseover",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],c.prototype,"onMouseEnter",null),i.c([Object(r.HostListener)("mouseout",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],c.prototype,"onMouseLeave",null),c=i.c([Object(r.Component)({selector:"admin-validation-indicator",template:n(1353)}),i.g(1,Object(r.Inject)(o.a)),i.f("design:paramtypes",[r.ElementRef,String])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(1378),u=n(342),d=n(12),l=n(32),p=(function(){function t(t){this.store=t,this.BadgeType=a.g,this.getBadgeTypeString=a.S}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.searchTextInput=new s.Subject,this.forms=this.store.select(c.b).filter((function(t){return!!t})).takeUntil(this.ngUnsubscribe),this.searchText=this.store.select(c.d).takeUntil(this.ngUnsubscribe),this.formCount=this.store.select(c.c).takeUntil(this.ngUnsubscribe),this.badgeType=this.store.select(c.a).takeUntil(this.ngUnsubscribe),this.canCreateMore=s.Observable.combineLatest(this.store.select(Object(d.f)(a.y.DEMO_USER)),this.formCount).map((function(t){var e=t[0],n=t[1];return!e||n<a.m})).takeUntil(this.ngUnsubscribe),this.loadedForms=new s.BehaviorSubject(60),this.displayedForms=s.Observable.combineLatest(this.forms,this.loadedForms).map((function(t){var e=t[0],n=t[1];return e.slice(0,n)})),this.searchTextInput.debounceTime(200).subscribe((function(e){t.store.dispatch(Object(u.c)(e))})),this.store.dispatch(Object(l.g)("forms.searchText"))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.loadForms=function(){var t=this;s.Observable.combineLatest(this.forms,this.loadedForms).take(1).subscribe((function(e){var n=e[0],i=e[1];n.length<=i||t.loadedForms.next(Math.min(i+60,n.length))}))},t.prototype.onClearSearch=function(){this.store.dispatch(Object(u.c)(""))},t.prototype.onSearch=function(t){this.searchTextInput.next(t)},t})();p=i.c([Object(r.Component)({selector:"badge-form-list",template:n(1379)}),i.f("design:paramtypes",[o.f])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(102),u=n(74),d=n(139),l=n(63),p=n(62),f=n(479),h=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.store.select(c.a).take(1).subscribe((function(e){return t.badgeType=e})),this.form=this.store.select(p.h).takeUntil(this.ngUnsubscribe),this.badges=this.store.select(c.b).takeUntil(this.ngUnsubscribe),s.Observable.combineLatest(this.form,this.badges).take(1).subscribe((function(e){var n=e[0],i=e[1];t.store.dispatch(Object(l.p)(n)),t.store.dispatch(Object(d.l)(i))})),this.badgeType!==a.g.Launcher&&this.badgeType!==a.g.Announcement||this.store.dispatch(f.d.turnOnFiltering())},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.badgeType===a.g.Launcher&&this.store.dispatch(f.d.turnOffFiltering()),this.store.dispatch(Object(d.h)()),this.store.dispatch(Object(l.n)()),this.store.dispatch(Object(u.i)())},t})();h=i.c([Object(r.Component)({selector:"badge-form-view",template:n(1390)}),i.f("design:paramtypes",[o.f])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(3)),u=n(75),d=n(62),l=n(21),p=n(102),f=n(74),h=(function(){function t(t,e){this.store=t,this.changeDetector=e,this.BadgeType=c.g,this.getBadgeTypeString=c.S,this.badgeType=c.g.Launcher}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.store.select(p.a).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.badgeType=e})),this.store.select(p.b).map(a.clone).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.badges=e})),s.Observable.combineLatest(this.store.select(p.c),this.store.select(d.i),this.store.select(d.k)).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0],i=e[1],r=e[2];t.disabled=n,t.locked=i,t.isFormConnected=r})),this.store.select(d.h).do((function(){return t.changeDetector.markForCheck()})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.form=e}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onAdd=function(){this.store.dispatch(f.b.init({redirect:!0})),this.store.dispatch(Object(u.k)(!0)),this.badgeType!==c.g.Launcher&&this.badgeType!==c.g.NavTip||this.store.dispatch(Object(l.c)(l.b.Spotlight))},t.prototype.onDeleteForm=function(){this.store.dispatch(f.d.init())},t})();h=i.c([Object(r.Component)({selector:"badge-list",template:n(1391)}),i.f("design:paramtypes",[o.f,r.ChangeDetectorRef])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(6),o=(n.n(r),n(10)),s=(n.n(o),n(1)),a=n(3),c=n(11),u=n(21),d={containers:null,selector:null,frames:null},l=(function(){function t(t){this.messages=t,this.updatedLauncher=new s.EventEmitter,this.LauncherType=a.v,this.ContentType=a.k,this.PickedElementType=u.b,this.onPaddingInputDebounced=Object(o.debounce)(this.onPaddingInput.bind(this),100)}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new r.Subject,Number.isInteger(this.launcher.launcherType)||(this.launcher.launcherType=a.v.Flow),this.launcher.indicatorPadding=this.launcher.indicatorPadding||0},t.prototype.getTypeString=function(t){return Object(a._0)(t)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onUpdate=function(){this.updatedLauncher.emit(this.launcher)},t.prototype.onElementSelected=function(t){this.launcher.element||(this.launcher.element=Object(o.cloneDeep)(d)),this.launcher.element.containers=t.element.containers,this.launcher.element.selector=t.element.selector,this.launcher.element.frames=t.element.frames,t.label&&(this.launcher.name=t.label.text),this.onUpdate()},t.prototype.onPaddingInput=function(t){this.launcher.indicatorPadding=t.value,this.onUpdate()},t.prototype.onShowSelection=function(){this.messages.sendMessage({type:c.b.ShowBadge,badgeId:this.launcher.id})},t.prototype.onHideSelection=function(){this.messages.sendMessage({type:c.b.HideBadge})},t.prototype.getContentType=function(t){var e=Object(a.W)(t);return this.uploadedContent.type=e,e},t})();i.c([Object(s.Input)(),i.f("design:type",Object)],l.prototype,"launcher",void 0),i.c([Object(s.Input)(),i.f("design:type",Boolean)],l.prototype,"disabled",void 0),i.c([Object(s.Input)(),i.f("design:type",Boolean)],l.prototype,"isFormConnected",void 0),i.c([Object(s.Input)(),i.f("design:type",Object)],l.prototype,"uploadedContent",void 0),i.c([Object(s.Output)(),i.f("design:type",s.EventEmitter)],l.prototype,"updatedLauncher",void 0),l=i.c([Object(s.Component)({selector:"launcher-view",template:n(1395)}),i.f("design:paramtypes",[c.e])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(10)),a=(n.n(s),n(4)),c=n(3),u=n(176),d=(function(){function t(t){this.store=t,this.updatedBadge=new r.EventEmitter,this.BadgeType=c.g}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new o.Subject,this.uploadedContent=this.store.select(u.d).map(s.cloneDeep).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onUpdate=function(){this.updatedBadge.emit(this.badge)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"badge",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"isFormConnected",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"timezones",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"updatedBadge",void 0),d=i.c([Object(r.Component)({selector:"badge-content",template:n(1396)}),i.f("design:paramtypes",[a.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(10),o=(n.n(r),n(4)),s=n(1),a=n(6),c=(n.n(a),n(19)),u=n(214),d=n(176),l=n(3),p=n(21),f=n(62),h=n(45),b=n(345),m=n(75),g=(function(){function t(t,e){this.store=t,this.shortcuts=e,this.validationErrors=null,this.customContentValidationErrors=[],this.BadgeType=l.g,this.getBadgeTypeString=l.S,this.canSavecustomContent=!0}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.badge=this.store.select(b.a).map(r.cloneDeep).takeUntil(this.ngUnsubscribe),this.validation=this.store.select(b.i).takeUntil(this.ngUnsubscribe),this.customContentValidation=this.store.select(d.b).takeUntil(this.ngUnsubscribe),this.needsSaving=this.store.select(b.g).takeUntil(this.ngUnsubscribe),this.isFormConnected=this.store.select(f.k).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(b.d).takeUntil(this.ngUnsubscribe),this.locked=this.store.select(b.e).map(r.cloneDeep).takeUntil(this.ngUnsubscribe),this.validation.subscribe((function(e){t.validationErrors=e})),this.customContentValidation.subscribe((function(e){t.badge.subscribe((function(n){if(n.type===t.BadgeType.Launcher){n.customContentId<0?(t.customContentValidationErrors=e,t.canSavecustomContent=0===e.length):t.canSavecustomContent=!0}}))})),this.shortcuts.shortcuts.withLatestFrom(this.disabled).filter((function(t){var e=t[0];return!t[1]||e===l.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0];return t.onShortcut(n)})),this.badge.subscribe((function(e){return t.badgeType=e.type})),this.timezones=this.store.select(b.h).map(r.cloneDeep).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(m.i)())},t.prototype.onUpdate=function(t){this.store.dispatch(Object(m.l)(t))},t.prototype.onSubmit=function(){var t=this;if((this.validationErrors.errors.length>0||this.validationErrors.warnings.length>0||this.customContentValidationErrors.length>0)&&!this.isShowValidationErrors)return void(this.isShowValidationErrors=!0);this.store.take(1).subscribe((function(e){if(Object(b.g)(e))t.store.dispatch(m.d.init());else{var n=Object(h.a)(e),i=Object(b.a)(e);t.store.dispatch(Object(c.b)("admin/badge-form/"+i.type+"/"+n.id+"/"))}}))},t.prototype.onDelete=function(){this.store.dispatch(m.b.init({redirect:!0}))},t.prototype.onShortcut=function(t){switch(t){case l.u.saveEditor:this.onSubmit();break;case l.u.pickElement:this.badgeType!==l.g.Launcher&&this.badgeType!==l.g.NavTip||this.store.dispatch(Object(p.c)(p.b.Element));break;case l.u.cancelAction:this.store.dispatch(Object(p.d)())}},t})();g=i.c([Object(s.Component)({selector:"badge-view",template:n(1398)}),i.f("design:paramtypes",[o.f,u.b])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var i,r=n(3),o=n(1397),s=n(102);(function(t){t[t.ElementNotSelected=0]="ElementNotSelected",t[t.NameAbsent=1]="NameAbsent",t[t.HoverMessageAbsent=2]="HoverMessageAbsent",t[t.LauncherTypeAbsent=3]="LauncherTypeAbsent",t[t.AnnouncementTitleAbsent=4]="AnnouncementTitleAbsent",t[t.AnnouncementContentAbsent=5]="AnnouncementContentAbsent",t[t.fromDateAbsent=6]="fromDateAbsent",t[t.ToDateAbsent=7]="ToDateAbsent",t[t.WorkflowAbsent=8]="WorkflowAbsent",t[t.StepAbsent=9]="StepAbsent",t[t.LinkAbsent=10]="LinkAbsent",t[t.VideoAbsent=11]="VideoAbsent",t[t.AnnouncementOverlapping=12]="AnnouncementOverlapping",t[t.AnnouncementDateCompare=13]="AnnouncementDateCompare",t[t.AnnouncementTimezoneAbsent=14]="AnnouncementTimezoneAbsent",t[t.ElementPresenceElementNotPicked=15]="ElementPresenceElementNotPicked",t[t.LabelComparisonElementNotPicked=16]="LabelComparisonElementNotPicked",t[t.InputFieldComparisonElementNotPicked=17]="InputFieldComparisonElementNotPicked",t[t.NoLabelComparisonOperator=18]="NoLabelComparisonOperator",t[t.NoInputFieldComparisonOperator=19]="NoInputFieldComparisonOperator",t[t.NoLabelComparisonValue=20]="NoLabelComparisonValue",t[t.NoInputFieldComparisonValue=21]="NoInputFieldComparisonValue",t[t.CustomScriptError=22]="CustomScriptError",t[t.CustomScriptEmpty=23]="CustomScriptEmpty"})(i||(i={}));var a=function(t){switch(t){case i.ElementNotSelected:return"No element has been picked";case i.NameAbsent:return"Name is required";case i.HoverMessageAbsent:return"Hover message is required";case i.LauncherTypeAbsent:return"No Launcher Option Selected";case i.WorkflowAbsent:return"No workflow has been selected";case i.StepAbsent:return"No workflow-step has been selected";case i.LinkAbsent:return"No Link has been selected";case i.VideoAbsent:return"No Video has been selected";case i.AnnouncementOverlapping:return"Announcemet already exists in the selected schedule";case i.AnnouncementDateCompare:return"Announcement schedule from-date should be before to to-date";case i.AnnouncementContentAbsent:return"Content is required";case i.AnnouncementTitleAbsent:return"Tite is required";case i.AnnouncementContentAbsent:return"Content is required";case i.fromDateAbsent:return"From Date in schedule is required";case i.ToDateAbsent:return"To Date in schedule is required";case i.AnnouncementTimezoneAbsent:return"No Timezone has been selected";case i.ElementPresenceElementNotPicked:return"No element has been picked for element presence condition";case i.LabelComparisonElementNotPicked:return"No element has been picked for label comparison condition";case i.NoLabelComparisonOperator:return"Label comparison operator is required";case i.InputFieldComparisonElementNotPicked:return"No element has been picked for spotlight comparison condition";case i.NoInputFieldComparisonOperator:return"Spotlight comparision operator is required";case i.NoInputFieldComparisonValue:return"Spotlight comparison value is required";case i.NoLabelComparisonValue:return"Label comparison value is required";case i.CustomScriptError:return"Custom script contains errors";case i.CustomScriptEmpty:return"Custom script is empty";default:return""}},c=function(t,e){if(!e)return null;var n=new Set,a=new Set;switch(+e.type){case r.g.Launcher:var c=e;switch(n.has(i.ElementNotSelected)||c.element&&c.element.selector||n.add(i.ElementNotSelected),!n.has(i.NameAbsent)&&l(c.name)&&n.add(i.NameAbsent),!n.has(i.HoverMessageAbsent)&&l(c.hoverMessage)&&n.add(i.HoverMessageAbsent),n.has(i.LauncherTypeAbsent)||Number.isInteger(c.launcherType)||n.add(i.LauncherTypeAbsent),c.launcherType){case r.v.Flow:n.has(i.WorkflowAbsent)||Number.isInteger(c.flowId)||n.add(i.WorkflowAbsent),n.has(i.StepAbsent)||Number.isInteger(c.stepId)||n.add(i.StepAbsent);break;case r.v.URL:n.has(i.LinkAbsent)||c.customContentId&&Number.isInteger(+c.customContentId)||n.add(i.LinkAbsent);break;case r.v.Video:n.has(i.VideoAbsent)||c.customContentId&&Number.isInteger(+c.customContentId)||n.add(i.VideoAbsent)}case r.g.NavTip:var p=e;n.has(i.ElementNotSelected)||p.element&&p.element.selector||n.add(i.ElementNotSelected),!n.has(i.NameAbsent)&&l(p.name)&&n.add(i.NameAbsent),!n.has(i.HoverMessageAbsent)&&l(p.hoverMessage)&&n.add(i.HoverMessageAbsent);break;case r.g.Announcement:var f=e;switch(!n.has(i.AnnouncementTitleAbsent)&&l(f.name)&&n.add(i.AnnouncementTitleAbsent),!n.has(i.AnnouncementContentAbsent)&&l(f.content)&&n.add(i.AnnouncementContentAbsent),n.has(i.fromDateAbsent)||f.fromDate||n.add(i.fromDateAbsent),n.has(i.AnnouncementTimezoneAbsent)||f.timeZone||n.add(i.AnnouncementTimezoneAbsent),n.has(i.ToDateAbsent)||f.toDate||n.add(i.ToDateAbsent),f.announcementType){case r.c.Flow:n.has(i.WorkflowAbsent)||Number.isInteger(f.flowId)||n.add(i.WorkflowAbsent),n.has(i.StepAbsent)||Number.isInteger(f.stepId)||n.add(i.StepAbsent);break;case r.c.URL:n.has(i.LinkAbsent)||f.customContentId&&Number.isInteger(+f.customContentId)||n.add(i.LinkAbsent);break;case r.c.Video:n.has(i.VideoAbsent)||f.customContentId&&Number.isInteger(+f.customContentId)||n.add(i.VideoAbsent)}if(f.fromDate&&f.toDate){var h=Object(o.b)(f.fromDate,f.toDate);!n.has(i.AnnouncementDateCompare)&&h&&n.add(i.AnnouncementDateCompare);for(var b=Object(s.b)(t).filter((function(t){return t.type===r.g.Announcement&&t.id!==f.id})),m=0,g=b;m<g.length;m++){var v=g[m];if(v.fromDate&&v.toDate){var y=Object(o.a)(new Date(v.fromDate),new Date(v.toDate),f.fromDate,f.toDate);if(!n.has(i.AnnouncementOverlapping)&&y){a.add(i.AnnouncementOverlapping);break}}}}f.conditions&&f.conditions.forEach((function(t){switch(t.type){case r.p.ElementPresence:!n.has(i.ElementPresenceElementNotPicked)&&u(t)&&n.add(i.ElementPresenceElementNotPicked);break;case r.p.LabelComparison:!n.has(i.LabelComparisonElementNotPicked)&&u(t)&&n.add(i.LabelComparisonElementNotPicked),!n.has(i.NoLabelComparisonOperator)&&d(t)&&n.add(i.NoLabelComparisonOperator),!n.has(i.NoLabelComparisonValue)&&l(t.comparisonValue)&&n.add(i.NoLabelComparisonValue);break;case r.p.InputFieldComparison:!n.has(i.InputFieldComparisonElementNotPicked)&&u(t)&&n.add(i.InputFieldComparisonElementNotPicked),!n.has(i.NoInputFieldComparisonOperator)&&d(t)&&n.add(i.NoInputFieldComparisonOperator),!n.has(i.NoInputFieldComparisonValue)&&l(t.comparisonValue)&&n.add(i.NoInputFieldComparisonValue);break;case r.p.CustomScript:!n.has(i.NoInputFieldComparisonValue)&&l(t.script)&&n.add(i.CustomScriptEmpty),n.has(i.NoInputFieldComparisonValue)||l(t.errorMessage)||n.add(i.CustomScriptError)}}))}return{errors:Array.from(n),warnings:Array.from(a)}},u=function(t){return!t.element||!t.element.selector},d=function(t){return void 0===t.comparisonOperator||null===t.comparisonOperator},l=function(t){return!(""+t).trim()||void 0===t||null===t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(10)),a=(n.n(s),n(11)),c=n(21),u={containers:null,selector:null,frames:null},d=(function(){function t(t){this.messages=t,this.updatedNavtip=new r.EventEmitter,this.PickedElementType=c.b,this.onPaddingInputDebounced=Object(s.debounce)(this.onPaddingInput.bind(this),100)}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new o.Subject,this.navtip.indicatorPadding=this.navtip.indicatorPadding||0},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onUpdate=function(){this.updatedNavtip.emit(this.navtip)},t.prototype.onElementSelected=function(t){this.navtip.element||(this.navtip.element=Object(s.cloneDeep)(u)),this.navtip.element.containers=t.element.containers,this.navtip.element.selector=t.element.selector,this.navtip.element.frames=t.element.frames,t.label&&(this.navtip.name=t.label.text),this.onUpdate()},t.prototype.onPaddingInput=function(t){this.navtip.indicatorPadding=t.value,this.onUpdate()},t.prototype.onShowSelection=function(){this.messages.sendMessage({type:a.b.ShowBadge,badgeId:this.navtip.id})},t.prototype.onHideSelection=function(){this.messages.sendMessage({type:a.b.HideBadge})},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"navtip",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"isFormConnected",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"updatedNavtip",void 0),d=i.c([Object(r.Component)({selector:"navtip-view",template:n(1399)}),i.f("design:paramtypes",[a.e])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(6),o=(n.n(r),n(1)),s=n(4),a=n(3),c=n(11),u=n(21),d=(function(){function t(t,e){this.store=t,this.messages=e,this.updatedAnnouncement=new o.EventEmitter,this.getTypeString=a.R,this.AnnouncementType=a.c,this.ContentType=a.k,this.ANNOUNCEMENT_POSITIONS=[["TOP-LEFT","TOP","TOP-RIGHT"],["LEFT","CENTER","RIGHT"],["BOTTOM-LEFT","BOTTOM","BOTTOM-RIGHT"]],this.timeZoneList=[],this.isAcceptLabelFromDb=!0}return t.prototype.ngOnChanges=function(){this.announcement.fromDate&&"string"==typeof this.announcement.fromDate&&(this.announcement.fromDate=new Date(this.announcement.fromDate)),this.announcement.toDate&&"string"==typeof this.announcement.toDate&&(this.announcement.toDate=new Date(this.announcement.toDate))},t.prototype.ngOnInit=function(){this.announcement.isVisible=!0,this.announcement.acceptLabel||(this.isAcceptLabelFromDb=!1),this.announcement.conditions=this.announcement.conditions||[],this.savedType=this.announcement.announcementType,this.savedAcceptText=this.announcement.acceptLabel,this.announcement.acceptLabel=this.announcement.acceptLabel||"Ok, got it",this.announcement.cancelLabel=this.announcement.cancelLabel||"Dismiss",this.announcement.checkBoxLabel=this.announcement.checkBoxLabel||"I have read and understand.",this.ngUnsubscribe=new r.Subject,Number.isInteger(this.announcement.announcementType)||(this.announcement.announcementType=a.c.Ok),this.announcement.position||(this.announcement.position="CENTER"),this.timezones&&(this.timeZoneList=this.timezones.data.map((function(t){return t.timezone})),this.checkTimeZoneList()),this.onUpdate()},t.prototype.getDefaultLabel=function(t){this.isAcceptLabelFromDb&&this.announcement.announcementType===this.savedType?this.announcement.acceptLabel=this.savedAcceptText:this.announcement.acceptLabel=Object(a.Z)(t),this.onUpdate()},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onUpdate=function(){this.updatedAnnouncement.emit(this.announcement)},t.prototype.selectDirection=function(t){this.announcement.position=t,this.onUpdate()},t.prototype.getContentType=function(t){var e=Object(a.V)(t);return this.uploadedContent.type=e,e},t.prototype.onAddCondition=function(t,e){var n=this;this.announcement.conditions.push(t),this.onUpdate();var i=u.b.Element;switch(t.type){case a.p.ElementPresence:i=u.b.Element;break;case a.p.LabelComparison:i=u.b.Label;break;case a.p.InputFieldComparison:i=u.b.Spotlight}t.type!==a.p.CustomScript&&setTimeout((function(){n.store.dispatch(Object(u.c)(i))}),500)},t.prototype.onHighlightElement=function(t){this.messages.sendMessage({type:c.b.DecisionEditorAddClass,condition:t})},t.prototype.onHideElementHighlight=function(t){this.messages.sendMessage({type:c.b.DecisionEditorRemoveClass,condition:t})},t.prototype.onDeleteCondition=function(t){this.announcement.conditions.splice(this.announcement.conditions.indexOf(t),1),this.onHideElementHighlight(t),this.onUpdate()},t.prototype.checkTimeZoneList=function(){1===this.timeZoneList.length&&(this.announcement.timeZone=this.timeZoneList[0])},t})();i.c([Object(o.Input)(),i.f("design:type",Object)],d.prototype,"announcement",void 0),i.c([Object(o.Input)(),i.f("design:type",Boolean)],d.prototype,"disabled",void 0),i.c([Object(o.Input)(),i.f("design:type",Object)],d.prototype,"uploadedContent",void 0),i.c([Object(o.Input)(),i.f("design:type",Boolean)],d.prototype,"isFormConnected",void 0),i.c([Object(o.Input)(),i.f("design:type",Object)],d.prototype,"timezones",void 0),i.c([Object(o.Output)(),i.f("design:type",o.EventEmitter)],d.prototype,"updatedAnnouncement",void 0),d=i.c([Object(o.Component)({selector:"announcement-view",template:n(1402)}),i.f("design:paramtypes",[s.f,c.e])],d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return b}));var i=n(1407),r=n(663),o=n(1411),s=n(1413),a=n(1415),c=n(1417),u=n(1419),d=n(1421),l=n(1423),p=n(1425),f=n(1427),h=n(1429);n.d(e,"a",(function(){return r.a}));var b=[r.a,o.a,s.a,i.a,a.a,c.a,u.a,d.a,l.a,h.a,p.a,f.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(10)),c=(n.n(a),n(3)),u=n(11),d=n(134),l=n(99),p=n(73),f=n(21),h=n(178),b=n(1409),m=(function(){function t(t,e,n){this.store=t,this.messages=e,this.shortcuts=n,this.PickedElementType=f.b,this.validationErrors=[]}return Object.defineProperty(t.prototype,"isDisabled",{get:function(){var t;return this.disabled.take(1).subscribe((function(e){return t=e})),t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.step=this.store.select(l.k).map((function(t){return t})).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.decisionPoint=this.store.select(l.d).map(a.cloneDeep).takeUntil(this.ngUnsubscribe),this.stepIndex=this.store.select(l.l).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(l.f).takeUntil(this.ngUnsubscribe),this.isLocked=this.store.select(l.g).takeUntil(this.ngUnsubscribe),this.flowSteps=this.store.select(l.c).takeUntil(this.ngUnsubscribe),this.isPickerActive=this.store.select(h.a).takeUntil(this.ngUnsubscribe),this.validation=this.store.select(b.a).takeUntil(this.ngUnsubscribe),this.needsSaving=this.store.select(l.i).takeUntil(this.ngUnsubscribe),this.validation.subscribe((function(e){t.validationErrors=e,t.canBeSaved=!(e.length>0)})),this.shortcuts.shortcuts.withLatestFrom(this.disabled).filter((function(t){var e=t[0];return!t[1]||e===c.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0];return t.onShortcut(n)}))},t.prototype.ngOnDestroy=function(){this.messages.sendMessage({type:u.b.ClearTextSearch}),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(p.h)())},t.prototype.onSubmit=function(){if(this.validationErrors.length>0&&!this.isShowValidationErrors)return void(this.isShowValidationErrors=!0);this.store.dispatch(p.c.init({goToNextStep:!1}))},t.prototype.onStepUpdated=function(t){this.store.dispatch(Object(p.k)(t))},t.prototype.onDelete=function(){this.store.dispatch(p.b.init({redirect:!0}))},t.prototype.onShortcut=function(t){switch(t){case c.u.saveEditor:this.onSubmit();break;case c.u.pickElement:this.store.dispatch(Object(f.c)(f.b.Element));break;case c.u.cancelAction:this.store.dispatch(Object(f.d)())}},t})();m=i.c([Object(r.Component)({selector:"decision-point-view",template:n(1410)}),i.f("design:paramtypes",[o.f,u.e,d.a])],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i,r=n(3);(function(t){t[t.JumpToStepNotSelected=0]="JumpToStepNotSelected",t[t.ElementPresenceElementNotPicked=1]="ElementPresenceElementNotPicked",t[t.LabelComparisonElementNotPicked=2]="LabelComparisonElementNotPicked",t[t.NoLabelComparisonOperator=3]="NoLabelComparisonOperator",t[t.NoLabelComparisonValue=4]="NoLabelComparisonValue",t[t.InputFieldComparisonElementNotPicked=5]="InputFieldComparisonElementNotPicked",t[t.NoInputFieldComparisonOperator=6]="NoInputFieldComparisonOperator",t[t.NoInputFieldComparisonValue=7]="NoInputFieldComparisonValue",t[t.NoConditions=8]="NoConditions",t[t.NoActions=9]="NoActions"})(i||(i={}));var o=function(t){if(!t)return[];var e=new Set;return t.decisionPoint&&t.decisionPoint.conditions&&t.decisionPoint.conditions.length?t.decisionPoint.conditions.forEach((function(t){switch(t.type){case r.p.ElementPresence:!e.has(i.ElementPresenceElementNotPicked)&&s(t)&&e.add(i.ElementPresenceElementNotPicked);break;case r.p.LabelComparison:!e.has(i.LabelComparisonElementNotPicked)&&s(t)&&e.add(i.LabelComparisonElementNotPicked),!e.has(i.NoLabelComparisonOperator)&&a(t)&&e.add(i.NoLabelComparisonOperator),!e.has(i.NoLabelComparisonValue)&&c(t)&&e.add(i.NoLabelComparisonValue);break;case r.p.InputFieldComparison:!e.has(i.InputFieldComparisonElementNotPicked)&&s(t)&&e.add(i.InputFieldComparisonElementNotPicked),!e.has(i.NoInputFieldComparisonOperator)&&a(t)&&e.add(i.NoInputFieldComparisonOperator),!e.has(i.NoInputFieldComparisonValue)&&c(t)&&e.add(i.NoInputFieldComparisonValue)}})):e.add(i.NoConditions),t.decisionPoint&&t.decisionPoint.actions&&t.decisionPoint.actions.length?t.decisionPoint.actions.forEach((function(t){switch(t.type){case r.n.BounceToStep:t.bounceToStep&&void 0!==t.bounceToStep.stepId&&null!==t.bounceToStep.stepId||e.add(i.JumpToStepNotSelected)}})):e.add(i.NoActions),Array.from(e)},s=function(t){var e=!1;return t.element&&t.element.selector||(e=!0),e},a=function(t){var e=!1;return void 0!==t.comparisonOperator&&null!==t.comparisonOperator||(e=!0),e},c=function(t){var e=!1;return void 0!==t.comparisonValue&&null!==t.comparisonValue||(e=!0),e}},function(t,e,n){"use strict";n.d(e,"b",(function(){return d}));var i=n(627),r=n(1431),o=n(1434),s=n(666),a=n(1436),c=n(1438);n.d(e,"a",(function(){return c.a}));var u=n(1439);n.d(e,"c",(function(){return u.a})),n.d(e,"d",(function(){return u.b}));var d=(n(482),[o.a,s.a,r.a,a.a,i.b])},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(71),a=n(126),c=(function(){function t(t,e){this.elementRef=t,this.store=e,this.isMouseIn=new r.EventEmitter,this.POSITIONING_MODE=a.a,this.init=new r.EventEmitter,this.mouseLeaveTimeout=null}return Object.defineProperty(t.prototype,"positioningData",{get:function(){return{elementId:this.navtip.elementId,elementRect:this.navtip.elementRect}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.init.emit(this);var t={badgeId:this.navtip.id};this.store.dispatch(Object(s.O)({type:s.h.NAVTIP_DISPLAY,data:t}))},t.prototype.onMouseEnter=function(t){null!==this.mouseLeaveTimeout&&(clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=null),this.isMouseIn.emit(!0);var e={badgeId:this.navtip.id};this.store.dispatch(Object(s.O)({type:s.h.NAVTIP_ACTION,data:e}))},t.prototype.onMouseLeave=function(t){var e=this;this.mouseLeaveTimeout=setTimeout((function(){return e.isMouseIn.emit(!1)}),300)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"navtip",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"display",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],c.prototype,"isMouseIn",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"init",void 0),i.c([Object(r.HostListener)("mouseenter",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],c.prototype,"onMouseEnter",null),i.c([Object(r.HostListener)("mouseleave",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],c.prototype,"onMouseLeave",null),c=i.c([Object(r.Component)({selector:"navtip-indicator",template:n(1432)}),i.f("design:paramtypes",[r.ElementRef,o.f])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(1440),r=n(483),o=n(1443),s=(n(568),n(1445));n.d(e,"b",(function(){return s.a})),n.d(e,"c",(function(){return s.b}));var a=[i.a,r.a,o.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(4),s=n(40),a=(function(){function t(t){this.store=t}return t.prototype.onClose=function(){this.store.dispatch(s.c.changeVisiblity({panelVisible:!1,bannerVisible:!0}))},t})();a=i.c([Object(r.Component)({selector:"letznav-login",template:n(1452)}),i.f("design:paramtypes",[o.f])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(4),s=n(40),a=(function(){function t(t){this.store=t}return t.prototype.onClose=function(){this.store.dispatch(s.c.changeVisiblity({panelVisible:!1,bannerVisible:!0}))},t})();a=i.c([Object(r.Component)({selector:"letznav-unknown-application",template:n(1453)}),i.f("design:paramtypes",[o.f])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return t})();o=i.c([Object(r.Component)({selector:"letznav-forgotten-password",template:n(1454)})],o)},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var i,r=n(6),o=(n.n(r),n(87)),s=n.n(o);(function(t){t[t.click=0]="click",t[t.mouseover=1]="mouseover",t[t.change=2]="change",t[t.input=3]="input",t[t.focus=4]="focus",t[t.blur=5]="blur"})(i||(i={}));var a=Object.keys(i).filter((function(t){return"number"==typeof i[t]})),c=0,u=function(t){return new r.Observable(function(e){for(var n=".letznavElement_"+ ++c,r=s()(t),o=0,u=a;o<u.length;o++){var d=u[o];(function(t){r.on(t+n,(function(){e.next(i[t])}))})(d)}return function(){r.off(n)}})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(3)),a=n(22),c=n(28),u=n(348),d=(function(){function t(t,e){var n=this;this.messages=t,this.config=e,o.Observable.fromEvent(window,"keydown").map((function(t){return{shortcut:Object(s.O)(t),event:t}})).filter((function(t){return null!==t.shortcut})).do((function(t){return t.event.preventDefault()})).subscribe((function(t){var e=t.shortcut;return n.messages.sendMessage({type:c.a.Shortcut,shortcut:e})})),this.parsedShortcuts=this.config.playerShortcuts$.map((function(t){return Object.keys(t).reduce((function(e,n){var i=Object(s._6)(t[n]);return i.error||e.set(Object(s._14)(i),n),e}),new Map)})),o.Observable.fromEvent(window,"keydown").withLatestFrom(this.parsedShortcuts).switchMapCorx((function(t,e){var r=(t.get,t.put),o=e[0],a=e[1];return i.b(n,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return(t=a.get(Object(s._13)(o)))?(o.preventDefault(),[4,r(t)]):[2];case 1:return e.sent(),[2]}}))}))})).subscribe((function(t){return n.messages.sendMessage({type:c.a.PlayerShortcut,shortcut:t})})),this.urlChanged$=o.Observable.fromEvent(window,"hashchange").map((function(){return null})),this.urlChanged$.subscribe(this.onUrlUpdate.bind(this)),this.onUrlUpdate()}return t.prototype.onUrlUpdate=function(){this.messages.sendMessage({type:c.a.UrlChanged,url:window.location.href,isFrame:window.top!==window})},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a,u.a])],d)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(37),o=n(11),s=n(1094),a=n(40);(new(function(){function t(){this.isTopFrame=window.top===window.self,this.hasStarted=!1,this.onChromeMessageHandler=this.onChromeMessage.bind(this),this.onFrameMessageHandler=this.onFrameMessage.bind(this),this.isTopFrame&&chrome.runtime.onMessage.addListener(this.onChromeMessageHandler),window.addEventListener("message",this.onFrameMessageHandler)}return t.prototype.run=function(){this.isTopFrame?this.tryStartExtension().catch((function(t){return console.error(t)})):window.top.postMessage({letznav:"ShouldExtensionStart"},"*")},t.prototype.tryStartExtension=function(){return i.b(this,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return[4,Object(r.c)()];case 1:return t=n.sent(),t.isDemo&&!Object(a.h)()?[2]:t.isDemo?[3,3]:[4,Object(s.b)()];case 2:if(!(e=n.sent()))return[2];n.label=3;case 3:return this.startExtension(),[2]}}))}))},t.prototype.onChromeMessage=function(t){t.type===o.b.StartExtension&&this.startExtension()},t.prototype.onFrameMessage=function(t){"StartExtension"===t.data.letznav?this.startExtension():"ShouldExtensionStart"===t.data.letznav&&this.hasStarted&&t.source.postMessage({letznav:"StartExtension"},"*")},t.prototype.broadcastStart=function(){for(var t=0;t<window.frames.length;t++)window.frames[t].postMessage({letznav:"StartExtension"},"*")},t.prototype.main=function(){return i.b(this,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return this.isTopFrame?chrome.runtime.onMessage.removeListener(this.onChromeMessageHandler):window.removeEventListener("message",this.onFrameMessageHandler),this.broadcastStart(),[4,Object(r.c)()];case 1:return t=e.sent(),[4,Object(s.a)(t)];case 2:return e.sent(),[2]}}))}))},t.prototype.startExtension=function(){this.hasStarted||(this.hasStarted=!0,this.main().catch((function(t){return console.error(t)})))},t}())).run()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return l}));var i=n(0),r=n(567),o=n(1096),s=n(1471),a=n(605),c=n(11),u=this,d=function(){return i.b(u,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return t={type:c.b.ShouldExtensionStart,href:window.location.href},[4,new Promise(function(e,n){return chrome.runtime.sendMessage(t,(function(t){return t?e(t):n(new Error("no response"))}))})];case 1:return e=n.sent(),[2,e.shouldStart]}}))}))},l=function(t){return i.b(u,void 0,void 0,(function(){var e,n,c,u;return i.e(this,(function(i){switch(i.label){case 0:if((e=window.top===window.self)&&!t)throw new Error("Top frame has to get config");return[4,Object(r.a)().bootstrapModule(s.a)];case 1:return i.sent(),e?(n=window.document.createElement("letznav-app-player"),window.document.getElementsByTagName("body")[0].appendChild(n),c=Object(o.a)(t),[4,Object(r.a)().bootstrapModule(c)]):[2];case 2:return u=i.sent(),Object(a.c)(u),[2]}}))}))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return H}));var i=n(0),r=n(568),o=n(23),s=n(41),a=n(600),c=n(48),u=n(1),d=n(47),l=n(59),p=n(4),f=n(19),h=n(8),b=n(601),m=(n.n(b),n(1163)),g=n(206),v=(n.n(g),n(16)),y=(n.n(v),n(1164)),O=(n.n(y),n(10)),j=(n.n(O),n(42)),E=n(3),S=n(11),w=n(214),I=n(97),C=n(605),k=n(37),T=n(1186),_=n(1455),A=n(1459),x=n(1460),D=n(466),P=n(1462),N=n(98),U=n(71),L=n(40),F=n(32),R=n(668),M=n(669),V=n(670),B=n(126),$=n(1464);n.n($);O.memoize.Cache=WeakMap;var z=[j.a,N.b,N.F,N.J,N.x,F.c,N._2,N.p,L.a,U.m,U.e,N.D,U.b,U.f,U.p,U.n,U.s,U.d,U.l,N.M,N.g,N.A,N.P,N._8,N._4,U.a,N.C,N.j,N.e,N.n,N.Y,r.a,N.u],H=function(t){var e=(function(){function t(t,e){this.appRef=t,this.logging=e,this.logging.startErrorLogging()}return t})();return e=i.c([Object(u.NgModule)({bootstrap:[P.a],imports:[o.a,a.a,c.HttpModule,d.d,d.i,l.n,l.e,l.f,l.b,l.c,l.j,l.k,l.m,l.l,l.h,l.q,l.o,l.p,b.DragulaModule,p.g.provideStore(_.b,_.a)].concat(z.filter((function(t){return!!t})).map((function(t){return h.c.run(t)})),[f.a.connectRouter(),C.a,m.a,T.a,E.h,j.b]),declarations:[P.a].concat(N._9,U.I,L.d,I.d,[R.a,M.a,B.b,V.a,w.c]),providers:[C.b,{provide:s.a,useValue:"/"},{provide:x.b,useClass:x.a},{provide:D.b,useClass:D.a},{provide:D.d,useClass:D.c},{provide:k.b,useValue:t},{provide:k.a,useValue:t.backendUrl},{provide:E.b,useValue:""},A.a,{provide:S.e,useClass:S.d},{provide:S.a,useFactory:S.h},w.a,I.b,w.b,D.f,D.e,U.r,j.f,F.m],entryComponents:[]}),i.f("design:paramtypes",[u.ApplicationRef,A.a])],e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(603)),a=(function(){function t(t,e,n){this.hostElement=t,this.renderer=e,this.domTracking=n,this._zIndex=new o.BehaviorSubject(0)}return Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex.getValue()},set:function(t){this.zIndex!==t&&this._zIndex.next(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new o.Subject,o.Observable.combineLatest(this.domTracking.maxZIndex,this._zIndex).takeUntil(this.ngUnsubscribe).subscribe((function(e){var n=e[0],i=e[1];t.renderer.setElementStyle(t.hostElement.nativeElement,"z-index",String(n+i))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();i.c([Object(r.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],a.prototype,"zIndex",null),a=i.c([Object(r.Directive)({selector:"[zIndex]"}),i.f("design:paramtypes",[r.ElementRef,r.Renderer,s.a])],a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.ok=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"ok",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"ok-cancel-dialog",template:n(1167)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">{{ params.message }}</div>\n  <div class="dialog-buttons">\n    <button md-button class="button button-default dialog-fw-button" (click)="ok.emit()">Ok</button>\n    <button md-button class="button button-default dialog-fw-button" (click)="cancel.emit()">Cancel</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.save=new r.EventEmitter,this.discard=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"save",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"discard",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"unsaved-changes",template:n(1169)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">\n    <p>You have unsaved changes.</p>\n  </div>\n  <div class="dialog-buttons">\n    <button class="button button-default button-save dialog-fw-button" md-button (click)="save.emit()">Save</button>\n    <button class="button button-default button-discard dialog-fw-button" md-button (click)="discard.emit()">Discard</button>\n    <button class="button button-default button-discard dialog-fw-button" md-button (click)="cancel.emit()">Continue Editing</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.discard=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"discard",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"cancel-step",template:n(1171)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">\n    <p>Are you sure you want to cancel this step?</p>\n    <p>Any changes made to this step will be lost.</p>\n  </div>\n  <div class="dialog-buttons">\n    <button class="button button-default button-discard dialog-fw-button" md-button (click)="discard.emit()">Discard</button>\n    <button class="button button-default dialog-fw-button" md-button (click)="cancel.emit()">Cancel</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.discard=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"discard",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"cancel-validation",template:n(1173)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">\n    <p>Are you sure you want to cancel this validation?</p>\n    <p>Any changes made to this validation will be lost.</p>\n  </div>\n  <div class="dialog-buttons">\n    <button class="button button-default button-discard dialog-fw-button" md-button (click)="discard.emit()">Discard</button>\n    <button class="button button-default dialog-fw-button" md-button (click)="cancel.emit()">Cancel</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.delete=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"delete",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"delete-cancel-dialog",template:n(1175)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">{{ params.message }}</div>\n  <div class="dialog-buttons">\n    <button md-button class="button button-default dialog-fw-button button-discard" (click)="delete.emit()">Delete</button>\n    <button md-button class="button button-default dialog-fw-button" (click)="cancel.emit()">Cancel</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(604)),c=n(452),u=n(1177),d=(function(){function t(t){this.store=t,this.Dialogs=a.b}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.dialog=this.store.select(u.b).takeUntil(this.ngUnsubscribe),this.params=this.store.select(u.a).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onOk=function(){this.store.dispatch(Object(c.c)(a.a.Ok))},t.prototype.onDelete=function(){this.store.dispatch(Object(c.c)(a.a.Delete))},t.prototype.onCancel=function(){this.store.dispatch(Object(c.c)(a.a.Cancel))},t.prototype.onSave=function(){this.store.dispatch(Object(c.c)(a.a.Save))},t.prototype.onDiscard=function(){this.store.dispatch(Object(c.c)(a.a.Discard))},t})();d=i.c([Object(r.Component)({selector:"dialog-overlay",template:n(1178)}),i.f("design:paramtypes",[o.f])],d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=function(t){return t.dialogs},r=function(t){return i(t).openedDialog},o=function(t){return i(t).dialogParams}},function(t,e){t.exports='<div class="dialog-overlay" *ngIf="(dialog | async) !== null">\n  <ok-cancel-dialog *ngIf="(dialog | async) === Dialogs.OkCancelDialog" [params]="params | async" (ok)="onOk()" (cancel)="onCancel()"></ok-cancel-dialog>\n  <delete-cancel-dialog *ngIf="(dialog | async) === Dialogs.DeleteCancelDialog" [params]="params | async" (delete)="onDelete()" (cancel)="onCancel()"></delete-cancel-dialog>\n  <unsaved-changes *ngIf="(dialog | async) === Dialogs.UnsavedChanges" [params]="params | async" (save)="onSave()" (discard)="onDiscard()" (cancel)="onCancel()"></unsaved-changes>\n  <cancel-step *ngIf="(dialog | async) === Dialogs.CancelStep" [params]="params | async" (discard)="onDiscard()" (cancel)="onCancel()"></cancel-step>\n  <cancel-validation *ngIf="(dialog | async) === Dialogs.CancelValidation" [params]="params | async" (discard)="onDiscard()" (cancel)="onCancel()"></cancel-validation>\n  <cancel-badge *ngIf="(dialog | async) === Dialogs.CancelBadge" [params]="params | async" (discard)="onDiscard()" (cancel)="onCancel()"></cancel-badge>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.discard=new r.EventEmitter,this.cancel=new r.EventEmitter}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"params",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"discard",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"cancel",void 0),o=i.c([Object(r.Component)({selector:"cancel-badge",template:n(1180)})],o)},function(t,e){t.exports='<div class="dialog-container">\n  <div class="dialog-text">\n    <p>Are you sure you want to cancel?</p>\n    <p>Any changes made will be lost.</p>\n  </div>\n  <div class="dialog-buttons">\n    <button class="button button-default button-discard dialog-fw-button" md-button (click)="discard.emit()">Discard</button>\n    <button class="button button-default dialog-fw-button" md-button (click)="cancel.emit()">Cancel</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(16),c=(n.n(a),n(452)),u=(function(){function t(t,e){this.action$=t,this.store=e}return t.prototype.showDialog=function(t,e){var n=this;return void 0===e&&(e={}),Object(a.corx)((function(r){var s=r.get,a=r.put;return i.b(n,void 0,void 0,(function(){var n;return i.e(this,(function(i){switch(i.label){case 0:return this.store.dispatch(Object(c.d)(t,e)),[4,s(this.action$.ofType(c.a).map(o.d).take(1))];case 1:return n=i.sent().result,[4,a(n)];case 2:return i.sent(),[2]}}))}))}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f])],u)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var i,r=n(0),o=n(3),s=n(452),a={openedDialog:null,dialogParams:null},c=function(t,e){return r.a({},t,{dialogParams:e.params,openedDialog:e.dialog})},u=function(t){return r.a({},a)},d=(i={},i[s.b]=c,i[s.a]=u,i),l=Object(o._3)(d,a)},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(70),s=n(41),a=n(1187),c=n(32),u=n(98),d=n(71),l=n(668),p=n(669),f=n(670),h=n(42),b=[{path:"",redirectTo:"player",pathMatch:"full"},{path:"admin",component:u.a,canActivateChild:[h.c,h.g],resolve:{StorageResolver:c.d,ApplicationsResolver:u.c},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:u.R},{path:"flows",component:u.E,resolve:{FlowsResolver:u.K}},{path:"content",component:u.W,resolve:{FlowsResolver:u.K}},{path:"flow/add",component:u.U,resolve:{EditFlowResolver:u.y},canDeactivate:[]},{path:"flow/:flowId",component:u.I,resolve:{FlowResolver:u.H},children:[{path:"",redirectTo:"steps",pathMatch:"full"},{path:"step/:stepId",component:u._1,resolve:{StepResolver:u._0,StyleResolver:u._3},canDeactivate:[u.s]},{path:"edit",component:u.w,resolve:{EditFlowResolver:u.y},canDeactivate:[]},{path:"steps",component:u.Z},{path:"play",component:u.G,resolve:{StyleResolver:u._3,PlayerOptionsResolver:d.q}},{path:"step/:stepId/:type",component:u.v,resolve:{StepResolver:u._0},canDeactivate:[u.s]}]},{path:"forms",component:u.L,resolve:{FormsResolver:u.Q}},{path:"form/add",component:u.V,resolve:{EditFormResolver:u.B}},{path:"form/add/:type",component:u.V,resolve:{EditFormResolver:u.B}},{path:"form/:formId",component:u.O,resolve:{FormResolver:u.N,StyleResolver:u._3},children:[{path:"",redirectTo:"validations",pathMatch:"full"},{path:"validation/:validationId",component:u._7,resolve:{ValidationResolver:u._6},canDeactivate:[u.t]},{path:"edit",component:u.z,resolve:{EditFormResolver:u.B},canDeactivate:[u.r]},{path:"validations",component:u._5}]},{path:"badge-forms/:type",component:u.f,resolve:{BadgeFormsResolver:u.k}},{path:"badge-form/:type/:formId",component:u.i,resolve:{BadgeFormResolver:u.h,StyleResolver:u._3},children:[{path:"",redirectTo:"badges",pathMatch:"full"},{path:"badges",component:u.l},{path:"badge/:badgeId",component:u.m,resolve:{BadgeViewResolver:u.o},canDeactivate:[u.q]},{path:"edit",component:u.z,resolve:{EditFormResolver:u.B}}]}]},{path:"player",component:d.k,resolve:{StorageResolver:c.d,ApplicationsResolver:u.c,LocalesResolver:u.T,ChangeLanguageResolver:d.c,I18nResolver:d.g,PlayerOptionsResolver:d.q,PlayerEventsResolver:d.o,FormsResolver:u.Q},children:[{path:"",redirectTo:"flows",pathMatch:"full"},{path:"flows",component:u.E,resolve:{FlowsResolver:u.K,StyleResolver:u._3}}]},{path:"login",component:l.a},{path:"forgotten-password",component:f.a},{path:"unknown-application",component:p.a},{path:"**",redirectTo:"admin"}],m=(function(){function t(){}return t})();m=i.c([Object(r.NgModule)({imports:[o.e.forRoot(b)],exports:[o.e],providers:[{provide:s.i,useClass:a.a},u.c,u.T,u.K,u.H,u.y,u._0,c.d,u._3,d.c,d.g,d.q,d.o,u.s,u.Q,u.B,u.N,u._6,u.t,u.r,u.k,u.h,u.o,u.q]})],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(41),o="http://domain.com",s=(function(t){function e(){var e=t.call(this)||this;return e.history=[],e.currentIndex=0,e.history.push({url:new URL(o),state:null}),e}return i.d(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return this.history[this.currentIndex].url},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return"/"},e.prototype.onPopState=function(t){this.onPopStateFn=t},e.prototype.onHashChange=function(t){this.onHashChangeFn=t},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.url.pathname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.url.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.url.hash},enumerable:!0,configurable:!0}),e.prototype.replaceState=function(t,e,n){var i=this.history[this.currentIndex];this.history[this.currentIndex]={url:new URL(o+n),state:t},i.url.hash!==this.url.hash&&this.onHashChangeFn({type:"hashchange"})},e.prototype.pushState=function(t,e,n){var i=this.history[this.currentIndex];this.history.splice(this.currentIndex+1,this.history.length-this.currentIndex-1),this.history.push({url:new URL(o+n),state:t}),this.currentIndex=this.history.length-1,i.url.hash!==this.url.hash&&this.onHashChangeFn({type:"hashchange"})},e.prototype.forward=function(){this.currentIndex<this.history.length-1&&(this.currentIndex+=1,this.onPopStateFn({type:"popstate"}))},e.prototype.back=function(){this.currentIndex>0&&(this.currentIndex-=1,this.onPopStateFn({type:"popstate"}))},e})(r.i)},function(t,e){t.exports="<router-outlet></router-outlet>\n<dialog-overlay></dialog-overlay>\n"},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container home">\n\n  </div>\n</div>\n\n<ul class="home-navigation">\n  <li class="home-navigation__workflows" routerLink="../flows" routerLinkActive="active">\n    <div class="icon"></div>\n    <a class="button button-default">Workflows</a>\n  </li>\n  <li class="home-navigation__validations" routerLink="../forms" routerLinkActive="">\n    <div class="icon"></div>\n    <a class="button button-default">Validations</a>\n  </li>\n  <li class="home-navigation__launchers" routerLink="../badge-forms/{{BadgeType.Launcher}}" routerLinkActive="">\n    <div class="icon"></div>\n    <a class="button button-default">Launchers</a>\n  </li>\n  <li class="home-navigation__tooltips" routerLink="../badge-forms/{{BadgeType.NavTip}}" routerLinkActive="">\n    <div class="icon"></div>\n    <a class="button button-default">NavTips</a>\n  </li>\n  <li class="home-navigation__announcements" routerLink="../badge-forms/{{BadgeType.Announcement}}" routerLinkActive="">\n    <div class="icon"></div>\n    <a class="button button-default">Announcements</a>\n  </li>\n</ul>\n\n<configuration-selector *ngIf="config.isDemo"></configuration-selector>\n\n<bottom-bar></bottom-bar>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(18),a=(n.n(s),n(12)),c=n(123),u=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.isDetectingApp=this.store.select(a.g).takeUntil(this.ngUnsubscribe),this.configurationsList=this.store.select(a.b).takeUntil(this.ngUnsubscribe),this.selectedConfiguration=this.store.select(a.e).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.changeConfiguration=function(t){this.store.dispatch(Object(c.m)(t))},t})();u=i.c([Object(r.Component)({selector:"configuration-selector",template:n(1191)}),i.f("design:paramtypes",[o.f])],u)},function(t,e){t.exports='<div class="configuration-selector-container">\r\n  <span class="detection-in-progress" *ngIf="isDetectingApp | async">Autodetecting application...</span>\r\n  <div class="configuration-selector" *ngIf="!(isDetectingApp | async)">\r\n    <label>We\'ve detected the following configuration, but you can change it in the list below</label>\r\n    <md-select [ngModel]="selectedConfiguration | async" (ngModelChange)="changeConfiguration($event)">\r\n      <md-option [value]="config.key" *ngFor="let config of configurationsList | async">{{ config.applicationName }}</md-option>\r\n    </md-select>\r\n  </div>\r\n</div>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.click=new r.EventEmitter,this.MODE="player",this.PLAYER_RESOURCES=o.x}return t})();s=i.c([Object(r.Component)({selector:"banner",template:n(1193)})],s)},function(t,e){t.exports='<div (click)="click.emit()">\n  <span *ngIf="MODE === \'player\'" class="banner__title"><i18nc [id]="PLAYER_RESOURCES.banner.shortTitle"></i18nc></span>\n  <span *ngIf="MODE === \'editor\'" class="mdi mdi-chevron-double-left double-left"></span>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(21),u=n(214),d=n(37),l=n(56),p=n(331),f=n(332),h=n(618),b=(function(){function t(t,e,n){this.store=t,this.domService=e,this.config=n,this.MODE="player",this.PLAYER_ZINDEX=1,this.EDITOR_ZINDEX=2}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.bannerVisibile=this.store.select(p.a).takeUntil(this.ngUnsubscribe),this.store.select(l.a.selectTheme).takeUntil(this.ngUnsubscribe).filter((function(t){return!!t})).subscribe((function(e){return t.playerTheme=a._10[e.playerPosition].bannerClass})),this.store.select(p.b).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.panelVisible=e})),this.store.select(c.h).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.isPickingElement=e})),this.injectedStyle=this.domService.maxZIndex.map((function(t){return"\n.cdk-overlay-container {\n  z-index: "+(t+3)+";\n}\n.dragula-container .gu-mirror {\n  z-index: "+(t+3)+" !important;\n}\n    "})),(this.config.isDemo||Object(h.b)())&&this.openPanelDelay()},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.getBannerDesign=function(){return t={active:this.panelVisible,"selecting-element":this.isPickingElement},t[this.playerTheme]=!0,t["banner-player"]=!0,t;var t},t.prototype.onBannerClicked=function(){this.store.dispatch(Object(f.b)({panelVisible:!this.panelVisible,bannerVisible:!0}))},t.prototype.openPanelDelay=function(){var t=this;s.Observable.of(null).delay(500).takeUntil(this.ngUnsubscribe).subscribe((function(){t.store.dispatch(Object(f.b)({panelVisible:!0,bannerVisible:!0}))}))},t})();b=i.c([Object(r.Component)({selector:"letznav-frame",template:n(1202)}),i.g(2,Object(r.Inject)(d.b)),i.f("design:paramtypes",[o.f,u.a,Object])],b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(6),c=(n.n(a),n(460)),u=n(178),d=n(330),l=p=(function(){function t(t,e){this.store=t,this.action$=e,this.elementSelected=new r.EventEmitter,this.PickedElementType=c.a}return Object.defineProperty(t.prototype,"title",{get:function(){var t,e=this;return this.isPickerActive.take(1).subscribe((function(n){if(n)t="Cancel (Esc)";else{var i=void 0;switch(e.pickedElementType){case c.a.Spotlight:i="Spotlight";break;case c.a.Anchor:i="Anchor";break;case c.a.Label:i="Label";break;default:i="Element"}t=(e.reselect?"Reselect":"Select")+" "+i}})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseClasses",{get:function(){return{button:this.pickedElementType!==c.a.Anchor,"button-default":this.pickedElementType!==c.a.Anchor,anchors__container__list__add:this.pickedElementType===c.a.Anchor}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.pickerId=p.pickerIdGenerate++,this.store.dispatch(Object(d.h)(this.pickerId)),this.ngUnsubscribe=new a.Subject,this.currentPickerId=this.store.select(u.c).takeUntil(this.ngUnsubscribe),this.isPickerActive=a.Observable.combineLatest(this.store.select(u.a),this.store.select(u.b),this.store.select(u.c)).map((function(e){var n=e[0],i=e[1],r=e[2];return n&&i===t.pickedElementType&&r===t.pickerId})).takeUntil(this.ngUnsubscribe),this.action$.ofType(d.c).map(o.d).filter(this.isForThisButton.bind(this)).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.elementSelected.emit(e)}))},t.prototype.ngOnDestroy=function(){this.store.dispatch(Object(d.f)()),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onTogglePicker=function(){var t=this;this.isPickerActive.take(1).subscribe((function(e){e?t.store.dispatch(Object(d.f)()):t.disabled||t.store.dispatch(Object(d.e)(t.pickedElementType))}))},t.prototype.setPickerId=function(){void 0!==this.pickerId&&this.store.dispatch(Object(d.h)(this.pickerId)),this.onTogglePicker()},t.prototype.isForThisButton=function(t){var e=this,n=!1,i=!1;return t.pickedElementType===this.pickedElementType?n=!0:this.pickedElementType===c.a.Element&&t.pickedElementType===c.a.ElementNavigation&&(n=!0),this.currentPickerId.take(1).subscribe((function(t){t===e.pickerId&&(i=!0)})),n&&i},t})();l.pickerIdGenerate=0,i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Number)],l.prototype,"pickedElementType",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"reselect",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],l.prototype,"elementSelected",void 0),l=p=i.c([Object(r.Component)({selector:"element-picker",template:n(1196)}),i.f("design:paramtypes",[s.f,o.a])],l);var p},function(t,e){t.exports='<a\r\n  [ngClass]="baseClasses"\r\n  [class.active]="isPickerActive | async"\r\n  [class.disabled]="disabled && !(isPickerActive | async)"\r\n  (click)="setPickerId()"\r\n>\r\n  <span class="mdi mdi-target" [class.blink-this]="isPickerActive | async" *ngIf="pickedElementType !== PickedElementType.Anchor"> {{ title }}</span>\r\n</a>\r\n<div class="select-element-modal" *ngIf="pickedElementType !== PickedElementType.Anchor && (isPickerActive | async)">\r\n  <div class="select-element-modal__container">\r\n    <p>Select an element, or press Esc key to cancel.</p>\r\n  </div>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return f}));var i,r=n(0),o=n(3),s=n(330),a={isPicking:!1,pickedElement:null,pickerId:null},c=function(t,e){return r.a({},t,{isPicking:!0,pickedElement:e})},u=function(t){return r.a({},t,{isPicking:!1,pickedElement:null})},d=function(t){return r.a({},t,{isPicking:!1,pickedElement:null})},l=function(t,e){return r.a({},t,{pickerId:e})},p=(i={},i[s.a]=c,i[s.b]=u,i[s.c]=d,i[s.d]=l,i),f=Object(o._3)(p,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(11),c=n(460),u=n(330),d=n(178),l=(function(){function t(t,e,n){var i=this;this.store=t,this.messages=e,this.action$=n,this.activatePicker=this.action$.ofType(u.a).map(o.d).do((function(t){return i.messages.sendMessage({type:a.b.ActivatePicker,pickedElement:t})})).filter((function(){return!1})),this.deactivatePicker=this.action$.ofType(u.b).do((function(){return i.messages.sendMessage({type:a.b.DeactivatePicker})})).filter((function(){return!1})),this.messages.ofType(a.b.ElementSelected).subscribe(this.onElementSelected.bind(this))}return t.prototype.onElementSelected=function(t){var e=this;this.store.take(1).subscribe((function(n){if((!Object(d.a)(n)||Object(d.b)(n)!==t.pickedElement)&&t.pickedElement!==c.a.ElementNavigation)return void console.warn("Unexpected element selection",t);e.store.dispatch(Object(u.g)(t.elementIdentification,t.pickedElement,t.uriHash,t.label))}))},t})();i.c([Object(o.b)(),i.f("design:type",Object)],l.prototype,"activatePicker",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],l.prototype,"deactivatePicker",void 0),l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.f,a.e,o.a])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return l}));var i,r=n(0),o=n(3),s=n(617),a={evaluation:{}},c=function(t,e){var n=e.condition,i=e.frameId;return r.a({},t,{evaluation:r.a({},t.evaluation,(o={},o[i]=n,o))});var o},u=function(t){return r.a({},t,{evaluation:{}})},d=(i={},i[s.b]=c,i[s.a]=u,i),l=Object(o._3)(d,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(6),c=(n.n(a),n(11)),u=n(44),d=n(617),l=(function(){function t(t,e){var n=this;this.store=t,this.messages=e,this.sendConditionTrigger=new a.Subject,this.clearEvaluation=this.store.select(u.selectStepCondition).skip(1).map((function(){return Object(d.c)()})),this.sendConditions=a.Observable.combineLatest(this.store.select(u.selectStepCondition),this.sendConditionTrigger.debounceTime(200)).map((function(t){return t[0]})).withLatestFrom(this.store.select(u.selectStepId)).do((function(t){var e=t[0],i=t[1];n.messages.sendMessage({type:c.b.StepCondition,condition:e,stepId:i})})).filter((function(){return null})),this.handleEvaluation=this.messages.ofType(c.b.StepConditionEvaluation).withLatestFrom(this.store.select(u.selectStepId)).filter((function(t){var e=t[0],n=t[1];return e.stepId===n})).map((function(t){var e=t[0];return Object(d.d)(e.condition,e.frameId)})),this.handleGetCondition=this.messages.ofType(c.b.GetStepCondition).do((function(){return n.sendConditionTrigger.next()})).filter((function(){return null})),this.handleFrameRemoved=this.messages.ofType(c.b.FramesChanged).do((function(){return n.sendConditionTrigger.next()})).map((function(){return Object(d.c)()}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],l.prototype,"clearEvaluation",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],l.prototype,"sendConditions",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],l.prototype,"handleEvaluation",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],l.prototype,"handleGetCondition",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],l.prototype,"handleFrameRemoved",void 0),l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,c.e])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return d}));var i=n(10),r=(n.n(i),n(3)),o=n(44),s=function(t){return t.playerConditions},a=i.memoize((function(t){var e=Object.keys(t).map((function(e){return t[e]})).filter((function(t){return!!t})).reduce((function(t,e){return i.mergeWith(t||{},e,(function(t,e,n){if("result"===n&&"boolean"==typeof t&&"boolean"==typeof e)return t||e}))}),null);return null!==e&&u(e)})),c=function(t){var e=s(t);return!Object(o.selectStepCondition)(t)||a(e.evaluation)},u=function(t){switch(t.type){case r.i.And:return t.operands.reduce((function(t,e){return t&&u(e)}),!0);case r.i.Or:return t.operands.reduce((function(t,e){return t||u(e)}),!1);case r.i.Not:return!u(t.operands[0]);case r.i.ElementExists:case r.i.QueryMatches:return t.result}throw new Error("Unknown condition "+t.type)},d=function(t){var e=s(t);return!Object(o.selectStepCondition)(t)||Object.keys(e.evaluation).length>0}},function(t,e){t.exports='<banner *ngIf="(bannerVisibile | async) && (!!playerTheme || MODE === \'editor\')" (click)="onBannerClicked()"\n  [ngClass]="getBannerDesign()" [zIndex]="MODE === \'player\' ? PLAYER_ZINDEX : EDITOR_ZINDEX"></banner>\n<body-class-inject *ngIf="MODE === \'editor\'" mainClassToInject="letznav-panel-main" toggleClassToInject="letznav-panel-show" [inject]="!!panelVisible"></body-class-inject>\n\n<style-element [style]="injectedStyle | async"></style-element>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(331)),c=(function(){function t(t,e,n){this.hostElement=t,this.renderer=e,this.store=n}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.panelVisible=this.store.select(a.b).takeUntil(this.ngUnsubscribe),this.panelVisible.subscribe((function(e){t.renderer.setElementClass(t.hostElement.nativeElement,"visible",e)}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();c=i.c([Object(r.Directive)({selector:"[letznavPanelVisible]"}),i.f("design:paramtypes",[r.ElementRef,r.Renderer,o.f])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return Object.defineProperty(t.prototype,"body",{get:function(){return document.body},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentChecked=function(){this.body.classList.contains(this.mainClassToInject)||this.body.classList.add(this.mainClassToInject),this.body.classList.contains(this.toggleClassToInject)!==this.inject&&(this.inject?this.body.classList.add(this.toggleClassToInject):this.body.classList.remove(this.toggleClassToInject))},t})();i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"mainClassToInject",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"toggleClassToInject",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"inject",void 0),o=i.c([Object(r.Component)({selector:"body-class-inject",template:""})],o)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return d}));var i,r=n(0),o=n(3),s=n(332),a={panelVisible:!1,bannerVisible:!0},c=function(t,e){var n=e.panelVisible,i=e.bannerVisible;return r.a({},t,{bannerVisible:i,panelVisible:n})},u=(i={},i[s.a]=c,i),d=Object(o._3)(u,a)},function(t,e){t.exports='<player-header></player-header>\n<router-outlet *ngIf="panelVisible | async"></router-outlet>\n<player-bottom-bar></player-bottom-bar>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return t})();o=i.c([Object(r.Component)({selector:"player-bottom-bar",template:n(1208)})],o)},function(t,e){t.exports='<div class="language-selector">\n  <change-language></change-language>\n</div>\n<div class="brand"></div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(40),u=(function(){function t(t){this.store=t,this.PLAYER_RESOURCES=a.x}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.panelVisible=this.store.select(c.f.selectPanelVisible).takeUntil(this.ngUnsubscribe)},t.prototype.onClose=function(){this.store.dispatch(c.c.changeVisiblity({panelVisible:!1,bannerVisible:!0}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();u=i.c([Object(r.Component)({selector:"player-header",template:n(1210)}),i.f("design:paramtypes",[o.f])],u)},function(t,e){t.exports='<div class="letznav-player-header__container" (click)="onClose()">\n  <span class="letznav-player-header__container__title"><i18nc [id]="PLAYER_RESOURCES.banner.fullTitle"></i18nc></span>\n  <span class="letznav-player-header__container__close-btn"></span>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.cancel=new r.EventEmitter,this.ok=new r.EventEmitter,this.PLAYER_RESOURCES=o.x}return Object.defineProperty(t.prototype,"designClass",{get:function(){return this.theme&&this.theme.layoutDesign&&this.theme.layoutTheme&&o._8[this.theme.layoutDesign].class+" "+o._9[this.theme.layoutTheme].class},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"title",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"theme",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"cancel",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"ok",void 0),s=i.c([Object(r.Component)({selector:"player-dialog",template:n(1212)})],s)},function(t,e){t.exports='<div class="letznav-modal" [zIndex]="3">\n  <div class="letznav-background">\n    <div class="letznav-dialog {{designClass}}">\n      <div class="letznav-header">\n        <div class="letznav-title">{{ title }}</div>\n        <div class="letznav-cancel" (click)="cancel.emit()"></div>\n      </div>\n      <div class="letznav-content">\n        <ng-content></ng-content>\n      </div>\n      <div class="letznav-footer">\n        <div class="letznav-buttons">\n          <button (click)="ok.emit()">{{ PLAYER_RESOURCES.buttons.done | i18n }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return p}));var i=n(0),r=n(3),o=n(465),s=n.n(o),a=n(182),c={resources:s.a,updatedResources:s.a},u=Object(r.Q)(a.a,{init:function(t){return i.a({},t,{resources:s.a})},succeeded:function(t,e){return i.a({},t,{resources:e})}}),d=Object(r.Q)(a.b,{init:function(t){return i.a({},t,{updatedResources:s.a})},succeeded:function(t,e){return i.a({},t,{updatedResources:e})}}),l=i.a({},u,d),p=Object(r._3)(l,c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(10),c=(n.n(a),n(3)),u=n(12),d=n(44),l=n(182),p=n(135),f=(function(){function t(t,e,r){var o=this;this.action$=t,this.backendService=e,this.store=r,this.loadResources$=this.action$.ofType(l.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,s=(e[0],e[1]);return i.b(o,void 0,void 0,(function(){var t,e,o,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,6]),t=Object(u.a)(s),e=Object(d.selectPlayerLocale)(s),[4,n(this.backendService.getPlayerResources(t.id,e.id))];case 1:return o=i.sent(),[4,r(l.a.succeeded(o))];case 2:return i.sent(),[4,r(l.b.init())];case 3:return i.sent(),[3,6];case 4:return a=i.sent(),[4,r(l.a.failed(a))];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))})),this.setResources$=this.action$.ofType(l.b.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=(t.get,t.put),s=(e[0],e[1]);return i.b(o,void 0,void 0,(function(){var t,e,o,a,c;return i.e(this,(function(i){switch(i.label){case 0:t=Object(d.selectPlayerLocale)(s),e=Object(p.a)(s),o={},a={};try{a=n(465)}catch(t){}i.label=1;case 1:return i.trys.push([1,2,,4]),o=n(1215)("./"+t.code+".json"),a=h(a,o),[3,4];case 2:return c=i.sent(),[4,r(l.b.failed(c))];case 3:return i.sent(),[3,4];case 4:return[4,r(l.b.succeeded(h(a,e)))];case 5:return i.sent(),[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],f.prototype,"loadResources$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],f.prototype,"setResources$",void 0),f=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,c.f,o.f])],f);var h=function(t,e){return a.mergeWith({},t,e,(function(t,e){if("string"==typeof e)return e||t}))}},function(t,e,n){function i(t){return n(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./ar.json":1216,"./bn.json":1217,"./cs.json":1218,"./de.json":1219,"./en.json":465,"./es.json":1220,"./fa.json":1221,"./fr.json":1222,"./he.json":1223,"./hi.json":1224,"./ja.json":1225,"./ms.json":1226,"./pa.json":1227,"./pt.json":1228,"./ru.json":1229,"./te.json":1230,"./ur.json":1231,"./zh.json":1232};i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id=1215},function(t,e){t.exports={banner:{shortTitle:"تحتاج مساعدة?",fullTitle:"كيف يمكننا مساعدتك?"},navigator:{searchFlows:"سير العمل سيرتش",workflow:"سير العمل",workflows:"سير العمل",items:"العناصر",item:"بند"},buttons:{next:"التالى",submit:"خضع",done:"فعله"},feedback:{text:"يرجى تقييم هذا التدفق وإضافة تعليق اختياري.",error:"يرجى إعطاء تصنيف",expand:"إعطاء ردود الفعل",collapse:"تخطي ردود الفعل"},success:{title:"نجاح!",text:"لقد أكملت التدفق بنجاح."},validations:{rangeMessage:"يجب أن يكون طول الحقل بين ${min} و ${max} الشخصيات",minLength:"يجب أن يكون الحقل على الأقل ${min} المحارف طويلة",maxLength:"يجب أن يكون الحقل على الأكثر ${max} المحارف طويلة",regex:"يجب أن تتطابق القيمة ${regex}",required:"هذه الخانة مطلوبه",customMessage:"يجب أن تجتاز القيمة التحقق المخصص"}}},function(t,e){t.exports={banner:{shortTitle:"সাহায্য দরকার?",fullTitle:"কিভাবে আমরা আপনাকে সাহায্য করতে পারে?"},navigator:{searchFlows:"ওয়ার্কফ্লো অনুসন্ধান করুন",workflow:"কর্মপ্রবাহ",workflows:"কর্মপ্রবাহ",items:"চলছে",item:"পদ"},buttons:{next:"পরবর্তী",submit:"জমা দিন",done:"সম্পন্ন"},feedback:{text:"এই প্রবাহ রেট করুন এবং একটি ঐচ্ছিক মন্তব্য যোগ করুন.",error:"একটি রেটিং দিতে দয়া করে.",expand:"প্রতিক্রিয়া দিন",collapse:"প্রতিক্রিয়া এড়িয়ে যান"},success:{title:"সাফল্য!",text:"আপনি সফলভাবে প্রবাহ সম্পন্ন করেছেন."},validations:{rangeMessage:"ক্ষেত্রের দৈর্ঘ্য ${min} এবং ${max} অক্ষরের মধ্যে থাকা উচিত",minLength:"ক্ষেত্রটি অন্তত ${min} অক্ষর দীর্ঘ হতে হবে",maxLength:"ক্ষেত্রটি সর্বাধিক ${max} অক্ষর দীর্ঘ হতে হবে",regex:"মান ${regex} এর সাথে মেলে",required:"ঘরটি অবশ্যই পূরণ করতে হবে",customMessage:"মান কাস্টম বৈধতা পাস করতে হবে"}}},function(t,e){t.exports={banner:{shortTitle:"potřebovat pomoc?",fullTitle:"jak vám mohu pomoci?"},navigator:{searchFlows:"Vyhledat pracovní postupy",workflow:"Pracovní postup",workflows:"Pracovní postupy",items:"Položky",item:"Položka"},buttons:{next:"další",submit:"Předložit",done:"Hotovo"},feedback:{text:"Ohodnoťte tento tok a přidejte volitelný komentář.",error:"Uveďte prosím hodnocení.",expand:"Dát zpětnou vazbu",collapse:"Přeskočit zpětnou vazbu"},success:{title:"úspěch!",text:"Úspěšně jste dokončili tok."},validations:{rangeMessage:"Délka pole musí být mezi ${min} a ${max} znaky",minLength:"Pole musí mít délku nejméně ${min}",maxLength:"Pole musí mít maximálně ${max} znaků",regex:"Hodnota musí odpovídat ${regex}",required:"Toto pole je povinné",customMessage:"Hodnota musí projít vlastním ověřením"}}},function(t,e){t.exports={banner:{shortTitle:"Brauche Hilfe?",fullTitle:"Wie können wir Ihnen helfen?"},navigator:{searchFlows:"Suchworkflows",workflow:"Arbeitsabläuf",workflows:"Arbeitsabläufe",items:"Artikel",item:"Artikel"},buttons:{next:"Nächster",submit:"einreichen",done:"Erledigt"},feedback:{text:"Califique este flujo y agregue un comentario opcional.",error:"Por favor, dar una calificación.",expand:"Dar opinion",collapse:"Omitir comentarios"},success:{title:"Erfolg!",text:"Sie haben den Ablauf erfolgreich abgeschlossen."},validations:{rangeMessage:"Die Länge des Feldes muss zwischen ${min} und ${max} Zeichen liegen",minLength:"Das Feld muss mindestens ${min} Zeichen lang sein",maxLength:"Das Feld darf höchstens ${max} Zeichen lang sein",regex:"Der Wert muss mit ${regex} übereinstimmen",required:"Dieses Feld wird benötigt",customMessage:"Der Wert muss die benutzerdefinierte Validierung bestehen"}}},function(t,e){t.exports={banner:{shortTitle:"Necesitas ayuda?",fullTitle:"Como podemos ayudarte?"},navigator:{searchFlows:"Flujos de trabajo de búsqueda",workflow:"Flujo de trabajo",workflows:"Flujos de trabajo",items:"Artículos",item:"ít."},buttons:{next:"Siguiente",submit:"Enviar",done:"Hecho"},feedback:{text:"Califique este flujo y agregue un comentario opcional.",error:"Por favor, dar una calificación.",expand:"Dar opinion",collapse:"Omitir comentarios"},success:{title:"Éxito!",text:"Ha completado con éxito el flujo."},validations:{rangeMessage:"La longitud del campo debe ser entre ${min} y ${max} caracteres",minLength:"El campo debe tener al menos ${min} caracteres de longitud",maxLength:"El campo tiene que tener un máximo de ${max} caracteres",regex:"El valor debe coincidir con ${regex}",required:"este campo es requerido",customMessage:"El valor debe pasar la validación personalizada"}}},function(t,e){t.exports={banner:{shortTitle:"کمک خواستن?",fullTitle:"چگونه ما میتوانیم به شما کمک کنیم?"},navigator:{searchFlows:"گردش کار جستجو",workflow:"گردش کار",workflows:"گردش کار",items:"موارد",item:"مورد"},buttons:{next:"بعد",submit:"ارسال",done:"انجام شده"},feedback:{text:"پیگیری بازخورد.",error:"لطفا امتیاز بدهید.",expand:"بازخورد بدهید",collapse:"پیگیری بازخورد"},success:{title:"موفقیت!",text:"شما با موفقیت جریان را کامل کرده اید."},validations:{rangeMessage:"طول میدان باید بین باشد ${min} و ${max} شخصیت ها",minLength:"میدان باید حداقل باشد ${min} شخصیت های طولانی",maxLength:"میدان باید بیشتر باشد ${max} شخصیت های طولانی",regex:"ارزش باید مطابقت داشته باشد ${regex}",required:"این فیلد مورد نیاز است",customMessage:"ارزش باید اعتبار سفارشی را منتقل کند"}}},function(t,e){t.exports={banner:{shortTitle:"Besoin d'aide pour?",fullTitle:"Comment pouvons-nous vous aider?"},navigator:{searchFlows:"Rechercher des workflows",workflow:"Workflow",workflows:"Workflows",items:"Articles",item:"Article"},buttons:{next:"Prochain",submit:"Soumettre",done:"Terminé"},feedback:{text:"S'il vous plaît noter ce flux et ajouter un commentaire facultatif.",error:"S'il vous plaît donner une note.",expand:"Donnez votre avis",collapse:"Passer le commentaire"},success:{title:"Succès!",text:"Vous avez terminé le flux avec succès."},validations:{rangeMessage:"La longueur du champ doit être comprise entre ${min} et ${max} personnages",minLength:"Le champ doit contenir au moins ${min} caractères",maxLength:"Le champ doit contenir au maximum ${max} caractères",regex:"La valeur doit correspondre à ${regex}",required:"Ce champ est requis",customMessage:"La valeur doit passer la validation personnalisée"}}},function(t,e){t.exports={banner:{shortTitle:"זקוק לעזרה?",fullTitle:"איך נוכל לעזור לך?"},navigator:{searchFlows:"חיפוש זרימות עבודה",workflow:"זרימת עבודה",workflows:"זרימות עבודה",items:"פריטים",item:"פריט"},buttons:{next:"הַבָּא",submit:"שלח",done:"בוצע"},feedback:{text:"דרג את הזרימה והוסף תגובה אופציונלית.",error:"אנא תן דירוג.",expand:"תן משוב",collapse:"דלג על המשוב"},success:{title:"הַצלָחָה!",text:"השלמת בהצלחה את הזרימה."},validations:{rangeMessage:"אורך השדה חייב להיות בין ${min} ו ${max} דמויות",minLength:"השדה צריך להיות לפחות ${min} תווים ארוך",maxLength:"השדה צריך להיות לכל היותר ${max} תווים ארוך",regex:"הערך חייב להיות תואם ${regex}",required:"זהו שדה חובה",customMessage:"הערך חייב לעבור אימות מותאם אישית"}}},function(t,e){t.exports={banner:{shortTitle:"मैं आपकी कैसे मदद कर सकता हूँ ?",fullTitle:" मैं आपकी कैसे मदद कर सकता हूँ?"},navigator:{searchFlows:"खोज  कार्यप्रवाह",workflow:"कार्यप्रवाह",workflows:"कार्यप्रवाह",items:"आइटम",item:"आइटम"},buttons:{next:"आगामी",submit:"जमा करें",done:" किया हुआ"},feedback:{text:"कृपया इस प्रवाह को रेट करें और एक वैकल्पिक टिप्पणी जोड़ें.",error:"कृपया एक रेटिंग दें.",expand:"प्रतिक्रिया दें",collapse:"फीडबैक छोड़ें"},success:{title:"सफलता!",text:"आपने सफलतापूर्वक प्रवाह को पूरा कर लिया है"},validations:{rangeMessage:"फ़ील्ड की लंबाई ${min} और ${max} वर्णों के बीच होनी चाहिए",minLength:"फ़ील्ड को कम से कम ${min} वर्ण लंबा होना चाहिए",maxLength:"फ़ील्ड को अधिकतम ${max} वर्ण लंबा होना चाहिए",regex:"मान को ${regex} से मेल करना होगा",required:"यह फ़ील्ड आवश्यक है",customMessage:"मान कस्टम सत्यापन पास करना होगा"}}},function(t,e){t.exports={banner:{shortTitle:"助けが必要?",fullTitle:"お手伝いしましょうか?"},navigator:{searchFlows:"検索ワークフロー",workflow:"ワークフロー",workflows:"ワークフロー",items:"アイテム",item:"アイテム"},buttons:{next:"次",submit:"提出する",done:"完了"},feedback:{text:"このフローを評価し、オプションのコメントを追加してください.",error:"評価を与えてください.",expand:"フィードバックを与えます",collapse:"フィードバックをスキップする"},success:{title:"成功!",text:"フローを正常に完了しました."},validations:{rangeMessage:"フィールドの長さは、${min} そして ${max} 文字",minLength:"フィールドは少なくとも ${min} 長い文字",maxLength:"フィールドは最大でなければならない ${max} 長い文字",regex:"値は一致する必要があります ${regex}",required:"この項目は必須です",customMessage:"値はカスタム検証に合格する必要があります"}}},function(t,e){t.exports={banner:{shortTitle:"Perlukan bantuan?",fullTitle:"Bagaimanakah kami boleh membantu anda?"},navigator:{searchFlows:"Cari Alur kerja",workflow:"Aliran Kerja",workflows:"Aliran kerja",items:"Perkara",item:"Perkara"},buttons:{next:"Seterusnya",submit:"Hantar",done:"Selesai"},feedback:{text:"Sila nilaikan aliran ini dan tambah ulasan pilihan.",error:"Tolong beri rating.",expand:"Berikan maklum balas",collapse:"Langkau maklum balas"},success:{title:"Kejayaan!",text:"Anda telah berjaya menyelesaikan aliran tersebut."},validations:{rangeMessage:"Panjang medan harus berada di antara ${min} dan ${max} watak",minLength:"Bidang ini harus setidaknya ${min} aksara panjang",maxLength:"Bidang ini harus paling banyak ${max} aksara panjang",regex:"Nilai harus dipadankan ${regex}",required:"Bidang ini diperlukan",customMessage:"Nilai mesti lulus pengesahan peribadi"}}},function(t,e){t.exports={banner:{shortTitle:"ਮਦਦ ਦੀ ਲੋੜ ਹੈ?",fullTitle:"ਅਸੀਂ ਤੁਹਾਡੀ ਕਿਵੇਂ ਮਦਦ ਕਰ ਸਕਦੇ ਹਾਂ?"},navigator:{searchFlows:"ਵਰਕਫਲੋਜ਼ ਖੋਜੋ",workflow:"ਵਰਕਫਲੋ",workflows:"ਵਰਕਫਲੋਜ਼",items:"ਇਕਾਈ",item:"ਆਈਟਮ"},buttons:{next:"ਅਗਲਾ",submit:"ਜਮ੍ਹਾਂ ਕਰੋ",done:"ਹੋ ਗਿਆ"},feedback:{text:"ਕਿਰਪਾ ਕਰਕੇ ਇਸ ਪ੍ਰਵਾਹ ਨੂੰ ਰੇਟ ਕਰੋ ਅਤੇ ਇੱਕ ਵਿਕਲਪਿਕ ਟਿੱਪਣੀ ਜੋੜੋ.",error:"ਕਿਰਪਾ ਕਰਕੇ ਇੱਕ ਰੇਟਿੰਗ ਦਿਉ.",expand:"ਫੀਡਬੈਕ ਦਿਓ",collapse:"ਫੀਡਬੈਕ ਛੱਡੋ"},success:{title:"ਸਫਲਤਾ!",text:"ਤੁਸੀਂ ਸਫ਼ਲਤਾਪੂਰਵਕ ਪ੍ਰਕਿਰਿਆ ਪੂਰੀ ਕਰ ਲਈ ਹੈ."},validations:{rangeMessage:"ਖੇਤਰ ਦੀ ਲੰਬਾਈ ਦੇ ਵਿਚਕਾਰ ਹੋਣੀ ਚਾਹੀਦੀ ਹੈ ${min} ਅਤੇ ${max} ਅੱਖਰ",minLength:"ਫੀਲਡ ਘੱਟੋ ਘੱਟ ਹੋਣਾ ਚਾਹੀਦਾ ਹੈ ${min} ਲੰਬੇ ਅੱਖਰ",maxLength:"ਫੀਲਡ ਸਭ ਤੋਂ ਜਿਆਦਾ ਹੋਣੇ ਚਾਹੀਦੇ ਹਨ ${max} ਲੰਬੇ ਅੱਖਰ",regex:"ਮੁੱਲ ਦਾ ਮੇਲ ਹੋਣਾ ਚਾਹੀਦਾ ਹੈ ${regex}",required:"ਇਸ ਫੀਲਡ ਦੀ ਲੋੜ ਹੈ",customMessage:"ਵੈਲਯੂ ਨੂੰ ਕਸਟਮ ਪ੍ਰਮਾਣਿਕਤਾ ਨੂੰ ਪਾਸ ਕਰਨਾ ਚਾਹੀਦਾ ਹੈ"}}},function(t,e){t.exports={banner:{shortTitle:"Preciso de ajuda?",fullTitle:"Como podemos te ajudar?"},navigator:{searchFlows:"Pesquisar fluxos de trabalho",workflow:"Fluxo de trabalho",workflows:"Fluxos de trabalho",items:"Unid",item:"Unid"},buttons:{next:"Próximo",submit:"Enviar",done:"Feito"},feedback:{text:"Avalie esse fluxo e adicione um comentário opcional.",error:"Dê um rating.",expand:"Dê retorno",collapse:"Sondar comentários"},success:{title:"Sucesso!",text:"Você concluiu com sucesso o fluxo."},validations:{rangeMessage:"O comprimento do campo deve estar entre ${min} e ${max} personagens",minLength:"O campo deve ser pelo menos ${min} caracteres longos",maxLength:"O campo tem que ser no máximo ${max} caracteres longos",regex:"O valor deve corresponder ${regex}",required:"Este campo é obrigatório",customMessage:"O valor deve passar pela validação personalizada"}}},function(t,e){t.exports={banner:{shortTitle:"Нужна помощь?",fullTitle:"Как мы можем вам помочь?"},navigator:{searchFlows:"Поиск рабочих процессов",workflow:"Workflow",workflows:"Workflows",items:"Предметы",item:"Предметы"},buttons:{next:"следующий",submit:"Отправить",done:"Готово"},feedback:{text:"Оцените этот поток и добавьте необязательный комментарий.",error:"Пожалуйста, дайте оценку.",expand:"Дать обратную связь",collapse:"Пропустить отзыв"},success:{title:"успех!",text:"Вы успешно завершили поток."},validations:{rangeMessage:"Длина поля должна быть между ${min} а также ${max} персонажи",minLength:"Поле должно быть не менее ${min} длинные символы",maxLength:"Поле должно быть не более ${max} длинные символы",regex:"Значение должно соответствовать ${regex}",required:"Это поле обязательно к заполнению",customMessage:"Значение должно проходить пользовательскую проверку"}}},function(t,e){t.exports={banner:{shortTitle:"సహాయం కావాలి?",fullTitle:"ఎలా మేము మీకు సహాయం చేయవచ్చు?"},navigator:{searchFlows:"వర్క్ఫ్లోస్ ను శోధించండి",workflow:"వర్క్ఫ్లో",workflows:"వర్క్ఫ్లో",items:"అంశాలు",item:"అంశం"},buttons:{next:"తరువాత",submit:"సమర్పించండి",done:"పూర్తి"},feedback:{text:"దయచేసి ఈ వర్క్ఫ్లోని రేట్ చేయండి మరియు ఒక ఐచ్ఛిక వ్యాఖ్యను జోడించండి.",error:"దయచేసి రేటింగ్ ఇవ్వండి.",expand:"అభిప్రాయం తెలియజేయండి",collapse:"అభిప్రాయాన్ని దాటవేయి"},success:{title:"విజయం!",text:"మీరు వర్క్ఫ్లో విజయవంతంగా పూర్తి చేసారు."},validations:{rangeMessage:"ఫీల్డ్ యొక్క పొడవు ${min} మరియు ${max} అక్షరాల మధ్య ఉండాలి",minLength:"ఈ ఫీల్డ్ కనీసం ${min} అక్షరాల పొడవు ఉండాలి",maxLength:"ఫీల్డ్ చాలా వరకు ${max} అక్షరాల పొడవు ఉండాలి",regex:"విలువ ${regex} కు సరిపోలాలి",required:"ఈ ఖాళీని తప్పనిసరిగా పూరించవలెను",customMessage:"విలువ తప్పనిసరిగా ధృవీకరణ చేయబడాలి"}}},function(t,e){t.exports={banner:{shortTitle:"مدد چاہیے؟",fullTitle:"ہم کیسے آپ کی مدد کر سکتے ہیں؟"},navigator:{item:"شے",items:"اشیاء",workflow:"ورک فلو",workflows:"ورک فلو",searchFlows:"کام کے بہاؤ تلاش کریں"},buttons:{done:"ہو گیا",next:"اگلے",submit:"جمع"},feedback:{text:".اس بہاؤ کی شرح براہ کرم اور ایک اختیاری تبصرہ شامل کریں",error:".درجہ بندی دیں",expand:"رائے دے دو",collapse:"رائے دیں"},success:{text:"آپ نے کامیابی سے بہاؤ کو مکمل کیا ہے.",title:"کامیابی!"},validations:{rangeMessage:"حروف ${max} اور ${min} فیلڈ کی لمبائی کے درمیان ہونا لازمی ہے",minLength:"حروف طویل ${min} فیلڈ کم از کم ہونا چاہئے",maxLength:"حروف طویل ${max} فیلڈ کو زیادہ سے زیادہ ہونا پڑے گا",regex:"${regex} قیمت ملنا پڑتا ہے",required:"اس کو پر کرنا ضروری ہے",customMessage:"ویلیو اپنی مرضی کے توثیق کو منظور کرنا ضروری ہے"}}},function(t,e){t.exports={banner:{shortTitle:"需要帮忙?",fullTitle:"我们该怎样帮助你?"},navigator:{searchFlows:"搜索工作流程",workflow:"工作流程",workflows:"工作流程",items:"项目",item:"项目"},buttons:{next:"下一个",submit:"提交",done:"完成"},feedback:{text:"请评价这个流程并添加一个可选的评论.",error:"请给一个评价.",expand:"给予反馈",collapse:"跳过反馈"},success:{title:"成功!",text:"您已成功完成流程."},validations:{rangeMessage:"领域的长度必须介于两者之间 ${min} 和 ${max} 人物",minLength:"该领域必须至少 ${min} 长字符",maxLength:"该字段必须是最多的 ${max} 长字符",regex:"值必须匹配 ${regex}",required:"这是必填栏",customMessage:"值必须通过自定义验证"}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(44)),u=n(182),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(c.selectPlayerLocale).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(u.a.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,u.a.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(6),c=(n.n(a),n(10)),u=(n.n(c),n(3)),d=n(56),l=n(620),p=n(334),f=(function(){function t(t,e){this.store=t,this.actions=e,this.PLAYER_RESOURCES=u.x}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.isVisible=this.store.select(l.b).takeUntil(this.ngUnsubscribe),this.feedback=this.store.select(l.a).map(c.cloneDeep).takeUntil(this.ngUnsubscribe),this.actions.ofType(p.a).takeUntil(this.ngUnsubscribe).subscribe((function(){return t.onCancel()})),this.theme=this.store.select(d.j).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onFeedback=function(t){this.store.dispatch(Object(p.f)(Object(c.cloneDeep)(t)))},t.prototype.onOk=function(){this.store.dispatch(p.d.canceled())},t.prototype.onCancel=function(){this.store.dispatch(p.d.canceled())},t})();f=i.c([Object(r.Component)({selector:"flow-feedback",template:n(1235)}),i.f("design:paramtypes",[o.f,s.a])],f)},function(t,e){t.exports='<player-dialog *ngIf="isVisible | async" [title]="PLAYER_RESOURCES.success.title | i18n" (ok)="onOk()"  [theme]=" theme|async "  (cancel)="onCancel()">\n  <feedback-form [feedback]="feedback | async" (feedbackChange)="onFeedback($event)"></feedback-form>\n</player-dialog>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.feedbackChange=new r.EventEmitter,this.PLAYER_RESOURCES=o.x}return t.prototype.onChange=function(){this.feedback.stars>0&&(this.feedback.noRatingError=!1),this.feedbackChange.emit(this.feedback)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"feedback",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"feedbackChange",void 0),s=i.c([Object(r.Component)({selector:"feedback-form",template:n(1237)})],s)},function(t,e){t.exports='{{ PLAYER_RESOURCES.success.text | i18n }}\n<div class="letznav-link" *ngIf="false" (click)="feedback.giveFeedback = true; onChange()">{{ PLAYER_RESOURCES.feedback.expand | i18n }}</div>\n<div *ngIf="false" class="letznav-feedback">{{ PLAYER_RESOURCES.feedback.text | i18n }}\n  <div class="letznav-rating">\n    <div class="letznav-star" [class.letznav-selected]="feedback.stars > 0" (click)="feedback.stars = 1; onChange()"></div>\n    <div class="letznav-star" [class.letznav-selected]="feedback.stars > 1" (click)="feedback.stars = 2; onChange()"></div>\n    <div class="letznav-star" [class.letznav-selected]="feedback.stars > 2" (click)="feedback.stars = 3; onChange()"></div>\n    <div class="letznav-star" [class.letznav-selected]="feedback.stars > 3" (click)="feedback.stars = 4; onChange()"></div>\n    <div class="letznav-star" [class.letznav-selected]="feedback.stars > 4" (click)="feedback.stars = 5; onChange()"></div>\n  </div>\n  <textarea type="text" rows="4" [(ngModel)]="feedback.comment" (ngModelChange)="onChange()"></textarea>\n  <div class="letznav-error" *ngIf="feedback.noRatingError">{{ PLAYER_RESOURCES.feedback.error | i18n }}</div>\n  <div class="letznav-link" (click)="feedback.giveFeedback = false; onChange()">{{ PLAYER_RESOURCES.feedback.collapse | i18n }}</div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return f}));var i,r=n(0),o=n(3),s=n(334),a={giveFeedback:!1,noRatingError:!1,stars:0,comment:""},c={isVisible:!1,sendingFeedback:!1,feedback:null},u=Object(o.Q)(s.c,{init:function(t){return r.a({},t,{sendingFeedback:!0})},failed:function(t){return r.a({},t,{sendingFeedback:!1})},succeeded:function(t){return r.a({},t,{sendingFeedback:!1})}}),d=Object(o.Q)(s.d,{init:function(t,e){var n=e.forceFeedback;return r.a({},t,{isVisible:!0,feedback:r.a({},a,{giveFeedback:!!n})})},canceled:function(t){return r.a({},t,{isVisible:!1})},succeeded:function(t){return r.a({},t,{isVisible:!1})},failed:function(t){return r.a({},t,{isVisible:!1})}}),l=function(t,e){return r.a({},t,{feedback:e})},p=r.a({},u,d,(i={},i[s.b]=l,i)),f=Object(o._3)(p,c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(334),c=n(620),u=n(137),d=(function(){function t(t,e){var n=this;this.action$=t,this.store=e,this.sendFeedback$=this.action$.ofType(a.c.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=(t.get,t.put),o=(t.chain,e[0],e[1]);return i.b(n,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,7]),t=Object(c.a)(o),[4,r(Object(u.f)({type:u.a.SUBMIT_FEEDBACK,data:{feedback:{rating:t.stars,text:t.comment}}}))];case 1:return n.sent(),[4,r(a.c.succeeded())];case 2:return n.sent(),[4,r(a.d.succeeded())];case 3:return n.sent(),[3,7];case 4:return e=n.sent(),[4,r(a.c.failed(e))];case 5:return n.sent(),[4,r(a.d.failed(e))];case 6:return n.sent(),[3,7];case 7:return[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],d.prototype,"sendFeedback$",void 0),d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,o.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(466)),u=n(12),d=n(3),l=n(335),p=n(621),f=n(44),h=n(622),b=n(623),m=n(40),g=n(11),v=n(181),y=(function(){function t(t,e,n,r,o){var c=this;this.action$=t,this.playerService=e,this.store=n,this.messages=r,this.backendService=o,this.sendEvent$=this.action$.ofType(l.b.INIT).map(s.d).withLatestFrom(this.store).mergeMap((function(t){var e=t[0],n=t[1];return Object(a.corx)((function(t){var r=t.get,o=t.put;return i.b(c,void 0,void 0,(function(){var t,s,a,c,d,m,g,v,y,O,j,E;return i.e(this,(function(S){switch(S.label){case 0:return S.trys.push([0,8,,10]),(t=Object(u.a)(n),s=Object(f.selectFlow)(n),a=Object(f.selectCurrentStepSanitized)(n),c=Object(f.selectPlayerLocale)(n),d=Object(h.b)(n),m=Object(u.c)(n),g={},e.type!==p.a.CUSTOM_ACTION)?[3,3]:(v=Object(b.a)(n),y=v&&v.find((function(t){return t.code===e.data.code})),y?[3,2]:[4,o(l.b.canceled())]);case 1:return S.sent(),[2];case 2:g=i.a({},g,{type:y.type}),S.label=3;case 3:return O=d.trackUserActions||!p.b.has(e.type),O?[3,5]:[4,o(l.b.canceled())];case 4:return S.sent(),[2];case 5:return j={type:p.a[e.type],created:Date.now(),data:i.a({locale:c&&c.code||void 0,userId:d.recordUserId&&m.extractUserId&&m.extractUserId()||void 0,location:{url:window.location.href},flowId:s&&s.id||void 0,step:Number.isInteger(a)?a+1:void 0},g,e.data||{})},[4,r(this.playerService.postEvent(t.id,j))];case 6:return S.sent(),[4,o(l.b.succeeded())];case 7:return S.sent(),[3,10];case 8:return E=S.sent(),[4,o(l.b.failed(E))];case 9:return S.sent(),[3,10];case 10:return[2]}}))}))}))})),this.watchFrame$=this.action$.ofType(m.c.CHANGE_VISIBLITY).map(s.d).delay(1).map((function(t){return Object(l.c)({type:p.a.CLICK_NAV,data:{isNavOpen:t.panelVisible}})})),this.watchUrl$=this.messages.ofType(g.b.UrlChanged).mergeMap((function(t){return Object(a.corx)((function(e){var n=e.put,r=e.get;return i.b(c,void 0,void 0,(function(){var e,o,s,a,c,h,m,g,y,O;return i.e(this,(function(i){switch(i.label){case 0:return[4,r(this.store.select(u.h).takeWhile((function(t){return!t})))];case 1:return i.sent(),[4,r(this.store.take(1))];case 2:return e=i.sent(),o=Object(u.a)(e),s=Object(f.selectFlow)(e),a={url:t.url,isFrame:!!t.isFrame||void 0},s?[4,n(Object(l.c)({type:p.a.CHANGE_URL,data:{location:a}}))]:[3,4];case 3:i.sent(),i.label=4;case 4:c=Object(b.a)(e),h=Object(v.a)(t.url,o.rootUrl),m=c.filter((function(t){return t.type===d.l.URL_HIT&&h(t.properties.url)})),g=0,y=m,i.label=5;case 5:return g<y.length?(O=y[g],[4,n(Object(l.c)({type:p.a.CUSTOM_ACTION,data:{location:a,code:O.code}}))]):[3,8];case 6:i.sent(),i.label=7;case 7:return g++,[3,5];case 8:return[2]}}))}))}))})),this.loadUserActions$=this.action$.ofType(l.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=(e[0],e[1]);return i.b(c,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(o),[4,n(this.backendService.getActionDefinitions(t.id))];case 1:return e=i.sent(),[4,r(l.a.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,r(l.a.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],y.prototype,"sendEvent$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],y.prototype,"watchFrame$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],y.prototype,"watchUrl$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],y.prototype,"loadUserActions$",void 0),y=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,c.e,o.f,g.e,d.f])],y)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(48),s=n(42),a=n(37);n.d(e,"b",(function(){return s.h}));var c=(function(t){function e(e,n){var i=t.call(this,e)||this;return i.config=n,i}return i.d(e,t),e.prototype.getBaseUrl=function(){return this.config.backendUrl+"/api/$auth$/auth"},e})(s.h);c=i.c([Object(r.Injectable)(),i.g(1,Object(r.Inject)(a.b)),i.f("design:paramtypes",[o.Http,Object])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(58),s=(n.n(o),n(48)),a=n(3),c=n(37);n.d(e,"b",(function(){return a.f}));var u=(function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.config=i,r}return i.d(e,t),e.prototype.getBaseUrl=function(){return this.config.backendUrl+"/api/$auth$/admin"},e})(a.f);u=i.c([Object(r.Injectable)(),i.g(2,Object(r.Inject)(c.b)),i.f("design:paramtypes",[s.Http,o.AuthHttp,Object])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(48)),a=n(132),c=n(37),u=(function(t){function e(e,n){var i=t.call(this,e)||this;return i.config=n,i}return i.d(e,t),e.prototype.postEvent=function(t,e){return null},e.prototype.getBaseUrl=function(){return this.config.backendUrl+"/api/public/player"},e})(a.k);i.c([Object(a.g)("/applications/{applicationId}/events"),i.g(0,Object(a.i)("applicationId")),i.g(1,a.b),i.f("design:type",Function),i.f("design:paramtypes",[Number,Object]),i.f("design:returntype",o.Observable)],u.prototype,"postEvent",null),u=i.c([Object(r.Injectable)(),Object(a.d)({Accept:"application/json; charset=utf-8","Content-Type":"application/json"}),i.g(1,Object(r.Inject)(c.b)),i.f("design:paramtypes",[s.Http,Object])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(16),s=(n.n(o),n(3)),a=n(42),c=n(37),u=(function(){function t(t,e){this.config=t,this.accountService=e}return t.prototype.uploadImage=function(t){var e=this;return Object(o.corx)((function(n){var r=n.put;return i.b(e,void 0,void 0,(function(){var e,n;return i.e(this,(function(i){switch(i.label){case 0:return[4,this.accountService.getAuthorizationToken()];case 1:return e=i.sent(),[4,Object(s._15)(t,"image",this.config.backendUrl+"/api/private/image",e)];case 2:return n=i.sent(),[4,r({imageId:n.imageId})];case 3:return i.sent(),[2]}}))}))}))},t})();u=i.c([Object(r.Injectable)(),i.g(0,Object(r.Inject)(c.b)),i.f("design:paramtypes",[Object,a.d])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var i=n(0),r=n(3),o=n(335),s={actionDefitions:null},a=Object(r.Q)(o.a,{succeeded:function(t,e){return i.a({},t,{actionDefitions:e})}}),c=i.a({},a),u=Object(r._3)(c,s)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(12)),u=n(335),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(c.a).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(u.a.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,u.a.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e){t.exports='<md-select class="select-component" name="locale"\n  [ngModel]="currentLocale | async"\n  (ngModelChange)="onLocaleChanged($event)"\n  [disabled]="isSaving | async">\n  <md-option *ngFor="let locale of (locales | async)" [value]="locale.id">\n    {{ locale.name }}\n  </md-option>\n</md-select>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return p}));var i,r=n(0),o=n(3),s=n(336),a={currentLocaleId:null,isSaving:!1},c=Object(o.Q)(s.b,{init:function(t){return r.a({},t,{currentLocaleId:null})},succeeded:function(t,e){return r.a({},t,{currentLocaleId:e})}}),u=Object(o.Q)(s.c,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{isSaving:!1})},failed:function(t,e){return r.a({},t,{isSaving:!1})}}),d=function(t,e){return r.a({},t,{currentLocaleId:e})},l=r.a({},c,u,(i={},i[s.a]=d,i)),p=Object(o._3)(l,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(12),c=n(98),u=n(124),d=n(336),l=n(182),p=n(461),f="letznav_locale",h="letznav-rtl",b="letznav-app-player",m=(function(){function t(t,e){var n=this;this.action$=t,this.store=e,this.loadLangauge$=this.action$.ofType(d.b.INIT).delay(1).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=(t.get,t.put),o=(e[0],e[1]);return i.b(n,void 0,void 0,(function(){var t,e,n,s,c,u;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),t=Object(a.a)(o),e=Object(a.i)(o),n=parseInt(window.localStorage.getItem(f),10),Number.isInteger(n)||(n=this.getDefaultLocaleId(e,t)),s=e.find((function(t){return t.id===n})),s||(n=this.getDefaultLocaleId(e,t),s=e.find((function(t){return t.id===n}))),s&&s.isRtl&&(c=document.querySelector(b),c.classList.add(h)),[4,r(d.b.succeeded(n))];case 1:return i.sent(),[3,4];case 2:return u=i.sent(),[4,r(d.b.failed(u))];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))})),this.saveLangauge$=this.action$.ofType(d.c.INIT).delay(1).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=t.get,o=t.put,s=(e[0],e[1]);return i.b(n,void 0,void 0,(function(){var t,e,n,m,g,v,y,O;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=Object(p.a)(s),e=Object(a.i)(s),n=document.querySelector(b),window.localStorage.setItem(f,String(t)),m=e.find((function(e){return e.id===t})),m&&m.isRtl?n.classList.add(h):n.classList.remove(h),[4,o(l.a.init())];case 1:return i.sent(),[4,r((v=this.action$).ofType.apply(v,l.a.RESULT_ACTIONS).take(1))];case 2:return i.sent(),[4,o(c.S.init())];case 3:return i.sent(),[4,r((y=this.action$).ofType.apply(y,c.S.RESULT_ACTIONS).take(1))];case 4:return i.sent(),[4,o(u.a.init())];case 5:return i.sent(),[4,r((O=this.action$).ofType.apply(O,u.a.RESULT_ACTIONS).take(1))];case 6:return i.sent(),[4,o(d.c.succeeded())];case 7:return i.sent(),[3,10];case 8:return g=i.sent(),[4,o(d.c.failed(g))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}))}))}return t.prototype.getDefaultLocaleId=function(t,e){var n=(navigator.language||"").substr(0,2).toLowerCase(),i=t.find((function(t){return t.code===n}));return i?i.id:e.defaultLocaleId},t})();i.c([Object(s.b)(),i.f("design:type",Object)],m.prototype,"loadLangauge$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],m.prototype,"saveLangauge$",void 0),m=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,o.f])],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(12)),u=n(336),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(c.i).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(u.b.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,u.b.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e,n){"use strict";var i=n(1252);n.d(e,"c",(function(){return i.a})),n.d(e,"d",(function(){return i.b}));var r=n(1253);n.d(e,"a",(function(){return r.a}));var o=n(1254);n.d(e,"b",(function(){return o.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var i=n(0),r=n(3),o=n(467),s={userActions:r.L,keyboardShortcuts:r.K},a=Object(r.Q)(o.a,{succeeded:function(t,e){return i.a({},t,{userActions:e.userActions,keyboardShortcuts:e.keyboardShortcuts})}}),c=i.a({},a),u=Object(r._3)(c,s)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(3),c=n(467),u=n(622),d=n(12),l=n(11),p=(function(){function t(t,e,n,r){var o=this;this.action$=t,this.backendService=e,this.store=n,this.messages=r,this.loadResources$=this.action$.ofType(c.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,s=(e[0],e[1]);return i.b(o,void 0,void 0,(function(){var t,e,o,u;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,6]),t=Object(d.a)(s),[4,n(this.backendService.getPlayerOptions(t.id,a.w.USER_ACTION))];case 1:return e=i.sent(),[4,n(this.backendService.getPlayerOptions(t.id,a.w.KEYBOARD_SHORTCUTS))];case 2:return o=i.sent(),[4,r(c.a.succeeded({userActions:e,keyboardShortcuts:o}))];case 3:return i.sent(),[3,6];case 4:return u=i.sent(),[4,r(c.a.failed(u))];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))})),this.sendShortcuts$=this.store.select(u.a).do((function(t){o.messages.sendMessage({type:l.b.PlayerShortcuts,config:t})})).filter((function(){return null})),this.messages.ofTypeResponse(l.b.GetPlayerShortcuts).withLatestFrom(this.store.select(u.a)).subscribe((function(t){var e=t[0],n=t[1];return e.sendResponse({config:n})}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],p.prototype,"loadResources$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],p.prototype,"sendShortcuts$",void 0),p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,a.f,o.f,l.e])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(12)),u=n(467),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(c.a).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(u.a.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,u.a.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e,n){"use strict";var i=n(1256);n.d(e,"a",(function(){return i.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(6),c=(n.n(a),n(10)),u=(n.n(c),n(98)),d=n(12),l=n(44),p=n(136),f=n(11),h=n(137),b=(function(){function t(t,e){var n=this;this.store=t,this.messages=e,this.sendAppScriptTrigger=new a.Subject,this.applicationLoaded=a.Observable.combineLatest(this.store.select(d.d),this.sendAppScriptTrigger).map((function(t){return t[0]})).filter((function(t){return!!t})).debounceTime(50).do((function(t){n.messages.sendMessage({type:f.b.ExecuteAppScript,script:t})})).filter((function(){return null})),this.sendStepScriptTrigger=new a.Subject,this.stepChanged=a.Observable.combineLatest(this.store.select(l.selectRawStep),this.sendStepScriptTrigger).map((function(t){return t[0]})).filter((function(t){return!(!t||!t.script)})).debounceTime(50).do((function(t){n.messages.sendMessage({type:f.b.ExecuteStepScript,script:t.script,stepId:t.id})})).filter((function(){return null})),this.scriptExecutionState=a.Observable.combineLatest(this.store.select(l.selectFlow),this.store.select(l.selectStepId),this.store.select(l.selectCurrentStepSanitized)).map((function(t){var e=t[0],n=t[1],i=t[2];return{flowId:e&&e.id||null,currentStepId:n,currentStep:i}})),this.sendExecutionStateTrigger=new a.Subject,this.sendExecutionState=a.Observable.combineLatest(this.scriptExecutionState.distinctUntilChanged(c.isEqual),this.sendExecutionStateTrigger).do((function(t){var e=t[0];n.messages.sendMessage(i.a({type:f.b.ScriptExecutionState},e))})).filter((function(){return null})),this.handleGetScripts=this.messages.ofTypeResponse(f.b.GetCurrentScripts).do((function(){n.sendExecutionStateTrigger.next(),n.sendAppScriptTrigger.next(),n.sendStepScriptTrigger.next()})).filter((function(){return null})),this.handleExecutionActions=this.messages.ofType(f.b.ScriptExecutionAction).withLatestFrom(this.store).switchMapCorx((function(t,e){var r=t.put,o=(t.get,e[0]),s=e[1];return i.b(n,void 0,void 0,(function(){var t,e;return i.e(this,(function(n){switch(n.label){case 0:if(!(t=Object(l.selectRawStep)(s)))return[3,11];switch(e=o.action){case f.f.Next:return[3,1];case f.f.Previous:return[3,3];case f.f.GoToStep:return[3,5];case f.f.End:return[3,7];case f.f.Fail:return[3,9]}return[3,11];case 1:return[4,r(Object(u._15)(u.d.Next))];case 2:return n.sent(),[3,11];case 3:return[4,r(Object(u._15)(u.d.Previous))];case 4:return n.sent(),[3,11];case 5:return[4,r(Object(p.h)(o.stepIndex))];case 6:return n.sent(),[3,11];case 7:return[4,r(Object(u._15)(u.d.End))];case 8:return n.sent(),[3,11];case 9:return[4,r(Object(u._15)(u.d.Cancel))];case 10:return n.sent(),[3,11];case 11:return o.action!==f.f.UserAction?[3,13]:[4,r(Object(h.f)({type:h.a.CUSTOM_ACTION,data:i.a({},o.data,{code:o.code})}))];case 12:n.sent(),n.label=13;case 13:return[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],b.prototype,"applicationLoaded",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],b.prototype,"stepChanged",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],b.prototype,"sendExecutionState",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],b.prototype,"handleGetScripts",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],b.prototype,"handleExecutionActions",void 0),b=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,f.e])],b)},function(t,e,n){"use strict";var i=n(1258);n.d(e,"a",(function(){return i.a}));var r=n(1277);n.d(e,"b",(function(){return r.a})),n.d(e,"c",(function(){return r.b}));n(633)},function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(6),c=(n.n(a),n(3)),u=n(11),d=n(124),l=n(626),p=n(12),f=n(138),h=n(139),b=n(627),m=n(135),g=n(44),v=n(630),y=n(632),O=n(633),j=(function(){function t(t,e,n,r){var s=this;this.action$=t,this.store=e,this.backendService=n,this.messages=r,this.loadForm$=this.action$.ofType(d.a.SUCCEEDED).map(o.d).do((function(t){return s.messages.sendMessage({type:u.b.SetForms,forms:t.map((function(t){return{id:t.id,anchors:t.formIdentification}}))})})).filter((function(){return!1})),this.activateForm$=this.action$.ofType(y.a).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=(e[0],e[1]);return i.b(s,void 0,void 0,(function(){var t,e,s,a,u,d,l,b,v;return i.e(this,(function(i){switch(i.label){case 0:if(!((t=Object(O.a)(o))&&t.length>0))return[3,15];e=Object(p.a)(o),s=t.map((function(t){return t.id})),a=Object(g.selectPlayerLocale)(o),i.label=1;case 1:return i.trys.push([1,8,,9]),[4,n(this.backendService.getMultiFormBadges(e.id,s.join(),a.id))];case 2:return(u=i.sent())?(d=u.filter((function(t){return t.type===c.g.Announcement})),[4,this.getValidAnnouncements(d,n,r)]):[3,6];case 3:d=i.sent(),i.label=4;case 4:return[4,r(Object(h.k)(d))];case 5:i.sent(),i.label=6;case 6:return[4,r(Object(h.l)(u))];case 7:return i.sent(),[3,9];case 8:return l=i.sent(),console.error("Failed to load badges for forms",l),[3,9];case 9:return i.trys.push([9,13,,14]),[4,n(this.backendService.getMultiFormValidations(e.id,s.join(),a.id))];case 10:return b=i.sent(),[4,r(Object(f.l)({validations:Object(m.b)(o).validations}))];case 11:return i.sent(),[4,r(Object(f.j)(b))];case 12:return i.sent(),[3,14];case 13:return v=i.sent(),console.error("Failed to load validations for forms",v),[3,14];case 14:return[3,18];case 15:return[4,r(Object(f.i)())];case 16:return i.sent(),[4,r(Object(h.h)())];case 17:i.sent(),i.label=18;case 18:return[2]}}))}))})),this.getValidAnnouncements=function(t,e,n){return i.b(s,void 0,void 0,(function(){var n,r,o,s,d,l;return i.e(this,(function(i){switch(i.label){case 0:r=0,o=t,i.label=1;case 1:return r<o.length?(s=o[r],window.localStorage.getItem(b.a+s.id)?[3,4]:s.conditions.length>0?(d={id:s.id,conditions:s.conditions,type:c.g.Announcement},this.store.dispatch(Object(v.c)(d)),this.messages.sendMessage({type:u.b.ExecuteDecisionConditions,decisionEvaluation:d}),[4,e(a.Observable.race(this.messages.ofType(u.b.AnnouncementDecisionConditionsEvaluated).take(1),a.Observable.timer(500)))]):[3,3]):[3,5];case 2:return l=i.sent(),l&&l.decisionEvaluation&&l.decisionEvaluation.isSucceed&&(n=s),this.store.dispatch(Object(v.b)(d)),[3,4];case 3:return n=s,[3,5];case 4:return r++,[3,1];case 5:return[2,n?[n]:null]}}))}))},this.messages.ofType(u.b.ActivateForms).subscribe(this.onActivateForms.bind(this)),this.messages.ofType(u.b.RequestForms).subscribe(this.onRequestForms.bind(this)),this.messages.ofType(u.b.FramesChanged).subscribe(this.onCheckForms.bind(this))}return t.prototype.onActivateForms=function(t){this.store.dispatch(Object(y.c)(t.forms))},t.prototype.onCheckForms=function(){this.store.dispatch(Object(y.d)()),this.messages.sendMessage({type:u.b.RecheckForms})},t.prototype.onRequestForms=function(){var t=this;this.store.select(l.b).take(1).subscribe((function(e){e&&t.messages.sendMessage({type:u.b.SetForms,forms:e.map((function(t){return{id:t.id,anchors:t.formIdentification}}))})}))},t})();i.c([Object(o.b)(),i.f("design:type",Object)],j.prototype,"loadForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],j.prototype,"activateForm$",void 0),j=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f,c.f,u.e])],j)},function(t,e){t.exports="<router-outlet></router-outlet>\r\n\r\n"},function(t,e){t.exports='<div class="top-bar">\r\n  <div class="top-bar__container validations">\r\n    <back-btn backTo="admin/forms"></back-btn>\r\n    <span class="letznav-panel-title">{{ form?.name }}</span>\r\n    <span class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\r\n    <md-menu #menu="mdMenu">\r\n      <button md-menu-item [routerLink]="[\'..\', \'edit\']" routerLinkActive="active" class="button-save" [disabled]="disabled">Settings</button>\r\n      <button md-menu-item (click)="onDeleteForm()" [disabled]="disabled || locked">Delete</button>\r\n    </md-menu>\r\n  </div>\r\n</div>\r\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\r\n\r\n<div class="notification-msg notification-msg--warning delay" [class.active]="locked && canAnimate">\r\n  <p>Published Validations can not be edited. Switch to DRAFT to make changes.\r\n    <a [routerLink]="[\'..\', \'edit\']" routerLinkActive="active">Settings</a>\r\n  </p>\r\n</div>\r\n\r\n<div class="validation-list">\r\n  <form-connected></form-connected>\r\n\r\n  <div>\r\n    <div class="validation-item" *ngFor="let validation of validations">\r\n      <div class="validation-item__container" [routerLink]="[\'..\', \'validation\', validation.id]" routerLinkActive="active">\r\n        <span class="row-title">{{ validation.name }} <i *ngIf="!validation.name">No name</i></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf="!locked" class="validation-item add-validation" [class.disabled]="disabled || !isFormConnected">\r\n    <div (click)="(!disabled && isFormConnected) ? onAdd() : null">\r\n      <span class="row-number">+</span> <span class="row-title">Add New Spotlight</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return w}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(63),c=n(29),u=n(101),d={form:null,validations:null,validationOperation:!1,formState:null},l=Object(s.Q)(a.g,{init:function(t){return r.a({},t,{form:null,validations:null})},succeeded:function(t,e){return r.a({},t,{form:e})}}),p=Object(s.Q)(a.h,{init:function(t){return r.a({},t,{validations:null})},succeeded:function(t,e){return r.a({},t,{validations:e})}}),f=function(t,e){return r.a({},t,{validations:Object(o.sortBy)(t.validations.map((function(t){return t.id===e.id?e:t})),["name"])})},h=Object(s.Q)(a.f,{init:function(t){return r.a({},t,{validationOperation:!0})},succeeded:function(t,e){return r.a({},t,{validationOperation:!1,validations:t.validations.filter((function(t){return t.id!==e.id}))})},failed:function(t){return r.a({},t,{validationOperation:!1})},canceled:function(t){return r.a({},t,{validationOperation:!1})}}),b=Object(s.Q)(a.d,{init:function(t){return r.a({},t,{validationOperation:!0})},succeeded:function(t,e){return r.a({},t,{validationOperation:!1,validations:t.validations.concat([e])})},failed:function(t){return r.a({},t,{validationOperation:!1})}}),m=function(){return d},g=function(t,e){return r.a({},t,{formState:{id:e.id,identification:e.formIdentification,checkState:(e.formIdentification||[]).map((function(){return c.a.NotChecked}))}})},v=function(t,e){return Object(o.isEqual)(e.identification,t.formIdentification)?e:r.a({},e,{identification:t.formIdentification,checkState:(t.formIdentification||[]).map((function(){return c.a.NotChecked}))})},y=function(t,e){return r.a({},t,{form:e,formState:v(e,t.formState)})},O=function(t,e){return r.a({},t,{formState:v(e,t.formState)})},j=function(t,e){return r.a({},t,{formState:t.formState&&r.a({},t.formState,{checkState:t.formState.checkState.map((function(t,n){return e[n]&&e[n]!==c.a.NotChecked?e[n]:t}))})})},E=function(t){return r.a({},t,{formState:t.formState&&r.a({},t.formState,{checkState:t.formState.checkState.map((function(){return c.a.NotChecked}))})})},S=r.a({},l,p,h,b,(i={},i[a.j]=y,i[u.c]=O,i[a.l]=f,i[a.c]=m,i[a.i]=g,i[a.k]=j,i[a.a]=E,i)),w=Object(s._3)(S,d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(19),c=n(3),u=n(12),d=n(97),l=n(29),p=n(11),f=n(63),h=n(101),b=n(45),m=n(102),g=(function(){function t(t,e,n,r,s){var c=this;this.action$=t,this.backendService=e,this.dialogService=n,this.store=r,this.messages=s,this.loadForm$=this.action$.ofType(f.g.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],s=e[1];return i.b(c,void 0,void 0,(function(){var t,e,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(s),[4,r(this.backendService.getForm(t.id,o.payload))];case 1:return e=i.sent(),[4,n(f.g.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return a=i.sent(),[4,n(f.g.failed(a))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.loadValidation$=this.action$.ofType(f.h.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=(e[0],e[1]);return i.b(c,void 0,void 0,(function(){var t,e,s,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(o),e=Object(b.a)(o),[4,r(this.backendService.getValidations(t.id,e.id,t.defaultLocaleId))];case 1:return s=i.sent(),[4,n(f.h.succeeded(s))];case 2:return i.sent(),[3,5];case 3:return a=i.sent(),[4,n(f.h.failed(a))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.createValidation$=this.action$.ofType(f.d.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],s=e[1];return i.b(c,void 0,void 0,(function(){var t,e,c,d;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,7]),t=Object(u.a)(s),e=Object(b.a)(s),[4,r(this.backendService.createValidation(t.id,e.id))];case 1:return c=i.sent(),[4,n(f.d.succeeded(c))];case 2:return i.sent(),o.redirect?[4,n(Object(a.b)("admin/form/"+e.id+"/validation/"+c.id))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[3,7];case 5:return d=i.sent(),[4,n(f.d.failed(d))];case 6:return i.sent(),[3,7];case 7:return[2]}}))}))})),this.deleteValidation$=this.action$.ofType(f.f.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],s=e[1];return i.b(c,void 0,void 0,(function(){var t,e,a,c;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,8]),!0===o.skipDialog?[3,3]:[4,r(this.dialogService.showDialog(d.c.DeleteCancelDialog,{message:'Are you sure you want to delete the Spotlight "'+o.validation.name+'"?. This action cannot be undone.'}))];case 1:return t=i.sent(),t===d.a.Delete?[3,3]:[4,n(f.f.canceled())];case 2:return i.sent(),[2];case 3:return e=Object(u.a)(s),a=Object(b.a)(s),[4,r(this.backendService.deleteValidation(e.id,a.id,o.validation.id))];case 4:return i.sent(),[4,n(f.f.succeeded(o.validation))];case 5:return i.sent(),[3,8];case 6:return c=i.sent(),[4,n(f.f.failed(c))];case 7:return i.sent(),[3,8];case 8:return[2]}}))}))})),this.deleteForm$=this.action$.ofType(f.e.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=(e[0],e[1]);return i.b(c,void 0,void 0,(function(){var t,e,s,c,l;return i.e(this,(function(i){switch(i.label){case 0:t=Object(u.a)(o),e=Object(b.a)(o),i.label=1;case 1:return i.trys.push([1,9,,11]),[4,r(this.dialogService.showDialog(d.c.DeleteCancelDialog,{message:'Are you sure you want to delete the Form Page "'+e.name+'"?. This action cannot be undone.'}))];case 2:return s=i.sent(),s!==d.a.Delete?[2]:[4,r(this.backendService.deleteForm(t.id,e.id))];case 3:return i.sent(),[4,n(f.e.succeeded(e))];case 4:return i.sent(),c=Object(m.a)(o),Number.isInteger(c)?[4,n(Object(a.b)("admin/badge-forms/"+c))]:[3,6];case 5:return i.sent(),[3,8];case 6:return[4,n(Object(a.b)("admin/forms"))];case 7:i.sent(),i.label=8;case 8:return[3,11];case 9:return l=i.sent(),[4,n(f.e.failed(l))];case 10:return i.sent(),[3,11];case 11:return[2]}}))}))})),this.updateForm$=this.action$.ofType(f.j,h.c).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0],n=t[1],i=Object(b.c)(n),r=e.formIdentification||[];(i.checkState.some((function(t){return t===l.a.NotChecked}))||0===r.length)&&c.messages.sendMessage({type:p.b.UpdateFormData,form:e.formIdentification})})).filter((function(){return null})),this.clearData$=this.action$.ofType(f.b).do((function(){return c.messages.sendMessage({type:p.b.ClearFormData})})).filter((function(){return null})),this.pushData$=this.action$.ofType(f.i).map(o.d).do((function(t){return c.sendFormData(t.formIdentification)})).filter((function(){return null})),this.messages.ofType(p.b.RequestFormData).subscribe(this.onRequestFormData.bind(this)),this.messages.ofType(p.b.UpdateFormState).subscribe(this.onFormState.bind(this)),this.messages.ofType(p.b.FramesChanged).subscribe(this.onCheckElements.bind(this))}return t.prototype.onFormState=function(t){this.store.dispatch(Object(f.r)(t.formState))},t.prototype.onRequestFormData=function(){var t=this;this.store.take(1).subscribe((function(e){var n=Object(b.c)(e);n&&t.sendFormData(n.identification)}))},t.prototype.sendFormData=function(t){this.messages.sendMessage({type:p.b.SetFormData,form:t})},t.prototype.onCheckElements=function(){this.store.dispatch(Object(f.m)()),this.messages.sendMessage({type:p.b.RecheckForms})},t})();i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"loadForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"loadValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"createValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"deleteValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"deleteForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"updateForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"clearData$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],g.prototype,"pushData$",void 0),g=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,d.b,s.f,p.e])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(182)),u=n(135),d=n(138),l=n(63),p=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(t){var e=this;return Object(a.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a,p,f,h;return i.e(this,(function(i){switch(i.label){case 0:return[4,o(l.g.init(t.params.formId))];case 1:return i.sent(),[4,r((p=this.actions$).ofType.apply(p,l.g.RESULT_ACTIONS).take(1))];case 2:if(e=i.sent(),e.type===l.g.FAILED)throw e.payload;return[4,o(l.h.init())];case 3:return i.sent(),[4,r((f=this.actions$).ofType.apply(f,l.h.RESULT_ACTIONS).take(1))];case 4:if(n=i.sent(),n.type===l.h.FAILED)throw n.payload;return[4,o(c.b.init())];case 5:return i.sent(),[4,r((h=this.actions$).ofType.apply(h,c.b.RESULT_ACTIONS).take(1))];case 6:return i.sent(),s=o,a=d.l,[4,r(this.store.select(u.b).take(1))];case 7:return[4,s.apply(void 0,[a.apply(void 0,[i.sent()])])];case 8:return i.sent(),[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(4),o=n(1),s=n(6),a=(n.n(s),n(3)),c=n(140),u=n(83),d=n(134),l=(function(){function t(t,e){this.store=t,this.shortcutService=e}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.activeContent=this.store.select(c.a).takeUntil(this.ngUnsubscribe),this.shortcutService.shortcuts.filter((function(t){return t===a.u.cancelAction})).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.onClose()}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onClose=function(){this.store.dispatch(Object(u.g)())},t})();l=i.c([Object(o.Component)({selector:"custom-content",template:n(1265)}),i.f("design:paramtypes",[r.f,d.a])],l)},function(t,e){t.exports='<div class="custom-content-overlay" *ngIf="activeContent | async" (click)="onClose()" [zIndex]="4">\n  <content-view [content]="activeContent | async"></content-view>\n\n  <div class="custom-content-overlay__close-btn" (click)="onClose()">Close (Esc)</div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.ContentType=o.k}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"content",void 0),s=i.c([Object(r.Component)({selector:"content-view",template:n(1267)})],s)},function(t,e){t.exports='<div [ngSwitch]="content.type">\n  <div *ngSwitchCase="ContentType.Video">\n    <video-content [content]="content"></video-content>\n  </div>\n  <div *ngSwitchCase="ContentType.Image">\n    <img [src]="content.url"><img>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(4),o=n(1),s=n(23),a=n(3),c=n(40),u=n(83),d=(function(){function t(t,e){this.sanitizer=t,this.store=e,this.ContentType=a.k,this.MODE="player"}return Object.defineProperty(t.prototype,"customContent",{get:function(){return this.item.item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.tokens&&this.item.tokens.length?this.sanitizer.bypassSecurityTrustHtml(Object(a._1)(this.item)):this.customContent.name},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){this.store.dispatch(c.c.changeVisiblity({bannerVisible:!0,panelVisible:!1})),this.store.dispatch(Object(u.h)(this.customContent))},t})();i.c([Object(o.Input)(),i.f("design:type",Object)],d.prototype,"item",void 0),d=i.c([Object(o.Component)({selector:"custom-content-row",template:n(1269)}),i.f("design:paramtypes",[s.c,r.f])],d)},function(t,e){t.exports='<div [ngSwitch]="customContent.type" class="base-row" (click)="onClick()">\n  <span *ngSwitchCase="ContentType.URL" class="row-icon url"></span>\n  <span *ngSwitchCase="ContentType.Image" class="row-icon image"></span>\n  <span *ngSwitchCase="ContentType.Video" class="row-icon video"></span>\n  <span [innerHtml]="name"></span>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i,r=n(0),o=n(1),s=n(23),a=n(616),c=n.n(a);(function(t){t[t.Error=0]="Error",t[t.File=1]="File",t[t.Youtube=2]="Youtube",t[t.Vimeo=3]="Vimeo"})(i||(i={}));var u=(function(){function t(t){this.domSanitizer=t,this.VideoType=i}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.checkContent()},enumerable:!0,configurable:!0}),t.prototype.checkContent=function(){try{var t=new URL(this._content.url),e=c.a.parse(t.search);if(t.host.endsWith("youtube.com"))this.videoType=i.Youtube,this.url=this.domSanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+e.v+"?rel=0");else if(t.host.endsWith("vimeo.com")){this.videoType=i.Vimeo;var n=t.pathname.split("/")[1];this.url=this.domSanitizer.bypassSecurityTrustResourceUrl("https://player.vimeo.com/video/"+n)}else this.videoType=i.File}catch(t){console.error(t),this.videoType=i.Error}},t})();r.c([Object(o.Input)(),r.f("design:type",Object),r.f("design:paramtypes",[Object])],u.prototype,"content",null),u=r.c([Object(o.Component)({selector:"video-content",template:n(1271)}),r.f("design:paramtypes",[s.c])],u)},function(t,e){t.exports='<div [ngSwitch]="videoType" >\n  <iframe *ngSwitchCase="VideoType.Youtube"\n    [src]="url"\n    frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>\n  </iframe>\n  <video *ngSwitchCase="VideoType.File"\n    [src]="content.url"\n    controls>\n    Your browser doesn\'t support HTML5 video tag.\n  </video>\n  <iframe *ngSwitchCase="VideoType.Vimeo"\n  [src]="url"\n  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n  <div *ngSwitchCase="VideoType.Error">\n    URL provided for this content caused an error.\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return f}));var i,r=n(0),o=n(3),s=n(83),a={customContent:null,activeContent:null},c=Object(o.Q)(s.c,{init:function(t){return r.a({},t,{customContent:null})},succeeded:function(t,e){return r.a({},t,{customContent:e})}}),u=function(t,e){return r.a({},t,{activeContent:e})},d=function(t){return r.a({},t,{activeContent:null})},l=function(t,e){return r.a({},t,{customContent:t.customContent.concat([e])})},p=r.a({},c,(i={},i[s.a]=u,i[s.b]=d,i[s.e]=l,i)),f=Object(o._3)(p,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(12),u=n(44),d=n(83),l=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.loadContent$=this.action$.ofType(d.c.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,l,p,f;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(c.a)(s),e=void 0,e=Object(u.selectPlayerLocale)(s).id,[4,o(this.backendService.getContents(t.id,e))];case 1:return r=i.sent(),l=window.location.href,p=[a.j.Published],l.startsWith(t.preProdUrl)&&t.preProdUrl!==t.rootUrl&&p.push(a.j.Ready),r=r.filter((function(t){return p.indexOf(t.deployment)>=0})),[4,n(d.c.succeeded(r))];case 2:return i.sent(),[3,5];case 3:return f=i.sent(),[4,n(d.c.failed(f))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.playContent$=this.action$.ofType(d.d).delay(0).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=(t.get,t.put),o=e[0];e[1];return i.b(r,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return o.type!==a.k.URL?[3,1]:(window.open(o.url,"_blank").focus(),[3,3]);case 1:return[4,n(Object(d.f)(o))];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],l.prototype,"loadContent$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],l.prototype,"playContent$",void 0),l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.f,s.f])],l)},function(t,e){t.exports='<div class="lz-overlay lz-announcement"\n*ngIf="announcement.isVisible && (isPlayer || (isFormConnected | async)) && canBeDisplayed">\n  <div class="lz-overlay-popup  lz-{{announcement.position | lowercase}}-announcement-position">\n    <div class="lz-announcement-title">{{announcement.name}}</div>\n    <div class="lz-announcement-content" [innerHtml]="sanitizedContent">\n    </div>\n    <div class="lz-announcement-agreement" *ngIf="announcement.isMandatory">\n      <md-checkbox name="cancelButton" [(ngModel)]="isMandatoryBoxChecked">\n           <span  class="lz-announcement-checkbox-text">{{announcement.checkBoxLabel}}</span>\n      </md-checkbox>\n    </div>\n    <div class="lz-announcement-buttons letznav-buttons">\n      <button class="lz-announcement-cancel-button lz-announcement-btn"\n      [style.display]="isCancelButtonDisplayed ? null : \'none\'"\n      (click)="onCancelClick(announcement.id)"\n      >{{announcement.cancelLabel}}</button>\n      <button class="lz-announcement-action-buttton lz-announcement-btn"\n      (click)="onActionClick(announcement.id)" [disabled]="announcement.isMandatory && !isMandatoryBoxChecked"\n      >{{announcement.acceptLabel}}</button>\n    </div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(6),c=(n.n(a),n(10)),u=(n.n(c),n(11)),d=n(3),l=n(98),p=n(141),f=n(136),h=n(44),b=n(631),m=n(469),g=(function(){function t(t,e,n){var r=this;this.store=t,this.messages=e,this.action$=n,this.stepChanged=this.store.select(h.selectRawStep).filter((function(t){return!(!t||!t.isDecisionPoint)})).map((function(t){return t})).switchMapCorx((function(t,e){var n=(t.put,t.get);return i.b(r,void 0,void 0,(function(){var t,r;return i.e(this,(function(i){switch(i.label){case 0:return t={id:e.id,conditions:e.decisionPoint.conditions},this.store.dispatch(Object(m.e)(t)),this.messages.sendMessage({type:u.b.ExecuteDecisionConditions,decisionEvaluation:t}),[4,n(a.Observable.race(this.messages.ofType(u.b.StepDecisionConditionsEvaluated).take(1),a.Observable.timer(500)))];case 1:return r=i.sent(),r&&r.decisionEvaluation&&r.decisionEvaluation.isSucceed?this.messages.sendMessage({type:u.b.ExecuteDecisionActions,decisionActions:e.decisionPoint.actions}):this.messages.sendMessage({type:u.b.DecisionPointNextStepAction}),this.store.dispatch(Object(m.d)(t)),[2]}}))}))})).filter((function(){return null})),this.decisionEvaluationConditionsChanged=this.store.select(b.a).filter((function(t){return!!t})).do((function(t){t.forEach((function(t){r.isConditionsEvaluated(t)&&(t.type===d.g.Announcement?r.messages.sendMessage({type:u.b.AnnouncementDecisionConditionsEvaluated,decisionEvaluation:t}):t.type||r.messages.sendMessage({type:u.b.StepDecisionConditionsEvaluated,decisionEvaluation:t}))}))})).filter((function(){return null})),this.handleUpdateDecisionConditionsAction=this.messages.ofType(u.b.UpdateDecisionEvaluation).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=(t.put,t.get,e[0]);e[1];return i.b(r,void 0,void 0,(function(){return i.e(this,(function(t){return this.store.dispatch(Object(m.f)(n.decisionEvaluation)),[2]}))}))})),this.handleGoToAction=this.messages.ofType(u.b.DecisionPointGoToAction).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=e[0];e[1];return i.b(r,void 0,void 0,(function(){var t,e,r;return i.e(this,(function(i){switch(i.label){case 0:return e=p.a,r=p.d,[4,o(this.store.select(h.selectSteps).take(1).map(c.cloneDeep))];case 1:return t=e.apply(void 0,[r.apply(void 0,[i.sent()]),"id",s.stepId]),t?[4,n(Object(f.h)(t.index))]:[3,3];case 2:return i.sent(),[3,5];case 3:return[4,n(Object(l._15)(l.d.Next))];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))})),this.handleEndFlowAction=this.messages.ofTypeResponse(u.b.DecisionPointEndFlowAction).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put;t.get,e[0],e[1];return i.b(r,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,n(Object(l._15)(l.d.End))];case 1:return t.sent(),[2]}}))}))})),this.handleNextStepAction=this.messages.ofTypeResponse(u.b.DecisionPointNextStepAction).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put;t.get,e[0],e[1];return i.b(r,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,n(Object(l._15)(l.d.Next))];case 1:return t.sent(),[2]}}))}))}))}return t.prototype.isConditionsEvaluated=function(t){return(!t.isSucceed||t.isSucceed&&0===t.noOfConditions)&&t.conditions&&t.conditions.length>0},t})();i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"stepChanged",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"decisionEvaluationConditionsChanged",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"handleUpdateDecisionConditionsAction",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"handleGoToAction",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"handleEndFlowAction",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],g.prototype,"handleNextStepAction",void 0),g=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,u.e,s.a])],g)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return b}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(469),c={decisionEvaluations:[]},u=function(t,e){return r.a({},t,{decisionEvaluations:d(t.decisionEvaluations,e)})},d=function(t,e){return t.concat([r.a({},e,{isSucceed:!0,noOfConditions:e&&e.conditions&&e.conditions.length||0})])},l=function(t,e){return r.a({},t,{decisionEvaluations:p(t.decisionEvaluations,e)})},p=function(t,e){t=t.map(o.cloneDeep);var n=t.find((function(t){return t.id===e.id&&t.type===e.type}));return n&&(n.noOfConditions=n.noOfConditions-e.noOfConditions,n.isSucceed=n.isSucceed&&e.isSucceed),t},f=function(t,e){return r.a({},t,{decisionEvaluations:t.decisionEvaluations.filter((function(t){return!(t.id===e.id&&t.type===e.type)}))||[]})},h=(i={},i[a.b]=u,i[a.c]=l,i[a.a]=f,i),b=Object(s._3)(h,c)},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h}));var i,r=n(0),o=n(3),s=n(29),a=n(124),c=n(632),u={forms:null},d=function(t,e){return r.a({},t,{forms:e.map((function(t){return r.a({},t,{anchorsState:t.formIdentification.map((function(t){return s.a.NotChecked}))})}))})},l=function(t,e){return r.a({},t,{forms:t.forms.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n?r.a({},t,{anchorsState:t.anchorsState.map((function(t,e){return n.anchorsState[e]!==s.a.NotChecked?n.anchorsState[e]:t}))}):t}))})},p=function(t){return r.a({},t,{forms:t.forms.map((function(t){return r.a({},t,{anchorsState:t.formIdentification.map((function(t){return s.a.NotChecked}))})}))})},f=(i={},i[a.a.SUCCEEDED]=d,i[c.a]=l,i[c.b]=p,i),h=Object(o._3)(f,u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(3),c=n(136),u=n(44),d=n(11),l=n(634),p=n(12),f=n(32),h=n(333),b=n(137),m=n(125),g=n(1286),v=(function(){function t(t,e,n,r){var o=this;this.action$=t,this.backendService=e,this.store=n,this.messaging=r,this.playFlowStart$=this.action$.ofType(c.d).delay(1).map(s.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,s=e[0],a=e[1];return i.b(o,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return t=Object(u.selectPlayState)(a),t!==l.a.InProgress?[3,4]:[4,r(Object(c.f)())];case 1:return e.sent(),[4,r(Object(h.c)())];case 2:return e.sent(),[4,n(this.store.select(u.selectPlayState).takeWhile((function(t){return t===l.a.InProgress})))];case 3:e.sent(),e.label=4;case 4:return[4,r(c.c.init(s))];case 5:return e.sent(),[2]}}))}))})),this.playFlow$=this.action$.ofType(c.c.INIT).map(s.d).switchMap((function(t){return new g.b(o.action$,o.backendService,o.store,o.messaging).playFlow(t)})),this.onLoadStorage$=this.action$.ofType(f.a.SUCCEEDED).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,s=(e[0],e[1]);return i.b(o,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return t=Object(f.k)(s,g.a),t&&t.flowId?[4,n(this.store.select(p.h).takeWhile((function(t){return!t})))]:[3,3];case 1:return e.sent(),[4,r(Object(c.i)(t.flowId,{index:t.stepNumber},!0))];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))})),this.bubbleActions$=this.action$.ofType(m.b).map(s.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=(t.get,t.put),r=e[0],s=e[1];return i.b(o,void 0,void 0,(function(){var t,e;return i.e(this,(function(i){switch(i.label){case 0:switch(t=Object(u.selectCurrentStepSanitized)(s),e=null,r){case m.a.Next:Number.isInteger(t)&&(e=b.a.GOTO_NEXT_STEP);break;case m.a.Previous:e=b.a.GOTO_PREVIOUS_STEP;break;case m.a.Custom:e=b.a.CUSTOM_ACTION}return null===e?[3,2]:[4,n(Object(b.f)({type:e}))];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}))}return t})();i.c([Object(s.b)(),i.f("design:type",Object)],v.prototype,"playFlowStart$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],v.prototype,"playFlow$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],v.prototype,"onLoadStorage$",void 0),i.c([Object(s.b)(),i.f("design:type",Object)],v.prototype,"bubbleActions$",void 0),v=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,a.f,o.f,d.e])],v)},function(t,e){t.exports='<admin-bubble-view *ngIf="(isActive | async) && (step | async)"\n  [step]="step | async"\n  [stepProgress]="stepProgress | async"\n  [metadata]="metadata | async"\n  [visible]="isVisible | async"\n  [isEditation]="isEditation | async"\n  [theme]="theme | async"\n  (bubblePositionUpdated)="onBubblePositionUpdated($event)"\n  (nextClick)="onNext()"\n  (previousClick)="onPrevious()"\n  (customClick)="onCustom()"\n  (cancelClick)="onCancel()"\n  ></admin-bubble-view>\n<style-element *ngIf="style | async" [style]="style | async"></style-element>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(23),s=n(3),a=n(37),c=n(126),u=n(71),d=(function(){function t(t,e,n,i){this.sanitizer=t,this.playerShortcuts=e,this.elementRef=n,this.BACKEND_URL=i,this.PLAYER_RESOURCES=s.x,this.bubblePositionUpdated=new r.EventEmitter,this.nextClick=new r.EventEmitter,this.previousClick=new r.EventEmitter,this.customClick=new r.EventEmitter,this.cancelClick=new r.EventEmitter,this.POSITIONING_MODE=c.a,this._destroyed=!1}return Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this.step.content),this.attachmentClasses=Object(s.T)(this.step.attachDirection)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positioningData",{get:function(){return this.metadata&&{elementRect:this.metadata.elementRect,elementId:this.metadata.elementId}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customButton",{get:function(){return this.step.customButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPrevButton",{get:function(){return this.stepProgress.index>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNextButton",{get:function(){return this.step.advanceOn===s.z.CLICK_NEXT&&(this.stepProgress.index<this.stepProgress.length-1||this.isEditation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDoneButton",{get:function(){return this.step.advanceOn===s.z.CLICK_NEXT&&this.stepProgress.index===this.stepProgress.length-1&&!this.isEditation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.isEditation?.6:(this.stepProgress.index+1)/this.stepProgress.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"designClass",{get:function(){return this.theme&&s._8[this.theme.layoutDesign].class+"  "+s._9[this.theme.layoutTheme].class},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bubbleElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.playerShortcuts.shortcuts$.takeWhile((function(){return!t._destroyed})).subscribe((function(e){switch(e){case u.i.cancelFlow:t.cancelClick.emit();break;case u.i.customButton:t.customButton&&t.customButton.label&&t.customClick.emit();break;case u.i.previousButton:t.hasPrevButton&&t.previousClick.emit();break;case u.i.nextButton:(t.hasDoneButton||t.hasNextButton)&&t.nextClick.emit()}}))},t.prototype.ngOnDestroy=function(){this._destroyed=!0},t})();i.c([Object(r.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],d.prototype,"step",null),i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"stepProgress",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"visible",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"isEditation",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"theme",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],d.prototype,"metadata",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"bubblePositionUpdated",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"nextClick",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"previousClick",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"customClick",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],d.prototype,"cancelClick",void 0),d=i.c([Object(r.Component)({selector:"admin-bubble-view",template:n(1283)}),i.g(3,Object(r.Inject)(a.a)),i.f("design:paramtypes",[o.c,u.r,r.ElementRef,String])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return p}));var i,r=n(0),o=n(1),s=n(6),a=(n.n(s),n(1282)),c=(n.n(a),n(3)),u=n(11),d=(n(40),{elementRect:null,elementId:null}),l=c.F.slice(1).concat(c.F.slice(0,2)).map((function(t){return t.replace("-","_")}));(function(t){t[t.BUBBLE=0]="BUBBLE",t[t.INDICATOR=1]="INDICATOR",t[t.TOOLTIP=2]="TOOLTIP"})(i||(i={}));var p=f=(function(){function t(t){this.elementStorage=t,this.attachDirectionChange=new o.EventEmitter,this.measuringNeeded=!1,this.measurements=new o.EventEmitter,this._lastMeasurement=null,this._indicatorOffset=0,this._positiningData=new s.BehaviorSubject(d),this._attachDirection=new s.BehaviorSubject(l[0]),this._display=new s.BehaviorSubject(!0),this._isDestroyed=!1}return Object.defineProperty(t.prototype,"positioningData",{get:function(){return this._positiningData.getValue()},set:function(t){this._positiningData.next(t||d)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachDirection",{get:function(){return this._attachDirection.getValue()},set:function(t){if(!t)throw new Error("Invalid value: "+t);this._attachDirection.getValue()!==t&&(this._attachDirection.next(t),this.attachDirectionChange.emit(t),this.resetTether())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorOffset",{get:function(){return this._indicatorOffset},set:function(t){this._indicatorOffset!==t&&(this._indicatorOffset=t,this.resetTether())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"display",{get:function(){return this._display.getValue()},set:function(t){this._display.getValue()!==t&&this._display.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canBeDisplayed",{get:function(){return!!this.positioningData.elementRect},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldPositionManually",{get:function(){return this.canBeDisplayed&&!this._tether},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTooltip",{get:function(){return this.mode===i.TOOLTIP},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._positiningData.map((function(t){return t.elementId})).distinctUntilChanged().takeWhile((function(){return!t._isDestroyed})).subscribe(this.onNewElementId.bind(this)),s.Observable.combineLatest(this._display,this._positiningData).map((function(e){var n=e[0];return t.canBeDisplayed&&n})).takeWhile((function(){return!t._isDestroyed})).subscribe(this.onDisplayChange.bind(this)),this.attachDirectionChange.emit(this.attachDirection)},t.prototype.ngOnDestroy=function(){this._isDestroyed=!0,this.destroyTether()},t.prototype.ngAfterViewChecked=function(){this.check()},t.prototype.check=function(){var t=this;(this.measuringNeeded||this.shouldPositionManually||this.isTooltip)&&requestAnimationFrame((function(){t._isDestroyed||(t.shouldPositionManually&&t.positionManually(),t.measuringNeeded&&t.measureElement(),t.isTooltip&&t.autoPosition())}))},t.prototype.destroyTether=function(){this._tether&&(this._tether.destroy(),this._tether=null,this._tetherOptions=null)},t.prototype.getTetherOptions=function(){switch(this.mode){case i.BUBBLE:return r.a({},f.getTetherAttachOptions(this.attachDirection));case i.INDICATOR:return{attachment:"middle left",offset:"0px -"+(1+this._indicatorOffset)+"px"};case i.TOOLTIP:return r.a({},f.getTetherAttachOptions(this.attachDirection,10))}},t.prototype.resetTether=function(){this._tether&&(this._tetherOptions=r.a({},this._tetherOptions,this.getTetherOptions()),this._tether.setOptions(this._tetherOptions))},t.prototype.repositionTetherAsync=function(){var t=this;requestAnimationFrame((function(){t._tether&&t._tether.position()}))},t.prototype.onNewElementId=function(t){this.destroyTether(),this.clearStyle();var e=this.directTargetElement||t&&this.elementStorage.retrieveElement(t);e&&(this._tetherOptions=r.a({element:this.attachedElement,target:e},this.getTetherOptions()),this._tether=new a(this._tetherOptions),this.repositionTetherAsync())},t.prototype.onDisplayChange=function(t){this.attachedElement.style.display=t?null:"none",t&&(this.repositionTetherAsync(),this.check())},t.prototype.positionManually=function(){var t;switch(this.mode){case i.BUBBLE:t=Object(c._11)(this.attachedElement,this.positioningData.elementRect,this.attachDirection);break;case i.TOOLTIP:var e=this.directTargetElement.getBoundingClientRect();t=Object(c._11)(this.attachedElement,e,this.attachDirection,10);break;case i.INDICATOR:t=f.getIndicatorPosition(this.positioningData.elementRect,this._indicatorOffset)}var n=t.top,r=t.left,o=this.attachedElement.getBoundingClientRect();if(!(Math.abs(n-o.top)<=1&&Math.abs(r-o.left)<=1)){var s=Math.floor(n)+"px",a=Math.floor(r)+"px";this.attachedElement.style.position="fixed",this.attachedElement.style.left="0",this.attachedElement.style.top="0",this.attachedElement.style.transform="translateX("+a+") translateY("+s+")"}},t.prototype.clearStyle=function(){this.attachedElement.style.position=null,this.attachedElement.style.left=null,this.attachedElement.style.top=null,this.attachedElement.style.right=null,this.attachedElement.style.bottom=null,this.attachedElement.style.transform=null},t.prototype.measureElement=function(){var t={left:this.attachedElement.offsetLeft,top:this.attachedElement.offsetTop,width:this.attachedElement.offsetWidth,height:this.attachedElement.offsetHeight};Object(c.G)(this._lastMeasurement,t)||(this._lastMeasurement=t,this.measurements.emit(t))},t.getIndicatorPosition=function(t,e){return{left:t.left+t.width+e+1+2,top:t.top+Math.ceil((t.height-26)/2)+1,width:26,height:26}},t.prototype.checkOutside=function(){var t=Object(c._2)(),e=t.screenWidth,n=t.screenHeight;return function(t){return t.left<0||t.left+t.width>e-0||t.top<0||t.top+t.height>n}},t.prototype.autoPosition=function(){var t=this.directTargetElement.getBoundingClientRect(),e=this.checkOutside();if(e(this.attachedElement.getBoundingClientRect())){for(var n,i,r=0;r<l.length&&(n=l[r],i=Object(c._11)(this.attachedElement,t,n,10),e(i));++r);this.attachDirection=n,this.check()}},t.getTetherAttachOptions=function(t,e){void 0===e&&(e=c.d);var n=function(t,e){return{attachment:t,offset:e}};switch(t){case"TOP":return n("bottom center",e+"px 0");case"TOP_LEFT":return n("bottom right",e+"px -"+(e+c.e)+"px");case"TOP_RIGHT":return n("bottom left",e+"px "+(e+c.e)+"px");case"BOTTOM":return n("top center","-"+e+"px 0");case"BOTTOM_LEFT":return n("top right","-"+e+"px -"+(e+c.e)+"px");case"BOTTOM_RIGHT":return n("top left","-"+e+"px "+(e+c.e)+"px");case"LEFT":return n("middle right","0 "+e+"px");case"LEFT_BOTTOM":return n("top right",e+c.e+"px "+e+"px");case"LEFT_TOP":return n("bottom right","-"+(e+c.e)+"px "+e+"px");case"RIGHT":return n("middle left","0 -"+e+"px");case"RIGHT_BOTTOM":return n("top left",e+c.e+"px -"+e+"px");case"RIGHT_TOP":return n("bottom left","-"+(e+c.e)+"px -"+e+"px");default:throw new Error("Invalid attachDirection: "+t)}},t})();r.c([Object(o.Input)(),r.f("design:type",Object),r.f("design:paramtypes",[Object])],p.prototype,"positioningData",null),r.c([Object(o.Input)(),r.f("design:type",String),r.f("design:paramtypes",[String])],p.prototype,"attachDirection",null),r.c([Object(o.Output)(),r.f("design:type",o.EventEmitter)],p.prototype,"attachDirectionChange",void 0),r.c([Object(o.Input)(),r.f("design:type",Object)],p.prototype,"measuringNeeded",void 0),r.c([Object(o.Output)(),r.f("design:type",o.EventEmitter)],p.prototype,"measurements",void 0),r.c([Object(o.Input)(),r.f("design:type",Number),r.f("design:paramtypes",[Number])],p.prototype,"indicatorOffset",null),r.c([Object(o.Input)(),r.f("design:type",Boolean),r.f("design:paramtypes",[Boolean])],p.prototype,"display",null),r.c([Object(o.Input)(),r.f("design:type",HTMLElement)],p.prototype,"directTargetElement",void 0),r.c([Object(o.Input)(),r.f("design:type",HTMLElement)],p.prototype,"attachedElement",void 0),r.c([Object(o.Input)(),r.f("design:type",Number)],p.prototype,"mode",void 0),p=f=r.c([Object(o.Component)({selector:"positioning",template:""}),r.f("design:paramtypes",[u.a])],p);var f},,function(t,e){t.exports='<div class="letznav-dialog letznav-element letznav-enabled {{attachmentClasses}} {{designClass}}" [style.z-index]="metadata.zIndex">\n  <div class="letznav-header">\n    <div class="letznav-title">{{ step.title }}</div>\n    <div class="letznav-cancel" (click)="cancelClick.emit()"></div>\n  </div>\n  <div class="letznav-content">\n    <div class="letznav-text" [innerHtml]="sanitizedContent"></div>\n  </div>\n  <div class="letznav-progress">\n    <span [style.width]="(progress * 100) + \'%\'"></span>\n  </div>\n  <div class="letznav-footer">\n    <div class="letznav-buttons">\n      \x3c!--\n        <button *ngIf="hasPrevButton" class="letznav-btn-secondary" (click)="previousClick.emit()">{{ \'buttons.previous\' | i18n }}</button>\n        --\x3e\n      <button *ngIf="customButton && customButton.label" (click)="customClick.emit()">{{ customButton.label }}</button>\n      <button *ngIf="hasNextButton" (click)="nextClick.emit()">{{ PLAYER_RESOURCES.buttons.next | i18n }}</button>\n      <button *ngIf="hasDoneButton" (click)="nextClick.emit()">{{ PLAYER_RESOURCES.buttons.done | i18n }}</button>\n      <div *ngIf="!(hasDoneButton || hasNextButton)" class="letznav-buttons__logo"></div>\n    </div>\n  </div>\n</div>\n<positioning\n*ngIf="bubbleElement"\n[mode]="POSITIONING_MODE.BUBBLE"\n[measuringNeeded]="true"\n[attachDirection]="step.attachDirection"\n[attachedElement]="bubbleElement"\n[positioningData]="positioningData"\n[display]="visible"\n(measurements)="bubblePositionUpdated.emit($event)"\n></positioning>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(183)),u=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){return i.e(this,(function(t){switch(t.label){case 0:return[4,r(c.b.init())];case 1:return t.sent(),[4,n(this.actions$.ofType(c.b.SUCCEEDED,c.b.FAILED).take(1))];case 2:return t.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(37),u=n(12),d=n(183),l=n(179),p=n(56),f=(function(){function t(t,e,n,r){var s=this;this.action$=t,this.backendService=e,this.store=n,this.BACKEND_URL=r,this.loadTheme$=this.action$.ofType(d.b.INIT).withLatestFrom(this.store).filter((function(t){var e=(t[0],t[1]);return!!Object(u.a)(e)})).switchMapCorx((function(t){var e=t.put,n=t.get;return i.b(s,void 0,void 0,(function(){var t,r,o,s;return i.e(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,7]),[4,n(this.store.select(u.a).take(1))];case 1:return t=c.sent(),[4,n(this.backendService.getAppliedStyle(t.id,this.BACKEND_URL+"/"))];case 2:return r=c.sent(),[4,n(this.backendService.getPlayerOptions(t.id,a.w.THEME))];case 3:return o=c.sent(),[4,e(d.b.succeeded(i.a({},r,{theme:o})))];case 4:return c.sent(),[3,7];case 5:return s=c.sent(),[4,e(d.b.failed(s))];case 6:return c.sent(),[3,7];case 7:return[2]}}))}))})),this.bubbleActions$=this.action$.ofType(d.a).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0],n=t[1];if(e===l.a.Custom){var i=Object(p.g)(n);window.open(i.customButton.uri)}})).filter((function(){return null}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"loadTheme$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"bubbleActions$",void 0),f=i.c([Object(r.Injectable)(),i.g(3,Object(r.Inject)(c.a)),i.f("design:paramtypes",[o.a,a.f,s.f,String])],f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var i=n(0),r=n(6),o=(n.n(r),n(16)),s=(n.n(o),n(3)),a=n(11),c=n(12),u=n(32),d=n(125),l=n(470),p=n(98),f=n(136),h=n(44),b=n(462),m=n(333),g=n(137),v="player";Object(u.e)(v);var y=(function(){function t(t,e,n,i){this.action$=t,this.backendService=e,this.store=n,this.messaging=i,this.currentStep=null,this.lastElementFound=!1,this.scrolledToElement=!1}return t.prototype.playFlow=function(t){var e=this,n=t.flowId,r=t.startStep,a=t.isResumed;return Object(o.corx)((function(t){var o=t.get,p=t.put,h=t.chain;return i.b(e,void 0,void 0,(function(){var t,e,b,m,y;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,17,20,24]),[4,h(this.loadFlow(n))];case 1:return i.sent(),t=window.location.href,[4,o(this.store.select(c.a).take(1))];case 2:if(e=i.sent(),t.startsWith(e.preProdUrl)&&this.flow.deployment===s.q.Draft||t.startsWith(e.rootUrl)&&this.flow.deployment!==s.q.Published)throw new Error("The flow which you are trying to launch is not in playable state");i.label=3;case 3:return b=r.index,Number.isInteger(r.id)?(b=this.steps.findIndex((function(t){return t.id===r.id})),b=b>=0?b:0,[4,p(Object(f.h)(b))]):[3,5];case 4:i.sent(),i.label=5;case 5:return m=!Number.isInteger(b),[4,h(this.initFlowIntegrity(m))];case 6:return i.sent(),[4,p(Object(f.g)())];case 7:return i.sent(),[4,p(Object(d.k)(d.c.Player))];case 8:return i.sent(),!0===a?[3,10]:[4,p(Object(g.f)({type:g.a.START_FLOW}))];case 9:i.sent(),i.label=10;case 10:return[4,h(this.playSteps())];case 11:return i.sent(),[4,h(this.endFlow())];case 12:return i.sent(),this.isFinished?[4,p(f.c.succeeded())]:[3,14];case 13:return i.sent(),[3,16];case 14:return[4,p(f.c.canceled())];case 15:i.sent(),i.label=16;case 16:return[3,24];case 17:return y=i.sent(),console.error(y),[4,p(Object(g.f)({type:g.a.FLOW_ERROR,data:{flowId:n,error:String(y)}}))];case 18:return i.sent(),[4,p(f.c.failed(y))];case 19:return i.sent(),[3,24];case 20:return[4,p(Object(d.k)(d.c.Inactive))];case 21:return i.sent(),[4,p(Object(l.c)())];case 22:return i.sent(),[4,p(Object(u.j)(v,{}))];case 23:return i.sent(),[7];case 24:return[2]}}))}))}))},t.prototype.playSteps=function(){var t=this;return this.storage={flowId:this.flow.id,stepNumber:-1},this.store.select(h.selectCurrentStep).distinctUntilChanged().switchMapCorx((function(e,n){var o=e.get,s=e.put;return i.b(t,void 0,void 0,(function(){var t,e=this;return i.e(this,(function(c){switch(c.label){case 0:return this.currentStep=this.steps[n]||null,this.scrolledToElement=!1,null!==this.currentStep?[3,2]:[4,s(null)];case 1:return c.sent(),[2];case 2:return this.storage=i.a({},this.storage,{stepNumber:n}),[4,s(Object(u.j)(v,this.storage))];case 3:return c.sent(),t=this,[4,o(r.Observable.combineLatest(this.store.select(h.selectBubbleFoundAndVisible),this.store.select(h.selectBubbleSelected),this.getStepTimeout()).do((function(t){var n=t[0];t[1]&&!n&&e.currentStep.scrollTo&&!e.scrolledToElement&&(e.messaging.sendMessage({type:a.b.ScrollToElement}),e.scrolledToElement=!0)})).skipWhile((function(t){var e=t[0],n=(t[1],t[2]);return!e&&!n})).take(1).map((function(t){return t[0]})))];case 4:return t.lastElementFound=c.sent(),!this.currentStep.optional||this.lastElementFound?[3,6]:[4,s(Object(f.h)(n+1))];case 5:return c.sent(),[2];case 6:return[2]}}))}))})).delay(0).takeWhile((function(t){return!!t}))},t.prototype.getStepTimeout=function(){var t;return t=this.currentStep.optional?this.lastElementFound?r.Observable.timer(1e3).map((function(){return!0})):r.Observable.combineLatest(this.store.select(d.i.selectIsStateUpdated),this.store.select(b.e)).skipWhile((function(t){var e=t[0],n=t[1];return!e||!n})).merge(r.Observable.timer(1e3)).take(1).map((function(){return!0})):r.Observable.never(),r.Observable.of(!1).concat(t)},t.prototype.endFlow=function(){var t=this;return Object(o.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t,e,o;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(h.selectCurrentStep).take(1))];case 1:return t=i.sent(),this.isFinished=t>=this.steps.length,[4,r(Object(g.f)({type:this.isFinished?g.a.END_FLOW:g.a.CANCEL_FLOW,data:{step:this.storage.stepNumber+1}}))];case 2:return i.sent(),this.isFinished?(e=null!==this.playInfo.feedbackRate?this.playInfo.feedbackRate:0,[4,r(m.b.init({forceFeedback:Math.random()<=e}))]):[3,5];case 3:return i.sent(),[4,n((o=this.action$).ofType.apply(o,m.b.RESULT_ACTIONS).take(1))];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}))},t.prototype.loadFlow=function(t){var e=this;return Object(o.corx)((function(n){var r=n.get,o=n.put;n.chain;return i.b(e,void 0,void 0,(function(){var e,n,s,a,u,d,l;return i.e(this,(function(i){switch(i.label){case 0:return[4,r(this.store.take(1))];case 1:return e=i.sent(),n=Object(c.a)(e),s=Object(h.selectPlayerLocale)(e),a=this,[4,r(this.backendService.getFlow(n.id,t))];case 2:return a.flow=i.sent(),u=this,[4,r(this.backendService.getSteps(n.id,this.flow.id))];case 3:return u.steps=i.sent(),this.steps.forEach((function(t){return Object(p._50)(t)})),d=null,s?[4,r(this.backendService.getFlowTexts(n.id,s.id,this.flow.id))]:[3,5];case 4:d=i.sent(),i.label=5;case 5:return l=this,[4,r(this.backendService.getFlowPlayInfo(n.id,this.flow.id))];case 6:l.playInfo=i.sent(),i.label=7;case 7:return[4,o(Object(f.j)(this.flow,this.steps,d))];case 8:return i.sent(),[2]}}))}))}))},t.prototype.initFlowIntegrity=function(t){var e=this;return Object(o.corx)((function(n){var o=n.put,s=n.get;return i.b(e,void 0,void 0,(function(){var e,n,a,c;return i.e(this,(function(i){switch(i.label){case 0:return[4,o(Object(l.g)(this.steps))];case 1:return i.sent(),e=this.steps.some((function(t){return t.isMilestone})),t&&e?[4,s(r.Observable.race(this.action$.ofType(l.b).debounceTime(300).take(1),r.Observable.timer(5e3).do((function(){return console.error("No response from flow-integrity service")}))))]:[2];case 2:return i.sent(),[4,s(this.store.select(l.h).take(1))];case 3:return n=i.sent(),n.length?(a=n.slice(-1)[0],c=this.steps.findIndex((function(t){return t.id===a})),[4,o(Object(f.h)(c))]):[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}))},t})()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.acceptSuggestion=new r.EventEmitter,this.denySuggestion=new r.EventEmitter}return t.prototype.onAcceptSuggestion=function(){this.acceptSuggestion.emit()},t.prototype.onDenySuggestion=function(){this.denySuggestion.emit()},t})();i.c([Object(r.Output)(),i.f("design:type",Object)],o.prototype,"acceptSuggestion",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],o.prototype,"denySuggestion",void 0),o=i.c([Object(r.Component)({selector:"suggest-milestone",template:n(1288)})],o)},function(t,e){t.exports='<div class="flow-step-suggest-milestone">\r\n  <i class="mdi   mdi-exclamation mdi-24px"></i>\r\n  <span>\r\n    It looks like this step starts at a different location than the previous one.\r\n    Mark it as an Entry Point to make changes!\r\n  </span>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(4),s=n(10),a=(n.n(s),n(6)),c=(n.n(a),n(11)),u=n(72),d=n(99),l=n(73),p=n(338),f=n(180),h=(function(){function t(t,e){this.store=t,this.messages=e}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.step=this.store.select(d.k).map(s.cloneDeep).takeUntil(this.ngUnsubscribe),this.disabled=this.store.select(d.f).takeUntil(this.ngUnsubscribe),this.conflictingSteps=this.store.select(f.a).takeUntil(this.ngUnsubscribe),this.anchorElements=this.store.select(f.d).takeUntil(this.ngUnsubscribe),this.isCurrentStepAnchored=this.store.select(f.b).takeUntil(this.ngUnsubscribe),this.showAnchorError=this.store.select(d.j).takeUntil(this.ngUnsubscribe),this.isMilestoneIncorrectAnchor=this.store.select(f.c).takeUntil(this.ngUnsubscribe),this.store.take(1).map(u.d).subscribe((function(e){return t.store.dispatch(Object(p.e)(e))}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.store.dispatch(Object(p.d)())},t.prototype.onToggleMilestone=function(t){var e=this;this.step.withLatestFrom(this.disabled).take(1).subscribe((function(n){var i=n[0];if(!n[1]){var r=void 0!==t?t:!i.isMilestone;i.isMilestone=r,e.store.dispatch(Object(l.k)(i))}}))},t.prototype.onAddAnchor=function(t){var e=this;this.step.take(1).subscribe((function(n){n.pivotElements||(n.pivotElements=[]),n.pivotElements.push(t.element),e.store.dispatch(Object(l.k)(n))}))},t.prototype.onRemoveAnchor=function(t){var e=this;this.step.take(1).subscribe((function(n){t>=0&&t<(n.pivotElements||[]).length&&(n.pivotElements.splice(t,1),e.store.dispatch(Object(l.k)(n)))}))},t.prototype.onHighlightAnchor=function(t){this.messages.sendMessage({type:c.b.ShowPivot,pivotIndex:t})},t.prototype.onHideAnchorHighlight=function(){this.messages.sendMessage({type:c.b.HidePivot})},t})();h=i.c([Object(r.Component)({selector:"flow-integrity",template:n(1290)}),i.f("design:paramtypes",[o.f,c.e])],h)},function(t,e){t.exports='<label class="form-label">Entry Point</label>\r\n\r\n<hr>\r\n<suggest-milestone (acceptSuggestion)="onToggleMilestone(true)" (denySuggestion)="onToggleMilestone(false)" *ngIf="!(showAnchorError | async)"></suggest-milestone>\r\n<md-checkbox name="entryPoint" [ngModel]="(step | async)?.isMilestone" [disabled]="disabled | async" (ngModelChange)="onToggleMilestone()">\r\n  Mark as Entry Point <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="“Mark as Entry Point” if the step is starting on a new page."></i>\r\n</md-checkbox>\r\n\r\n<p *ngIf="(step | async)?.isMilestone">Add Anchor Points: <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Anchors are like bookmarks for application pages. Anchors enable Workflows to start from any page."></i></p>\r\n\r\n<anchor-elements\r\n  [anchorsState]="anchorElements | async"\r\n  [conflictingSteps]="conflictingSteps | async"\r\n  [disabled]="disabled | async"\r\n  (addAnchor)="onAddAnchor($event)"\r\n  (removeAnchor)="onRemoveAnchor($event)"\r\n  (higlightAnchor)="onHighlightAnchor($event)"\r\n  (hideAnchorHighlight)="onHideAnchorHighlight()"\r\n  *ngIf="(step | async)?.isMilestone"\r\n>\r\n</anchor-elements>\r\n<span *ngIf="isMilestoneIncorrectAnchor | async">\r\n  Looks like the anchors are not present on the current page.\r\n  Please navigate to the correct page or mark current step as Entry point.\r\n</span>'},function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return j}));var i,r,o=n(0),s=n(10),a=n.n(s),c=n(3),u=n(29),d=n(86),l=n(73),p=n(338),f={steps:[]},h=function(t){return{id:t.id,isMilestone:t.isMilestone,containers:u.a.NotChecked,pivots:(t.pivotElements||[]).map((function(t){return u.a.NotChecked}))}},b=function(t,e){return o.a({},t,{steps:t.steps.map((function(t){return t.id===e.id?o.a({},t,{isMilestone:e.isMilestone,pivots:t.pivots.length!==(e.pivotElements||[]).length?e.pivotElements.map((function(){return u.a.NotChecked})):t.pivots}):t}))})},m=Object(c.Q)(d.b,{succeeded:function(t,e){var n=e.step;return o.a({},t,{steps:t.steps?t.steps.concat([h(n)]):t.steps})}}),g=function(t,e){var n=t.steps.map((function(t){var n=a.a.cloneDeep(t),i=e.find((function(e){return e.id===t.id}));return i&&(i.containers!==u.a.NotChecked&&(n.containers=i.containers),i.pivots.forEach((function(t){return n.pivots[t.index]=t.elementState}))),n}));return o.a({},t,{steps:n})},v=function(t,e){return o.a({},t,{steps:e.map(h)})},y=function(t){return f},O=o.a((i={},i[l.f]=b,i),m,(r={},r[p.c]=g,r[p.a]=y,r[p.b]=v,r)),j=Object(c._3)(O,f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(10),c=(n.n(a),n(11)),u=n(86),d=n(338),l=n(56),p=function(t){return{id:t.id,isMilestone:t.isMilestone,elementIdentification:{containers:t.containers||[],selector:t.attachTo,frames:t.frames},pivotElements:t.pivotElements||[]}},f=function(t){return{id:t.id,isMilestone:t.isMilestone,containers:t.containersState,pivots:t.pivotElementsState}},h=(function(){function t(t,e,n){var i=this;this.action$=t,this.store=e,this.messages=n,this.clearIntegrity$=this.action$.ofType(d.a).do((function(){return i.messages.sendMessage({type:c.b.ClearIntegrityState})})).filter((function(){return null})),this.pushIntegrity$=this.action$.ofType(d.b).map(o.d).do((function(t){return i.messages.sendMessage({type:c.b.LoadIntegrityState,steps:t.map(p)})})).filter((function(){return null})),this.stepUpdated=this.store.select(l.a.selectStep).filter((function(t){return!!t})).map(p).distinctUntilChanged(a.isEqual).do((function(t){i.messages.sendMessage({type:c.b.UpdateIntegrityState,step:t})})).filter((function(){return null})),this.stepChange=this.store.select(l.a.selectStep).map((function(t){return t&&t.id})).distinctUntilChanged().merge(this.action$.ofType(d.b)).debounceTime(10).withLatestFrom(this.store.select(l.a.selectStep)).map((function(t){t[0];return t[1]})).filter((function(t){return!!t})).do((function(t){i.messages.sendMessage({type:c.b.SetCurrentStep,stepId:t.id})})).filter((function(){return null})),this.createStep$=this.action$.ofType(u.b.SUCCEEDED).map(o.d).do((function(t){var e=t.step;return i.messages.sendMessage({type:c.b.AddStepToIntegrity,step:p(e)})})).filter((function(){return null})),this.messages.ofType(c.b.IntegrityState).subscribe(this.onIntegrityState.bind(this)),this.messages.ofType(c.b.RequestIntegrityState).subscribe(this.onRequestIntegrityState.bind(this)),this.messages.ofType(c.b.FramesChanged).subscribe(this.onCheckIntegrity.bind(this))}return t.prototype.getState=function(){var t;return this.store.take(1).subscribe((function(e){return t=e})),t},t.prototype.onIntegrityState=function(t){this.store.dispatch(Object(d.f)(t.steps.map(f)))},t.prototype.onRequestIntegrityState=function(){var t=this.getState(),e=l.a.selectSteps(t),n=l.a.selectStep(t);if(e){var i=e.map((function(t){return n&&n.id===t.id?n:t}));this.messages.sendMessage({type:c.b.LoadIntegrityState,steps:i.map(p)}),n&&this.messages.sendMessage({type:c.b.SetCurrentStep,stepId:n.id})}},t.prototype.onCheckIntegrity=function(){var t=this.getState(),e=l.a.selectSteps(t);e&&this.store.dispatch(Object(d.e)(e))},t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"clearIntegrity$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"pushIntegrity$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"stepUpdated",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"stepChange",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"createStep$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f,c.e])],h)},function(t,e){t.exports='<div *ngIf="MODE === \'editor\'" class="top-bar">\n  <div class="top-bar__container workflows home">\n    <back-btn backTo="admin"></back-btn>\n    <span class="letznav-panel-title">Workflows</span>\n    <a *ngIf="canCreateMore | async" class="top-bar__container__newbtn" title="Create New Workflow" [routerLink]="[\'..\', \'flow\', \'add\']" routerLinkActive="active"></a>\n  </div>\n</div>\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="!(canCreateMore | async) && canAnimate">\n  <p>You have reached maximum number of flows on your Demo account.</p>\n</div>\n\n<div class="workflow-list--empty" *ngIf="MODE === \'editor\' && (flowCount | async) === 0">\n  <div class="icon"></div>\n  <p>Hmm, looks like you don’t have any Workflows yet.</p>\n  <a class="button button-default" title="Create New Workflow" [routerLink]="[\'..\', \'flow\', \'add\']" routerLinkActive="active">Create New Workflow</a>\n</div>\n\n<div class="letznav-search-bar" *ngIf="(flowCount | async) > 0">\n  <input type="text" name="search" [placeholder]="PLAYER_RESOURCES.navigator.searchFlows | i18n" [ngModel]="searchText | async" (ngModelChange)="onSearch($event)"/>\n  <a class="letznav-search-bar__icon" [ngClass]="{ clear: ((searchText | async) !== \'\') }" (click)="onClearSearch()"></a>\n</div>\n\n<div class="flow-list" infiniteScroll [scrollWindow]="false" (scrolled)="loadFlows()">\n  <div *ngFor="let item of (displayedFlows | async)">\n    <flow-row *ngIf="isFlow(item.item)" [item]="item" (play)="onPlay(item.item)"></flow-row>\n    <custom-content-row *ngIf="isContent(item.item)" [item]="item"></custom-content-row>\n  </div>\n\n  <div class="flow-list-number" *ngIf="(displayedFlows | async)?.length == 1">1 {{ PLAYER_RESOURCES.navigator.item | i18n }}</div>\n  <div class="flow-list-number" *ngIf="(displayedFlows | async)?.length > 1">{{ (displayedFlows | async)?.length }} {{ PLAYER_RESOURCES.navigator.items | i18n }}</div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(23),s=n(3),a=(function(){function t(t){this.sanitizer=t,this.play=new r.EventEmitter,this.MODE="player",this.FlowDeployment=s.q}return Object.defineProperty(t.prototype,"flow",{get:function(){return this.item.item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flowName",{get:function(){return this.item.tokens&&this.item.tokens.length?this.sanitizer.bypassSecurityTrustHtml(Object(s._1)(this.item)):this.flow.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasStatus",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPublished",{get:function(){return this.flow.deployment===s.q.Published},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.flow.deployment===s.q.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraft",{get:function(){return this.flow.deployment===s.q.Draft},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"item",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],a.prototype,"play",void 0),i.c([Object(r.HostBinding)("class.status"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"hasStatus",null),i.c([Object(r.HostBinding)("class.status-published"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isPublished",null),i.c([Object(r.HostBinding)("class.status-ready"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isReady",null),i.c([Object(r.HostBinding)("class.status-draft"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isDraft",null),a=i.c([Object(r.Component)({selector:"flow-row",template:n(1295)}),i.f("design:paramtypes",[o.c])],a)},function(t,e){t.exports='<div class="base-row" *ngIf="MODE === \'editor\'" [routerLink]="[\'..\', \'flow\', flow.id, \'steps\']" routerLinkActive="active">\n  <span class="status__dot" mdTooltipPosition="right" [mdTooltip]="FlowDeployment[flow.deployment]"></span>\n  <span [innerHtml]="flowName"></span>\n</div>\n<div class="base-row" *ngIf="MODE === \'player\'" (click)="play.emit()">\n  <span class="row-icon workflow"></span>\n  <span [innerHtml]="flowName"></span>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(12),u=n(44),d=n(184),l=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.loadFlows$=this.action$.ofType(d.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,l,p,f;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(c.a)(s),e=void 0,e=Object(u.selectPlayerLocale)(s).id,[4,o(this.backendService.getFlows(t.id,e))];case 1:return r=i.sent(),l=window.location.href,p=[a.q.Published],l.startsWith(t.preProdUrl)&&t.preProdUrl!==t.rootUrl&&p.push(a.q.Ready),r=r.filter((function(t){return 0===t.stepErrors.length&&-1!==p.indexOf(t.deployment)})),[4,n(d.a.succeeded(r))];case 2:return i.sent(),[3,5];case 3:return f=i.sent(),[4,n(d.a.failed(f))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],l.prototype,"loadFlows$",void 0),l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.f,s.f])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(6),c=(n.n(a),n(16)),u=(n.n(c),n(184)),d=n(337),l=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(c.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t,e,o;return i.e(this,(function(i){switch(i.label){case 0:return[4,r(u.a.init(),d.b.init())];case 1:return i.sent(),[4,n(a.Observable.combineLatest((t=this.actions$).ofType.apply(t,u.a.RESULT_ACTIONS),(e=this.actions$).ofType.apply(e,d.b.RESULT_ACTIONS)).take(1))];case 2:return i.sent(),[3,6];case 3:return[4,r(u.a.init())];case 4:return i.sent(),[4,n((o=this.actions$).ofType.apply(o,u.a.RESULT_ACTIONS).take(1))];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],l)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var i,r=n(0),o=n(3),s=n(184),a={flows:[],searchText:""},c=Object(o.Q)(s.a,{init:function(t){return r.a({},t,{flows:null})},succeeded:function(t,e){return r.a({},t,{flows:e})}}),u=function(t,e){return r.a({},t,{searchText:e})},d=r.a({},c,(i={},i[s.b]=u,i)),l=Object(o._3)(d,a)},function(t,e){t.exports="<router-outlet></router-outlet>\n"},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"step",void 0),i.c([Object(r.Input)(),i.f("design:type",Number)],o.prototype,"index",void 0),o=i.c([Object(r.Component)({selector:"flow-step-row",template:n(1301)})],o)},function(t,e){t.exports='<span [routerLink]="[\'step\', step.id]" routerLinkActive="active" [title]="step.title"> {{ index + 1 }} </span>'},function(t,e){t.exports='<div class="top-bar">\n    <div class="top-bar__container workflows">\n        <back-btn backTo="admin/flows"></back-btn>\n        <span class="letznav-panel-title">{{ (flow | async)?.name }}</span>\n        <span class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n        <md-menu #menu="mdMenu">\n            <button md-menu-item [routerLink]="[\'..\', \'edit\']" routerLinkActive="active" class="button-save" [disabled]="disabled">Settings</button>\n            <button md-menu-item (click)="onDeleteFlow()" [disabled]="editDisabled">Delete</button>\n        </md-menu>\n    </div>\n</div>\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="locked && canAnimate">\n    <p>Switch workflow to DRAFT mode to make changes.\n        <a [routerLink]="[\'..\', \'edit\']" routerLinkActive="active">Settings</a>\n    </p>\n</div>\n\n<div class="step-list">\n    <div [dragula]="\'step-bag\'" [dragulaModel]=\'steps\'>\n        <div class="step-item" *ngFor="let step of steps; let i = index" [ngClass]="{ \'step-item--decision\': (step.isDecisionPoint), \'first-decision-point\': (step.isDecisionPoint && step.priority === 1) }">\n            <div *ngIf="!locked && !step.isDecisionPoint" class="step-item__add-step-in-between" [ngClass]="{ \'active\': showAddStepHints }">\n                <span class="icon" (click)="!editDisabled ? onAdd(i-1) : null"></span>\n                <span class="label">Add New Step</span>\n            </div>\n            <div class="step-item__container">\n                <div *ngIf="!step.isDecisionPoint" style=\'width:90%\'>\n                    <div [routerLink]="[\'..\', \'step\', step.id]" routerLinkActive="active">\n                        <span class="row-number">{{ step.displayNumber }}</span>\n                        <span class="row-title">{{ step.title }}\n                            <i *ngIf="!step.title">No title</i>\n                        </span>\n                        <i class="mdi mdi-apple-keyboard-option" mdTooltip="This step is optional" mdTooltipPosition="above" *ngIf="step.optional"></i>\n                        <i class="mdi mdi-asterisk" mdTooltip="This step contains a condition" mdTooltipPosition="above" *ngIf="step.condition"></i>\n                        <i class="mdi mdi-keyboard-return" mdTooltip="This step is an Entry Point" mdTooltipPosition="before" *ngIf="step.isMilestone"></i>\n                    </div>\n                </div>\n                <span *ngIf="!locked && !step.isDecisionPoint && (i != steps.length -1)" class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n                <md-menu #menu="mdMenu">\n                    <button md-menu-item (click)="!editDisabled ? onAdd(i, StepType.DecisionPoint) : null">Add Jump Step</button>\n                </md-menu>\n\n                <div *ngIf="step.isDecisionPoint" [routerLink]="[\'..\', \'step\', step.id, StepType.DecisionPoint]" routerLinkActive="active"\n                    [mdTooltip]="\'Jump Step Priority \'+step.priority" mdTooltipPosition="above">\n                    <i class="row-number">{{step.bounceToStep}}</i>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf="!locked" class="step-item add-step">\n        <div class="step-item__container" (click)="!editDisabled ? onAdd() : null" (mouseenter)="showHints(true)" (mouseleave)="showHints(false)">\n            <span class="row-number">+</span>\n            <span class="row-title">Add New Step</span>\n        </div>\n    </div>\n</div>\n\n<div class="flow-controls">\n    <a class="button button-default" [routerLink]="[\'..\', \'play\']" routerLinkActive="active">Play Workflow\n        <i class="mdi mdi-play"></i>\n    </a>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(19),c=n(3),u=n(12),d=n(97),l=n(86),p=n(72),f=n(73),h=(function(){function t(t,e,n,r){var s=this;this.action$=t,this.backendService=e,this.store=n,this.dialogService=r,this.loadFlow$=this.action$.ofType(l.e.INIT).map((function(t){return{flowId:t.payload,state:s.getState()}})).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e.flowId,a=e.state;return i.b(s,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(a),[4,r(this.backendService.getFlow(t.id,o))];case 1:return e=i.sent(),[4,n(l.e.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,n(l.e.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.loadSteps$=this.action$.ofType(l.f.INIT).map((function(){return s.getState()})).switchMapCorx((function(t,e){var n=t.put,r=t.get;return i.b(s,void 0,void 0,(function(){var t,o,s,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(e),o=Object(p.a)(e),[4,r(this.backendService.getSteps(t.id,o.id))];case 1:return s=i.sent(),[4,n(l.f.succeeded(s))];case 2:return i.sent(),[3,5];case 3:return a=i.sent(),[4,n(l.f.failed(a))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.updateStepsOrder$=this.action$.ofType(l.i.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],a=e[1];return i.b(s,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(a),e=Object(p.a)(a),[4,r(this.backendService.updateStepsOrder(t.id,e.id,{stepIds:o}))];case 1:return i.sent(),[4,n(l.i.succeeded(o))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,n(l.i.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.deleteStep$=this.action$.ofType(l.d.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],a=o.step,c=o.skipDialog,f=e[1];return i.b(s,void 0,void 0,(function(){var t,e,o,s,h,b,m;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,9,,11]),t=Object(p.d)(f),e=t.findIndex((function(t){return t.id===a.id})),!0===c?[3,3]:[4,r(this.dialogService.showDialog(d.c.DeleteCancelDialog,{message:'Are you sure you want to delete the Step "#'+(e+1)+" "+a.title+'"?. This action cannot be undone.'}))];case 1:return o=i.sent(),o===d.a.Delete?[3,3]:[4,n(l.d.canceled())];case 2:return i.sent(),[2];case 3:return s=Object(u.a)(f),h=Object(p.a)(f),[4,r(this.backendService.deleteStep(s.id,h.id,a.id))];case 4:return i.sent(),t.length<=1?[4,n(l.f.init())]:[3,7];case 5:return i.sent(),[4,r((m=this.action$).ofType.apply(m,l.f.RESULT_ACTIONS).take(1))];case 6:i.sent(),i.label=7;case 7:return[4,n(l.d.succeeded(a))];case 8:return i.sent(),[3,11];case 9:return b=i.sent(),[4,n(l.d.failed(b))];case 10:return i.sent(),[3,11];case 11:return[2]}}))}))})),this.createStep$=this.action$.ofType(l.b.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],d=e[1];return i.b(s,void 0,void 0,(function(){var t,e,s,h,b,m;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=Object(u.a)(d),e=Object(p.a)(d),s=Object(p.d)(d),h=Number.isInteger(o.addAfter)?o.addAfter:s.length-1,[4,r(this.backendService.createStep(t.id,e.id,{after:s.length&&s[h].id||null}))];case 1:return b=i.sent(),[4,n(Object(f.i)(!0))];case 2:return i.sent(),[4,n(l.b.succeeded({step:b,addAfter:h}))];case 3:return i.sent(),o.redirect?o.type!==c.C.DecisionPoint?[3,5]:[4,n(Object(a.b)("admin/flow/"+e.id+"/step/"+b.id+"/"+o.type))]:[3,7];case 4:return i.sent(),[3,7];case 5:return[4,n(Object(a.b)("admin/flow/"+e.id+"/step/"+b.id))];case 6:i.sent(),i.label=7;case 7:return[3,10];case 8:return m=i.sent(),[4,n(l.b.failed(m))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}))})),this.deleteFlow$=this.action$.ofType(l.c.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=(e[0],e[1]);return i.b(s,void 0,void 0,(function(){var t,e,s,c;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,7]),t=Object(p.a)(o),[4,r(this.dialogService.showDialog(d.c.DeleteCancelDialog,{message:'Are you sure you want to delete the Workflow "'+t.name+'"?. This action cannot be undone.'}))];case 1:return(e=i.sent())!==d.a.Delete?[2]:(s=Object(u.a)(this.getState()),[4,r(this.backendService.deleteFlow(s.id,t.id))]);case 2:return i.sent(),[4,n(l.c.succeeded(t))];case 3:return i.sent(),[4,n(Object(a.b)("admin/flows"))];case 4:return i.sent(),[3,7];case 5:return c=i.sent(),[4,n(l.c.failed(c))];case 6:return i.sent(),[3,7];case 7:return[2]}}))}))}))}return t.prototype.getState=function(){var t;return this.store.take(1).subscribe((function(e){return t=e})),t},t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loadFlow$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loadSteps$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"updateStepsOrder$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"deleteStep$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"createStep$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"deleteFlow$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,s.f,d.b])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(86)),u=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(t){var e=this;return Object(a.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a;return i.e(this,(function(i){switch(i.label){case 0:return[4,o(c.e.init(t.params.flowId))];case 1:return i.sent(),[4,r((s=this.actions$).ofType.apply(s,c.e.RESULT_ACTIONS).take(1))];case 2:if(e=i.sent(),e.type===c.e.FAILED)throw e.payload;return[4,o(c.f.init())];case 3:return i.sent(),[4,r((a=this.actions$).ofType.apply(a,c.f.RESULT_ACTIONS).take(1))];case 4:if(n=i.sent(),n.type===c.f.FAILED)throw n.payload;return[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],u)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return v}));var i,r,o=n(0),s=n(3),a=n(86),c={flow:null,steps:null,stepOperation:!1},u=Object(s.Q)(a.e,{init:function(t){return o.a({},t,{flow:null,steps:null})},succeeded:function(t,e){return o.a({},t,{flow:e})}}),d=Object(s.Q)(a.f,{init:function(t){return o.a({},t,{steps:null})},succeeded:function(t,e){return o.a({},t,{steps:e})}}),l=function(t,e){return o.a({},t,{steps:t.steps.map((function(t){return t.id===e.id?e:t}))})},p=function(t,e){return o.a({},t,{flow:o.a({},t.flow,e)})},f=Object(s.Q)(a.i,{init:function(t){return o.a({},t,{stepOperation:!0})},succeeded:function(t,e){return o.a({},t,{stepOperation:!1,steps:e.map((function(e){return t.steps.find((function(t){return t.id===e}))}))})},failed:function(t){return o.a({},t,{stepOperation:!1})}}),h=Object(s.Q)(a.d,{init:function(t){return o.a({},t,{stepOperation:!0})},succeeded:function(t,e){return o.a({},t,{stepOperation:!1,steps:t.steps.filter((function(t){return t.id!==e.id}))})},failed:function(t){return o.a({},t,{stepOperation:!1})},canceled:function(t){return o.a({},t,{stepOperation:!1})}}),b=Object(s.Q)(a.b,{init:function(t){return o.a({},t,{stepOperation:!0})},succeeded:function(t,e){return o.a({},t,{stepOperation:!1,steps:t.steps.slice(0,e.addAfter+1).concat([e.step],t.steps.slice(e.addAfter+1))})},failed:function(t){return o.a({},t,{stepOperation:!1})}}),m=function(){return c},g=o.a({},u,d,(i={},i[a.h]=l,i[a.g]=p,i),f,h,b,(r={},r[a.a]=m,r)),v=Object(s._3)(g,c)},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container workflows">\n    <back-btn [showArrow]="(isLocked | async)" backTo="../../steps">Cancel</back-btn>\n    <span class="letznav-panel-title">\n      <span class="row-number">{{ (step | async)?.displayNumber }}</span>\n      <span class="row-title">{{ (step | async)?.title }}</span>\n    </span>\n    <span *ngIf="!(isLocked | async)" class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n    <md-menu #menu="mdMenu">\n      <button md-menu-item (click)="onDelete()">Delete</button>\n    </md-menu>\n  </div>\n</div>\n<flow-step-warnings *ngIf="isShowValidationErrors" [validation]="validation | async"></flow-step-warnings>\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="(isLocked | async) && canAnimate">\n  <p>Switch workflow to DRAFT mode to make changes.\n    <a routerLink="../../edit" routerLinkActive="active">Settings</a>\n  </p>\n</div>\n<div class="step-view__container">\n  <div class="step-view__container__overflow" *ngIf="(isLocked | async)"></div>\n  <div class="step-view__container__select" >\n    <div class="step-view__container__select__picker" >\n      <element-picker\n        [pickedElementType]="PickedElementType.Element"\n        [reselect]="(step | async)?.attachTo"\n        [disabled]="(isLocked | async) || (disabled | async)|| !(isCurrentStepAnchored | async)"\n        (mouseenter)="onShowSelection()"\n        (mouseleave)="onHideSelection()"\n        (elementSelected)="onElementSelected($event)"\n      >\n      </element-picker>\n      <div class="step-view__container__select__picker__btns">\n        <a class="button button-default fullscreen-icon expand" (click)="onExpandSelection()" (mouseenter)="onShowSelection()" (mouseleave)="onHideSelection()" mdTooltipPosition="above" mdTooltip="Expand Selection"></a>\n        <a class="button button-default fullscreen-icon narrow" (click)="onNarrowSelection()" (mouseenter)="onShowSelection()" (mouseleave)="onHideSelection()" mdTooltipPosition="above" mdTooltip="Narrow Selection"></a>\n      </div>\n    </div>\n    <div class="step-view__container__select__preview">\n      <flow-step-content\n        [step]="step | async"\n        [playerTheme]="playerTheme | async"\n        [disabled]="(disabled | async) || !(isCurrentStepAnchored | async)"\n        (stepUpdated)="onStepUpdated($event)"\n        (uploadImage)="onUploadImage($event)"\n        [flowSteps]="flowSteps | async"\n        ></flow-step-content>\n    </div>\n  </div>\n</div>\n\n<div class="flow-step-validation" *ngIf="!(isLocked | async)">\n  <button class="button-save" (click)="onSubmit(true)" [disabled]="isShowValidationErrors && ((disabled | async) || !(canBeSaved | async))">Next Step</button>\n  <button class="button" (click)="onSubmit(false)" [disabled]="isShowValidationErrors && ((disabled | async) || !(canBeSaved | async))">Done</button>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(10),s=(n.n(o),n(3)),a=n(214),c=(function(){function t(t){this.shortcuts=t,this.stepUpdated=new r.EventEmitter,this.uploadImage=new r.EventEmitter,this.PLAYER_RESOURCES=s.x}return Object.defineProperty(t.prototype,"designClass",{get:function(){return this.playerTheme&&this.playerTheme.layoutDesign&&this.playerTheme.layoutTheme&&s._8[this.playerTheme.layoutDesign].class+"  "+s._9[this.playerTheme.layoutTheme].class},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(){this.stepUpdated.emit(Object(o.cloneDeep)(this.step))},t.prototype.uploadStepImage=function(t){if(!this.disabled){var e=t.target,n=e.files;1===n.length&&(this.uploadImage.emit(n[0]),e.value="")}},t.prototype.removeImage=function(){this.disabled||(this.step.image=null,this.onUpdate())},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"step",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"playerTheme",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],c.prototype,"flowSteps",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"stepUpdated",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"uploadImage",void 0),c=i.c([Object(r.Component)({selector:"flow-step-content",template:n(1308)}),i.f("design:paramtypes",[a.b])],c)},function(t,e){t.exports='<div class="balloon-preview">\n  <div class="letznav-dialog letznav-element letznav-enabled letznav-arrow-vertical letznav-target-attached-top letznav-element-attached-bottom letznav-target-attached-center letznav-element-attached-center {{designClass}}">\n     <div class="letznav-header">\n        <div class="letznav-title">\n          <input type="text" name="heading" placeholder="Heading" [(ngModel)]="step.title" (ngModelChange)="onUpdate()" [disabled]="disabled" required/>\n        </div>\n        <div class="letznav-cancel"></div>\n     </div>\n     <div class="letznav-content">\n        <div class="letznav-text">\n          <rich-text-editor class="input-rich-text" name="description" elementId="stepDescription"\n          [(ngModel)]="step.content" (ngModelChange)="onUpdate()" [disabled]="disabled" [isImageEnabled] = "true" (keydown)="shortcuts.keydown($event)" >\n          </rich-text-editor>\n        </div>\n     </div>\n     <div class="letznav-progress">\n        <span style="width: 60%"></span>\n     </div>\n     <div class="letznav-footer">\n        <div class="letznav-buttons">\n          <button *ngIf="step.advanceOn == \'CLICK_NEXT\'" mdTooltipPosition="above" mdTooltip="Preview of Next button">{{ PLAYER_RESOURCES.buttons.next | i18n }}</button>\n          <div *ngIf="step.advanceOn !== \'CLICK_NEXT\'" class="letznav-buttons__logo"></div>\n        </div>\n     </div>\n  </div>\n</div>\n\n<div class="advance-on">\n  <step-advance-on [(advanceOn)]="step.advanceOn" (advanceOnChange)="onUpdate()" [disabled]="disabled"></step-advance-on>\n</div>\n\n<div class="bubble-position">\n  <bubble-position [(attachDirection)]="step.attachDirection" (attachDirectionChange)="onUpdate()" [disabled]="disabled"></bubble-position>\n</div>\n\n<div class="extended-options">\n  <label class="form-label">Extended Options</label>\n\n  <hr>\n\n  <md-checkbox name="scrollTo" [(ngModel)]="step.scrollTo" [disabled]="disabled" (ngModelChange)="onUpdate()">\n    Scroll to <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Workflow scrolls the page down automatically in alignment with the step balloons."></i>\n  </md-checkbox>\n\n  <md-checkbox name="stepOptional" [(ngModel)]="step.optional" [disabled]="disabled" (ngModelChange)="onUpdate()">\n    Optional <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Workflow skips this step and moves to the next step if the page element doesn’t exist."></i>\n  </md-checkbox>\n</div>\n\n<div class="flow-integrity">\n  <flow-integrity></flow-integrity>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(615),s=(function(){function t(){this.StepValidationErrors=o.a}return t.prototype.hasError=function(t){return this.validation.indexOf(t)>=0},t})();i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"validation",void 0),s=i.c([Object(r.Component)({selector:"flow-step-warnings",template:n(1310)})],s)},function(t,e){t.exports='<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.ElementNotPicked)}">\n  <p>No element has been picked</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.NoTitle)}">\n  <p>Heading title is a required field</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.SelectorInvalid)}">\n  <p>Selector is invalid</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.BubbleCannotBeAttached)}">\n  <p>Cannot find element to attach to</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.ElementNotVisible)}">\n  <p>Attached element is not visible</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.BubbleOutOfScreen)}">\n  <p>Balloon is outside the view port</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.AnchorsNotPresent)}">\n  <p>Anchors of the last Entry Point cannot be found</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(StepValidationErrors.MilestoneAnchorsNotPresent)}">\n  <p>Select atleast one anchor for the milestone step</p>\n</div>\n\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(1312),r=n(1314),o=n(1316),s=[i.a,o.a,r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.attachDirectionChange=new r.EventEmitter,this.topCorners=["LEFT_TOP","RIGHT_TOP","TOP_LEFT","TOP_RIGHT"],this.topEdges=["LEFT","TOP"],this.bottomEdges=["BOTTOM","RIGHT"],this.bottomCorners=["BOTTOM_RIGHT","BOTTOM_LEFT","RIGHT_BOTTOM","LEFT_BOTTOM"]}return t.prototype.selectDirection=function(t){this.disabled||(this.attachDirection=t,this.attachDirectionChange.emit(t))},t.prototype.toStyle=function(t){return t.toLowerCase().replace("_","-")},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],o.prototype,"attachDirection",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"attachDirectionChange",void 0),o=i.c([Object(r.Component)({selector:"bubble-position",template:n(1313)})],o)},function(t,e){t.exports='<label class="form-label">Balloon position</label>\n\n<hr>\n\n<div class="balloon-position">\n  <div class="balloon-position-selector" [class.disabled]="disabled">\n    <div class="balloon-tooltip-corner {{ toStyle(direction) }}" *ngFor="let direction of topCorners" [class.selected]="attachDirection === direction"\n        (click)="selectDirection(direction)"></div>\n    <div class="balloon-tooltip {{ toStyle(direction) }}" *ngFor="let direction of topEdges" [class.selected]="attachDirection === direction"\n        (click)="selectDirection(direction)"></div>\n    <div class="balloon-tooltip {{ toStyle(direction) }}" *ngFor="let direction of bottomEdges" [class.selected]="attachDirection === direction"\n        (click)="selectDirection(direction)"></div>\n    <div class="balloon-tooltip-corner {{ toStyle(direction) }}" *ngFor="let direction of bottomCorners" [class.selected]="attachDirection === direction"\n        (click)="selectDirection(direction)"></div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.uriHashesChange=new r.EventEmitter,this.newHash=""}return Object.defineProperty(t.prototype,"uriHashes",{get:function(){return this._uriHashes},set:function(t){this._uriHashes=t.slice()},enumerable:!0,configurable:!0}),t.prototype.removeHash=function(t){this.disabled||(this._uriHashes.splice(t,1),this.uriHashesChange.emit(this._uriHashes))},t.prototype.addHash=function(){if(!this.disabled){var t=this.newHash.trim();if(t){for(var e;(e=this._uriHashes.indexOf(t))>=0;)this._uriHashes.splice(e,1);this._uriHashes.push(t),this.uriHashesChange.emit(this._uriHashes),this.newHash=""}}},t.prototype.onKeydown=function(t){"enter"===t.code.toLowerCase()&&this.addHash()},t.prototype.onPickHash=function(){if(!this.disabled){var t=Object(o._7)(window);this.newHash=t,this.newHashInput.nativeElement.focus()}},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Array),i.f("design:paramtypes",[Array])],s.prototype,"uriHashes",null),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"uriHashesChange",void 0),i.c([Object(r.ViewChild)("newHashInput"),i.f("design:type",r.ElementRef)],s.prototype,"newHashInput",void 0),s=i.c([Object(r.Component)({selector:"uri-hashes",template:n(1315)})],s)},function(t,e){t.exports='<div>\n  <label class="form-label">Uri Hashes</label>\n  <div *ngFor="let hash of uriHashes; let i = index" class="uri-hash">\n    {{ hash }}\n    <a class="mdi mdi-close" title="Remove Hash" (click)="removeHash(i)"></a>\n  </div>\n\n  <div class="input-component">\n    <input type="text" name="newHash" #newHashInput\n      [(ngModel)]="newHash"\n      placeholder="New URI Hash"\n      (keydown)="onKeydown($event)"\n      [disabled]="disabled"\n      autocomplete="off"/>\n      <a class="mdi mdi-plus" title="Add Hash" (click)="addHash()"></a>\n      <a class="mdi mdi-eyedropper" title="Pick current URI Hash" (click)="onPickHash()"></a>\n  </div>\n</div>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.advanceOnChange=new r.EventEmitter,this.STEP_ADVANCE_ON_KEYS=Object.keys(o.z),this.STEP_ADVANCE_ON=o.z,this.STEP_ADVANCE_ON_LABELS=o.B}return t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"advanceOn",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"advanceOnChange",void 0),s=i.c([Object(r.Component)({selector:"step-advance-on",template:n(1317)})],s)},function(t,e){t.exports='<label class="form-label">Advance On</label>\n\n<hr>\n\n<md-button-toggle-group #group="mdButtonToggleGroup" [(ngModel)]="advanceOn" (ngModelChange)="advanceOnChange.emit($event)">\n    <md-button-toggle *ngFor="let key of STEP_ADVANCE_ON_KEYS" [value]="STEP_ADVANCE_ON[key]" [ngClass]="(STEP_ADVANCE_ON[key] | lowercase)" mdTooltipPosition="above" [mdTooltip]="STEP_ADVANCE_ON_LABELS[key]" [disabled]="disabled">\n    </md-button-toggle>\n</md-button-toggle-group>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(99)),u=n(73),d=n(97),l=(function(){function t(t,e,n){this.store=t,this.actions=e,this.dialogs=n}return t.prototype.canDeactivate=function(t){var e=this;return Object(a.corx)((function(t){var n=t.get,r=t.put;return i.b(e,void 0,void 0,(function(){var t,e,o,s;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(c.h).skipWhile((function(t){return t})).take(1))];case 1:return i.sent(),[4,n(this.store.select(c.i).take(1))];case 2:return t=i.sent(),t?[3,4]:[4,r(!0)];case 3:return i.sent(),[2];case 4:return[4,n(this.dialogs.showDialog(d.c.CancelStep))];case 5:return e=i.sent(),e!==d.a.Discard?[3,8]:[4,n(this.store.select(c.e).take(1))];case 6:return(o=i.sent())?(this.store.dispatch(u.b.init({skipDialog:!0})),[4,n((s=this.actions).ofType.apply(s,u.b.RESULT_ACTIONS).take(1))]):[3,8];case 7:i.sent(),i.label=8;case 8:return[4,r(e!==d.a.Cancel)];case 9:return i.sent(),[2]}}))}))}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a,d.b])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(4),c=n(10),u=(n.n(c),n(3)),d=n(37),l=n(12),p=n(466),f=n(11),h=n(40),b=n(32),m=n(73),g=n(99),v=n(72),y=n(86),O=n(125),j=n(332),E=n(56),S=(function(){function t(t,e,n,r,a,u){var d=this;this.action$=t,this.backendService=e,this.store=n,this.BACKEND_URL=r,this.uploadService=a,this.messages=u,this.saveStep$=this.action$.ofType(m.c.INIT).map(o.d).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e.goToNextStep;return i.b(d,void 0,void 0,(function(){var t,e,a,u,d,p,f,h,b,O;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,18,,20]),[4,r(this.store.take(1))];case 1:return t=i.sent(),e=Object(l.a)(t).id,a=Object(v.a)(t).id,u=Object(E.f)(t),d=Object(c.cloneDeep)(Object(g.k)(t)),p=!!u.elementRect,d.screenshot||!p?[3,3]:[4,this.takeScreenshot(d,u)];case 2:i.sent(),i.label=3;case 3:return[4,r(this.backendService.saveStep(e,a,d.id,d))];case 4:return d=i.sent(),[4,n(m.c.succeeded(d))];case 5:return i.sent(),[4,n(Object(y.l)(d))];case 6:return i.sent(),!0!==o?[3,15]:(f=Object(v.d)(t),h=f.findIndex((function(t){return t.id===d.id})),h!==f.length-1?[3,9]:[4,n(Object(m.i)(!0))]);case 7:return i.sent(),[4,n(y.b.init({redirect:!0}))];case 8:return i.sent(),[3,14];case 9:return b=f.filter((function(t,e){return e>h})).findIndex((function(t){return!t.isDecisionPoint})),[4,n(Object(m.i)(!1))];case 10:return i.sent(),-1===b?[3,12]:(b+=h+1,[4,n(Object(s.b)("admin/flow/"+a+"/step/"+f[b].id))]);case 11:return i.sent(),[3,14];case 12:return[4,n(y.b.init({redirect:!0}))];case 13:i.sent(),i.label=14;case 14:return[3,17];case 15:return!1!==o?[3,17]:[4,n(Object(s.b)("admin/flow/"+a+"/"))];case 16:i.sent(),i.label=17;case 17:return[3,20];case 18:return O=i.sent(),[4,n(m.c.failed(O))];case 19:return i.sent(),[3,20];case 20:return[2]}}))}))})),this.uploadStepImage$=this.action$.ofType(m.g.INIT).map(o.d).switchMapCorx((function(t,e){var n=t.get,r=t.put;return i.b(d,void 0,void 0,(function(){var t,o;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),[4,n(this.uploadService.uploadImage(e))];case 1:return t=i.sent().imageId,[4,r(m.g.succeeded(t))];case 2:return i.sent(),[3,5];case 3:return o=i.sent(),[4,r(m.g.failed(o))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.deleteStep$=this.action$.ofType(m.b.INIT).map(o.d).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=e.skipDialog,a=e.redirect;return i.b(d,void 0,void 0,(function(){var t,e,c,u,d,l;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,9,,11]),[4,n(this.store.take(1))];case 1:return t=i.sent(),e=Object(v.a)(t).id,c=Object(g.k)(t),[4,r(y.d.init({step:c,skipDialog:!!o}))];case 2:return i.sent(),[4,n((l=this.action$).ofType.apply(l,y.d.RESULT_ACTIONS).take(1))];case 3:return u=i.sent(),u.type===y.d.SUCCEEDED?[3,5]:[4,r(m.b.canceled())];case 4:return i.sent(),[2];case 5:return[4,r(m.b.succeeded())];case 6:return i.sent(),a?[4,r(Object(s.b)("admin/flow/"+e+"/"))]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,11];case 9:return d=i.sent(),[4,r(m.b.failed(d))];case 10:return i.sent(),[3,11];case 11:return[2]}}))}))})),this.stateRestored$=this.action$.ofType(b.b).map(o.d).filter((function(t){return t.path===g.a})).delay(1).map((function(t){var e=t.state;return Object(m.k)(e)}))}return t.prototype.takeScreenshot=function(t,e){return i.b(this,void 0,void 0,(function(){var n,r,o,s,a;return i.e(this,(function(i){switch(i.label){case 0:i.trys.push([0,9,10,11]),this.store.dispatch(Object(O.k)(O.c.Inactive)),this.store.dispatch(Object(j.b)({panelVisible:!0,bannerVisible:!1})),i.label=1;case 1:return 0!==document.querySelectorAll("letznav-app-editor > bubble-preview > admin-bubble-view").length?[3,3]:[4,new Promise(function(t){return window.requestAnimationFrame(t)})];case 2:return i.sent(),[3,5];case 3:return[4,new Promise(function(t){return setTimeout(t,50)})];case 4:return i.sent(),[3,1];case 5:return[4,this.messages.sendMessage({type:f.b.TakeScreenshot},!0)];case 6:return n=i.sent().dataUrl,[4,Object(u.H)(n,{left:0,top:0,width:window.innerWidth-h.b,height:window.innerHeight})];case 7:return r=i.sent(),o=new File([Object(u.I)(r)],"screnshot"),[4,this.uploadService.uploadImage(o).toPromise()];case 8:return s=i.sent().imageId,t.screenshot=s,t.metadata.elementRect=e.elementRect,t.metadata.pixelRatio=window.devicePixelRatio,[3,11];case 9:return a=i.sent(),console.error("Failed to take screenshot",a),[3,11];case 10:return this.store.dispatch(Object(O.k)(O.c.StepView)),this.store.dispatch(Object(j.b)({panelVisible:!0,bannerVisible:!0})),[7];case 11:return[2]}}))}))},t})();i.c([Object(o.b)(),i.f("design:type",Object)],S.prototype,"saveStep$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],S.prototype,"uploadStepImage$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],S.prototype,"deleteStep$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],S.prototype,"stateRestored$",void 0),S=i.c([Object(r.Injectable)(),i.g(3,Object(r.Inject)(d.a)),i.f("design:paramtypes",[o.a,u.f,a.f,String,p.f,f.e])],S)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return v}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(73),c=n(640),u={step:null,stepIndex:null,stepInitial:null,isSaving:!1,uploadingImage:!1,ignoreSaving:!1,deleteOnCancel:!1},d=function(t,e){var n=e.stepToSet,i=e.stepIndex,s=Object(o.cloneDeep)(n),a=Object(o.cloneDeep)(s);return Object(c.a)(s),r.a({},t,{step:s,stepIndex:i,stepInitial:a,ignoreSaving:!1})},l=function(t,e){return r.a({},t,{step:e})},p=function(t,e){return r.a({},t,{deleteOnCancel:e})},f=Object(s.Q)(a.c,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{step:e,stepInitial:e,isSaving:!1})},failed:function(t){return r.a({},t,{isSaving:!1})}}),h=Object(s.Q)(a.g,{init:function(t){return r.a({},t,{uploadingImage:!0})},succeeded:function(t,e){return r.a({},t,{uploadingImage:!1,step:r.a({},t.step,{image:e})})},failed:function(t){return r.a({},t,{uploadingImage:!1})}}),b=Object(s.Q)(a.b,{succeeded:function(t){return r.a({},t,{ignoreSaving:!0})}}),m=function(){return u},g=r.a({},f,h,b,(i={},i[a.e]=d,i[a.f]=l,i[a.d]=p,i[a.a]=m,i)),v=Object(s._3)(g,u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(73)),c=n(72),u=n(141),d=n(3),l=(function(){function t(t){this.store=t}return t.prototype.resolve=function(t){var e=this;return Object(s.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,l,p;return i.e(this,(function(i){switch(i.label){case 0:return e=+t.params.stepId,n=t.params.type,l=u.d,[4,r(this.store.select(c.d).skipWhile((function(t){return!t})).take(1))];case 1:if(s=l.apply(void 0,[i.sent()]),(p=s.findIndex((function(t){return t.id===e})))<0)throw new Error("Cannot find step "+e);return n===d.C.DecisionPoint&&(s[p].isDecisionPoint=!0),[4,o(Object(a.j)(s[p],p))];case 2:return i.sent(),[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],l)},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container workflows">\n    <back-btn [showArrow]="false" [backTo]="isNew ? \'admin/flows\' : \'../steps\'">Cancel</back-btn>\n    <span class="letznav-panel-title">{{ isNew ? \'New\' : \'Edit\' }} Workflow</span>\n  </div>\n</div>\n\n<edit-flow-form [flow]="flow | async" [isNew]="isNew" [disabled]="disabled | async" [validationIssues]="validationIssues | async"\n  (updated)="onUpdate($event)" (save)="onSave()"></edit-flow-form>\n'},function(t,e){t.exports='<edit-flow [isNew]="true"></edit-flow>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.updated=new r.EventEmitter,this.save=new r.EventEmitter,this.FlowDeployment=o.q,this.FlowDeploymentKeys=o.r}return Object.defineProperty(t.prototype,"hasIssues",{get:function(){return!(!this.validationIssues||!this.validationIssues.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editDisabled",{get:function(){return this.flow.deployment!==o.q.Draft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPublished",{get:function(){return this.flow.deployment===o.q.Published},set:function(t){this.flow.deployment=t?o.q.Published:o.q.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.flow.deployment>o.q.Draft},set:function(t){this.flow.deployment=t?o.q.Ready:o.q.Draft},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(){this.updated.emit(this.flow)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"flow",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"isNew",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"validationIssues",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"updated",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"save",void 0),s=i.c([Object(r.Component)({selector:"edit-flow-form",template:n(1325)})],s)},function(t,e){t.exports='<div class="notification-msg notification-msg--warning adjust-margin--temp" [ngClass]="{\'active\': editDisabled}">\n  <p>Switch workflow to DRAFT mode to make changes.</p>\n</div>\n\n<div *ngFor="let issue of validationIssues" class="notification-msg notification-msg--warning adjust-margin--temp" [class.active]="true">\n  <p>{{issue}}</p>\n</div>\n\n<form novalidate #createForm="ngForm">\n\n  <div class="settings-status" *ngIf="!isNew" >\n    <div class="settings-status__switch settings-status__switch--ready" [ngClass]="{\'is-disabled\': hasIssues}">\n      <span>Status</span>\n      <div class="settings-status__switch__container">\n        <span class="label">Draft</span>\n        <md-slide-toggle name="isReady" [(ngModel)]="isReady" (ngModelChange)="onUpdate()" [disabled]="disabled || hasIssues"></md-slide-toggle>\n        <span class="label">Ready</span>\n      </div>\n    </div>\n    <div class="settings-status__switch settings-status__switch--published" [ngClass]="{\'is-disabled\': !isReady}">\n      <span>Published</span>\n      <div class="settings-status__switch__container">\n        <span class="label">No</span>\n        <md-slide-toggle name="isPublished" [(ngModel)]="isPublished" (ngModelChange)="onUpdate()" [disabled]="disabled || !isReady"></md-slide-toggle>\n        <span class="label">Yes</span>\n      </div>\n    </div>\n  </div>\n\n  <div class="input-component">\n    <label class="form-label" title="Enter Workflow Name">Name</label>\n    <input mdInput type="text" placeholder="Workflow title" required\n      [(ngModel)]="flow.name" (ngModelChange)="onUpdate()" name="name" [disabled]="disabled || editDisabled">\n  </div>\n\n  <div class="input-component">\n    \x3c!-- <label class="form-label">Flow description (for automated documentation)</label> --\x3e\n    <label class="form-label" title="Enter Workflow Description">Description</label>\n    <rich-text-editor class="input-rich-text" name="description" placeholder="Workflow Description" elementId="flowDescription"\n                      [(ngModel)]="flow.description" (ngModelChange)="onUpdate()" [disabled]="disabled || editDisabled">\n    </rich-text-editor>\n  </div>\n</form>\n\n<button md-button class="button-save" (click)="save.emit()" [disabled]="!createForm.form.valid || disabled">{{ flow.id < 0 ? \'Next\' : \'Save\' }}</button>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(4),c=n(3),u=n(12),d=n(86),l=n(339),p=n(642),f=n(73),h=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.saveFlow$=this.action$.ofType(l.a.INIT).switchMapCorx((function(t){var e=t.put,n=t.get;return i.b(r,void 0,void 0,(function(){var t,r,o,a,c,h,b;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,13,,15]),t=this.getState(),r=Object(u.a)(t),o=Object(p.a)(t),a=o.id<0,c=void 0,a?[4,n(this.backendService.createFlow(r.id,o))]:[3,3];case 1:return o=i.sent(),[4,n(this.backendService.getSteps(r.id,o.id))];case 2:return h=i.sent(),c=h[0].id,[3,5];case 3:return[4,n(this.backendService.saveFlow(r.id,o.id,o))];case 4:o=i.sent(),i.label=5;case 5:return[4,e(l.a.succeeded(o))];case 6:return i.sent(),a?[3,9]:[4,e(Object(d.k)(o))];case 7:return i.sent(),[4,e(Object(s.b)("/admin/flow/"+o.id+"/"))];case 8:return i.sent(),[3,12];case 9:return[4,e(Object(s.b)("/admin/flow/"+o.id+"/step/"+c))];case 10:return i.sent(),[4,e(Object(f.i)(!0))];case 11:i.sent(),i.label=12;case 12:return[3,15];case 13:return b=i.sent(),[4,e(l.a.failed(b))];case 14:return i.sent(),[3,15];case 15:return[2]}}))}))}))}return t.prototype.getState=function(){var t;return this.store.take(1).subscribe((function(e){return t=e})),t},t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"saveFlow$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,a.f])],h)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return p}));var i,r=n(0),o=n(3),s=n(339),a={flow:null,initialFlow:null,isSaving:!1,validationIssues:null},c=Object(o.Q)(s.a,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{isSaving:!1,flow:e,initialFlow:e})},failed:function(t,e){return r.a({},t,{isSaving:!1})}}),u=function(t,e){return r.a({},t,{flow:e.flow,initialFlow:e.flow,validationIssues:e.validationIssues})},d=function(t,e){return r.a({},t,{flow:e})},l=r.a({},c,(i={},i[s.b]=u,i[s.c]=d,i)),p=Object(o._3)(l,a)},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container workflows full-width">\n    <span class="letznav-panel-title blink">Previewing Workflow...</span>\n  </div>\n</div>\n\n<flow-play-step-list [steps]="(steps | async)" [currentStep]="(currentStepIndex | async)" [playState]="playState | async"\n  (gotoStep)="onGotoStep($event)" (cancel)="onCancel()">\n</flow-play-step-list>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(71),s=n(141),a=(function(){function t(){this.gotoStep=new r.EventEmitter,this.cancel=new r.EventEmitter,this.PLAY_FLOW_STATE=o.j}return t.prototype.updateSteps=function(t){return Object(s.d)(t)},t})();i.c([Object(r.Input)(),i.f("design:type",Array)],a.prototype,"steps",void 0),i.c([Object(r.Input)(),i.f("design:type",Number)],a.prototype,"currentStep",void 0),i.c([Object(r.Input)(),i.f("design:type",Number)],a.prototype,"playState",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],a.prototype,"gotoStep",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],a.prototype,"cancel",void 0),a=i.c([Object(r.Component)({selector:"flow-play-step-list",template:n(1330)})],a)},function(t,e){t.exports='<div class="step-list">\n  <div class="step-item" *ngFor="let step of updateSteps(steps); let i = index" [ngClass]="{ \'step-item--decision\': (step.isDecisionPoint), \'first-decision-point\': (step.isDecisionPoint && step.priority === 1) }"\n    (click)="gotoStep.emit(i)">\n    <div class="step-item__container" [ngClass]="{ \'current\': currentStep === i && playState === PLAY_FLOW_STATE.InProgress }">\n      <div *ngIf="!step.isDecisionPoint">\n        <span class="row-number">{{ step.displayNumber }}</span>\n        <span class="row-title">{{ step.title }} <i *ngIf="!step.title">No title</i></span>\n        <i class="mdi mdi-apple-keyboard-option" mdTooltip="This step is optional" mdTooltipPosition="above" *ngIf="step.optional"></i>\n        <i class="mdi mdi-asterisk" mdTooltip="This step contains a condition" mdTooltipPosition="above" *ngIf="step.condition"></i>\n        <i class="mdi mdi-keyboard-return" mdTooltip="This step is an Entry Point" mdTooltipPosition="before" *ngIf="step.isMilestone"></i>\n      </div>\n      <div *ngIf="step.isDecisionPoint">\n        <i class="row-number">{{step.bounceToStep}}</i>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="flow-controls">\n  <a class="button button-default" (click)="cancel.emit()">Stop <i class="mdi mdi-stop"></i></a>\n\n  <p class="step-counter">\n    <span *ngIf="playState === PLAY_FLOW_STATE.InProgress && 0 <= currentStep && currentStep < steps.length">\n        Step: {{ currentStep + 1 }} / {{ steps.length }}\n    </span>\n    <span *ngIf="playState === PLAY_FLOW_STATE.Succeeded">\n        Flow Completed\n    </span>\n    <span *ngIf="playState === PLAY_FLOW_STATE.Canceled">\n        Flow Canceled\n    </span>\n    <span *ngIf="playState === PLAY_FLOW_STATE.Starting">\n        Starting\n    </span>\n  </p>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n(3),r={},o={},s=Object(i._3)(o,r)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(42)),c=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.userName=this.store.select((function(t){return Object(a.q)(t.account)})).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.logOut=function(){this.store.dispatch(Object(a.o)())},t})();c=i.c([Object(r.Component)({selector:"bottom-bar",template:n(1333)}),i.f("design:paramtypes",[o.f])],c)},function(t,e){t.exports='<div>\n<div class="bottom-bar-username"><span class="mdi mdi-account-box bottom-bar-icon"></span> {{ userName | async }}</div>\n<span class="mdi mdi-logout" (click)="logOut()"></span>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(70),s=n(4),a=n(19),c=n(6),u=(n.n(c),(function(){function t(t,e){this.router=t,this.store=e,this.showArrow=!0,this.backTo=null}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new c.Subject,this.url=this.router.events.map((function(){return t.router.url})).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.onBack=function(){var t=this.backTo;if(t){if(t.startsWith(".")){var e=this.router.url;for(t=t.replace(/^\.\//,"");t.startsWith("../");)t=t.replace("../",""),e=e.replace(/\/[\w-]+\/?$/,"");t=e+"/"+t}this.store.dispatch(Object(a.b)(t))}},t})());i.c([Object(r.Input)(),i.f("design:type",Boolean)],u.prototype,"showArrow",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],u.prototype,"backTo",void 0),u=i.c([Object(r.Component)({selector:"back-btn",template:n(1335)}),i.f("design:paramtypes",[o.d,s.f])],u)},function(t,e){t.exports='<span [ngClass]="showArrow ? \'letznav-panel-btn back\' : \'letznav-panel-cancel\'" (click)="onBack()">\n  <span *ngIf="showArrow" class="mdi mdi-chevron-left"></span>\n  <ng-content *ngIf="!showArrow"></ng-content>\n</span>\n'},function(t,e){t.exports='<div class="top-bar">\r\n  <div class="top-bar__container validations home">\r\n    <back-btn backTo="admin"></back-btn>\r\n    <span class="letznav-panel-title">Validations</span>\r\n    <a *ngIf="canCreateMore | async" class="top-bar__container__newbtn" title="Create New Form" [routerLink]="[\'..\', \'form\', \'add\']" routerLinkActive="active"></a>\r\n  </div>\r\n</div>\r\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\r\n\r\n<div class="notification-msg notification-msg--warning delay" [class.active]="!(canCreateMore | async) && canAnimate">\r\n  <p>You have reached maximum number of forms on your Demo account.</p>\r\n</div>\r\n\r\n<div class="validation-list--empty" *ngIf="(formCount | async) === 0">\r\n  <div class="icon"></div>\r\n  <p>Hmm, looks like you don’t have any Validations yet.</p>\r\n  <a class="button button-default" title="Create New Form" [routerLink]="[\'..\', \'form\', \'add\']" routerLinkActive="active">Create New Form</a>\r\n</div>\r\n\r\n<div class="letznav-search-bar" *ngIf="(formCount | async) > 0">\r\n  <input type="text" name="search" placeholder="Search Forms" [ngModel]="searchText | async" (ngModelChange)="onSearch($event)"/>\r\n  <a class="letznav-search-bar__icon" [ngClass]="{ clear: ((searchText | async) !== \'\') }" (click)="onClearSearch()"></a>\r\n</div>\r\n\r\n<div class="form-list" infiniteScroll [scrollWindow]="false" (scrolled)="loadForms()">\r\n  <form-row *ngFor="let item of (displayedForms | async)" [item]="item"></form-row>\r\n\r\n  <div class="form-list-number" *ngIf="(forms | async)?.length == 1">1 Form</div>\r\n  <div class="form-list-number" *ngIf="(forms | async)?.length > 1">{{ (forms | async)?.length }} Forms</div>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(23),s=n(3),a=(function(){function t(t){this.sanitizer=t,this.FormDeployment=s.s}return Object.defineProperty(t.prototype,"formName",{get:function(){return this.item.tokens&&this.item.tokens.length?this.sanitizer.bypassSecurityTrustHtml(Object(s._1)(this.item)):this.form.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"form",{get:function(){return this.item.item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasStatus",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPublished",{get:function(){return this.form.deployment===s.s.Published},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.form.deployment===s.s.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraft",{get:function(){return this.form.deployment===s.s.Draft},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"item",void 0),i.c([Object(r.HostBinding)("class.status"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"hasStatus",null),i.c([Object(r.HostBinding)("class.status-published"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isPublished",null),i.c([Object(r.HostBinding)("class.status-ready"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isReady",null),i.c([Object(r.HostBinding)("class.status-draft"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isDraft",null),a=i.c([Object(r.Component)({selector:"form-row",template:n(1338)}),i.f("design:paramtypes",[o.c])],a)},function(t,e){t.exports='<div class="base-row" [routerLink]="[\'..\', \'form\', form.id, \'validations\']" routerLinkActive="active">\r\n  <span class="status__dot" mdTooltipPosition="right" [mdTooltip]="FormDeployment[form.deployment]"></span>\r\n  <span [innerHtml]="formName"></span>\r\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(12),u=n(124),d=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.loadForm$=this.action$.ofType(u.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,d,l;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(c.a)(s),[4,o(this.backendService.getForms(t.id))];case 1:return e=i.sent(),r=window.location.href,d=[a.s.Published],r.startsWith(t.preProdUrl)&&t.preProdUrl!==t.rootUrl&&d.push(a.s.Ready),e=e.filter((function(t){return-1!==d.indexOf(t.deployment)})),[4,n(u.a.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return l=i.sent(),[4,n(u.a.failed(l))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],d.prototype,"loadForm$",void 0),d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.f,s.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(124)),u=n(12),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(u.a).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(c.a.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,c.a.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var i,r=n(0),o=n(3),s=n(124),a={forms:null,searchText:""},c=Object(o.Q)(s.a,{init:function(t){return r.a({},t,{forms:null})},succeeded:function(t,e){return r.a({},t,{forms:e})}}),u=function(t,e){return r.a({},t,{searchText:e})},d=r.a({},c,(i={},i[s.b]=u,i)),l=Object(o._3)(d,a)},function(t,e){t.exports='<div class="top-bar">\r\n  <div class="top-bar__container"\r\n    [ngClass]="{ \'launchers\': ((badgeType | async) === BadgeType.Launcher), \'tooltips\': ((badgeType | async) === BadgeType.NavTip),\'announcements\': ((badgeType | async) === BadgeType.Announcement), \'validations\': !isInteger(badgeType | async) }">\r\n      <div *ngIf="isInteger(badgeType | async); then badge else validation"></div>\r\n      <ng-template #badge>\r\n          <div *ngIf="isNew; then badgeforms else currentForm"></div>\r\n          <ng-template #badgeforms><back-btn [showArrow]="false" backTo="admin/badge-forms/{{badgeType|async}}">Cancel</back-btn></ng-template>\r\n          <ng-template #currentForm><back-btn [showArrow]="false" backTo="admin/badge-form/{{badgeType|async}}/{{(form|async)?.id}}">Cancel</back-btn></ng-template>\r\n        </ng-template>\r\n      <ng-template #validation><back-btn [showArrow]="false" [backTo]="isNew ? \'admin/forms\' : \'../validations\'">Cancel</back-btn></ng-template>\r\n\r\n    <span class="letznav-panel-title">{{ isNew ? \'New\' : \'Edit\' }} Form</span>\r\n  </div>\r\n</div>\r\n\r\n<edit-form-properties\r\n  [form]="form | async"\r\n  [anchorsState]="(formState | async)?.checkState"\r\n  [disabled]="disabled | async"\r\n  [valid]="valid | async"\r\n  [isNew]="isNew"\r\n  (updated)="onUpdate($event)"\r\n  (save)="onSave()"\r\n>\r\n\r\n</edit-form-properties>\r\n'},function(t,e){t.exports='<edit-form [isNew]="true"></edit-form>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(3),s=n(21),a=n(11),c=(function(){function t(t){this.messages=t,this.updated=new r.EventEmitter,this.save=new r.EventEmitter,this.FormDeployment=o.s,this.FormDeploymentKeys=o.t,this.PickedElementType=s.b}return Object.defineProperty(t.prototype,"formLocked",{get:function(){return this.form.deployment!==o.s.Draft},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editDisabled",{get:function(){return this.disabled||this.formLocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPublished",{get:function(){return this.form.deployment===o.s.Published},set:function(t){this.form.deployment=t?o.s.Published:o.s.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.form.deployment>o.s.Draft},set:function(t){this.form.deployment=t?o.s.Ready:o.s.Draft},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(){this.updated.emit(this.form)},t.prototype.onAddAnchor=function(t){this.form.formIdentification||(this.form.formIdentification=[]),this.form.formIdentification.push(t.element),this.onUpdate()},t.prototype.onRemoveAnchor=function(t){this.editDisabled||this.form.formIdentification&&t>=0&&t<this.form.formIdentification.length&&(this.form.formIdentification.splice(t,1),this.onUpdate())},t.prototype.onElementSelected=function(t){this.form.formIdentification||(this.form.formIdentification=[]),this.form.formIdentification.push(t.element),this.onUpdate()},t.prototype.onHighlightAnchor=function(t){this.messages.sendMessage({type:a.b.ShowPivot,pivotIndex:t})},t.prototype.onHideAnchorHighlight=function(){this.messages.sendMessage({type:a.b.HidePivot})},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"form",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],c.prototype,"anchorsState",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"valid",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"isNew",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"updated",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"save",void 0),c=i.c([Object(r.Component)({selector:"edit-form-properties",template:n(1345)}),i.f("design:paramtypes",[a.e])],c)},function(t,e){t.exports='<div class="notification-msg notification-msg--warning  adjust-margin--temp" [ngClass]="{\'active\': formLocked}">\n  <p>Published Form settings can not be edited. Switch to DRAFT to make changes.</p>\n</div>\n\n<form novalidate #editForm="ngForm">\n\n  <div class="settings-status" *ngIf="!isNew" >\n    <div class="settings-status__switch settings-status__switch--ready">\n      <span>Status</span>\n      <div class="settings-status__switch__container">\n        <span class="label">Draft</span>\n        <md-slide-toggle name="isReady" [(ngModel)]="isReady" (ngModelChange)="onUpdate()" [disabled]="disabled"></md-slide-toggle>\n        <span class="label">Ready</span>\n      </div>\n    </div>\n    <div class="settings-status__switch settings-status__switch--published" [ngClass]="{\'is-disabled\': !isReady}">\n      <span>Published</span>\n      <div class="settings-status__switch__container">\n        <span class="label">No</span>\n        <md-slide-toggle name="isPublished" [(ngModel)]="isPublished" (ngModelChange)="onUpdate()" [disabled]="disabled || !isReady"></md-slide-toggle>\n        <span class="label">Yes</span>\n      </div>\n    </div>\n  </div>\n\n  <div class="input-component">\n    <label class="form-label">Form Name</label>\n    <input mdInput type="text" placeholder="Form Name" required [(ngModel)]="form.name" (ngModelChange)="onUpdate()" name="name" [disabled]="editDisabled">\n  </div>\n\n  <div class="form-identification">\n    <label class="form-label">Form identification <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Add Anchor points to uniquely identify the Form Page."></i></label>\n\n    <p>Add Anchor Points: <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Add Anchor points to uniquely identify the Form Page. Anchors are required for Validations to work."></i></p>\n\n    <anchor-elements\n      [anchorsState]="anchorsState"\n      [disabled]="editDisabled"\n      (addAnchor)="onAddAnchor($event)"\n      (removeAnchor)="onRemoveAnchor($event)"\n      (higlightAnchor)="onHighlightAnchor($event)"\n      (hideAnchorHighlight)="onHideAnchorHighlight()"\n    >\n    </anchor-elements>\n  </div>\n</form>\n\n<button md-button class="button-save" (click)="save.emit()" [disabled]="!editForm.form.valid || !valid || disabled || !form.name.trim().length">Save</button>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return p}));var i,r=n(0),o=n(3),s=n(101),a={form:null,initialForm:null,isSaving:!1},c=Object(o.Q)(s.a,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{isSaving:!1,form:e,initialForm:e})},failed:function(t,e){return r.a({},t,{isSaving:!1})}}),u=function(t,e){return r.a({},t,{form:e,initialForm:e})},d=function(t,e){return r.a({},t,{form:e})},l=r.a({},c,(i={},i[s.b]=u,i[s.c]=d,i)),p=Object(o._3)(l,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(4),c=n(3),u=n(12),d=n(32),l=n(101),p=n(340),f=n(63),h=n(102),b=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.saveForm$=this.action$.ofType(l.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,a=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,c,d;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,12,,14]),t=Object(u.a)(a),e=Object(p.b)(a),r=e.id<0,r?[4,o(this.backendService.createForm(t.id,e))]:[3,2];case 1:return e=i.sent(),[3,4];case 2:return[4,o(this.backendService.saveForm(t.id,e.id,e))];case 3:e=i.sent(),i.label=4;case 4:return[4,n(l.a.succeeded(e))];case 5:return i.sent(),r?[3,7]:[4,n(Object(f.q)(e))];case 6:i.sent(),i.label=7;case 7:return c=Object(h.a)(a),Number.isInteger(c)?[4,n(Object(s.b)("/admin/badge-form/"+c+"/"+e.id+"/"))]:[3,9];case 8:return i.sent(),[3,11];case 9:return[4,n(Object(s.b)("/admin/form/"+e.id+"/"))];case 10:i.sent(),i.label=11;case 11:return[3,14];case 12:return d=i.sent(),[4,n(l.a.failed(d))];case 13:return i.sent(),[3,14];case 14:return[2]}}))}))})),this.stateRestored$=this.action$.ofType(d.b).map(o.d).filter((function(t){return t.path===p.a})).map((function(t){var e=t.state;return Object(l.e)(e)}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"saveForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"stateRestored$",void 0),b=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,a.f])],b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(45)),c=n(74),u=n(101),d=(function(){function t(t){this.store=t}return t.prototype.resolve=function(t){var e=this;return Object(s.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n;return i.e(this,(function(i){switch(i.label){case 0:return t.url.find((function(t){return"add"===t.path}))?(e=+t.params.type,Number.isInteger(e)?[4,o(Object(c.k)(e))]:[3,2]):[3,6];case 1:return i.sent(),[3,4];case 2:return[4,o(Object(c.k)(null))];case 3:i.sent(),i.label=4;case 4:return[4,o(Object(u.d)({id:-1,name:"",formIdentification:null,deployment:0,tags:[]}))];case 5:return i.sent(),[3,9];case 6:return[4,r(this.store.select(a.a).take(1))];case 7:return n=i.sent(),[4,o(Object(u.d)({id:n.id,name:n.name,formIdentification:n.formIdentification,deployment:n.deployment,tags:n.tags}))];case 8:i.sent(),i.label=9;case 9:return[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(340)),c=n(101),u=(function(){function t(t){this.store=t}return t.prototype.canDeactivate=function(t){var e=this;return Object(s.corx)((function(t){var n=t.get,r=t.put;return i.b(e,void 0,void 0,(function(){var t,e;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(a.e).skipWhile((function(t){return t})).take(1))];case 1:return i.sent(),[4,n(this.store.select(a.g).take(1))];case 2:return t=i.sent(),t?[4,n(this.store.select(a.c).take(1))]:[3,4];case 3:e=i.sent(),this.store.dispatch(Object(c.e)(e)),i.label=4;case 4:return[4,r(!0)];case 5:return i.sent(),[2]}}))}))}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(62)),c=(function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.isFormConnected=this.store.select(a.k).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();c=i.c([Object(r.Component)({selector:"form-connected",template:n(1351)}),i.f("design:paramtypes",[o.f])],c)},function(t,e){t.exports='<div class="form-connected connected" *ngIf="isFormConnected | async">\r\n  <span class="mdi mdi-power-plug"></span>\r\n  <span class="form-connected-status">Connected to form page</span>\r\n</div>\r\n<div *ngIf="!(isFormConnected | async)">\r\n    <p class="notification-msg notification-msg--warning active" style="margin-bottom: 10px;">Form page is not connected, please go to the right page</p>\r\n    <div class="form-connected not-connected" >\r\n       <span class="mdi mdi-power-plug-off"></span>\r\n       <span class="form-connected-status">Incorrect form page</span>\r\n    </div>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(3),s=n(37),a=n(103),c=n(652),u=n(126),d=4,l=(function(){function t(t,e){this.elementRef=t,this.BACKEND_URL=e,this.POSITIONING_MODE=u.a,this.Z_INDEX=d,this.ValidationState=a.b}return Object.defineProperty(t.prototype,"positioningData",{get:function(){return{elementId:this.field.elementId,elementRect:this.field.elementRect}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"failed",{get:function(){var t=this;return this.field.validators.filter((function(e){return t.field.failedValidators.some((function(t){return t===e.id}))})).map((function(e){var n=t.field.erroneousValidators.find((function(t){return t.id===e.id}));return n?null:n&&n.error||e.getErrorMessage()})).filter((function(t){return null!==t}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"passed",{get:function(){var t=this;return this.field.validators.filter((function(e){return t.field.failedValidators.every((function(t){return t!==e.id}))})).map((function(t){return t.getErrorMessage()}))},enumerable:!0,configurable:!0}),t.prototype.onAttachDirectionChange=function(t){this.attachmentClasses=Object(o.T)(t)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],l.prototype,"field",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"panelVisible",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"display",void 0),i.c([Object(r.Input)(),i.f("design:type",c.a)],l.prototype,"indicator",void 0),l=i.c([Object(r.Component)({selector:"admin-validation-tooltip",template:n(1354)}),i.g(1,Object(r.Inject)(s.a)),i.f("design:paramtypes",[r.ElementRef,String])],l)},function(t,e){t.exports='<div class="letznav-validation-indicator"\r\n[style.z-index]="field.zIndex"\r\n[ngSwitch]="field.valid">\r\n  <div *ngSwitchCase="ValidationState.Valid" class="letznav-validation-indicator__icon letznav-validation-indicator__icon--valid"></div>\r\n  <div *ngSwitchCase="ValidationState.NotChecked" class="letznav-validation-indicator__icon letznav-validation-indicator__icon--not-checked"></div>\r\n  <div *ngSwitchDefault class="letznav-validation-indicator__icon letznav-validation-indicator__icon--error"></div>\r\n</div>\r\n\r\n<positioning\r\n*ngIf="indicatorElement"\r\n[mode]="POSITIONING_MODE.INDICATOR"\r\n[attachedElement]="indicatorElement"\r\n[positioningData]="positioningData"\r\n[indicatorOffset]="field.indicatorPadding"\r\n[display]="display"\r\n></positioning>\r\n'},function(t,e){t.exports='<div class="letznav-dialog letznav-tooltip letznav-element letznav-enabled {{attachmentClasses}}"\r\n[style.z-index]="field.zIndex + Z_INDEX">\r\n <div class="letznav-content">\r\n    <div class="letznav-text">\r\n      <ul\r\n        [class.letznav-passed-validations]="field.valid !== ValidationState.NotChecked"\r\n        [class.letznav-not-checked-validations]="field.valid === ValidationState.NotChecked">\r\n          <li *ngFor="let message of passed">\r\n            <span>{{ message }}</span>\r\n          </li>\r\n      </ul>\r\n      <ul class="letznav-failed-validations">\r\n        <li *ngFor="let error of failed">\r\n          <span>{{ error }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n </div>\r\n</div>\r\n\r\n<positioning\r\n*ngIf="tooltipElement && indicator?.indicatorElement"\r\n[mode]="POSITIONING_MODE.TOOLTIP"\r\n[attachedElement]="tooltipElement"\r\n[positioningData]="positioningData"\r\n[directTargetElement]="indicator?.indicatorElement"\r\n[display]="display"\r\n(attachDirectionChange)="onAttachDirectionChange($event)"\r\n></positioning>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(40)),c=n(29),u=n(103),d=n(138),l=n(477),p=n(341),f=(function(){function t(t){this.store=t,this.indicators={},this.CheckState=c.a}return t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.panelVisible=this.store.select(a.f.selectPanelVisible).takeUntil(this.ngUnsubscribe),this.allFields=this.store.select(l.a).takeUntil(this.ngUnsubscribe),this.validation=this.store.select(p.g).takeUntil(this.ngUnsubscribe),this.mouseOverFieldId=this.store.select(l.b).takeUntil(this.ngUnsubscribe),this.displayState=s.Observable.combineLatest(this.mouseOverFieldId,this.validation,this.panelVisible).takeUntil(this.ngUnsubscribe)},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.onIndicatorMouse=function(t,e){this.store.dispatch(Object(d.k)(e?t.id:null))},t.prototype.shouldDisplayField=function(t){var e;return this.displayState.take(1).subscribe((function(n){var i=n[0],r=n[1],o=n[2],s=i===t.id,a=r&&t.id===r.id&&o,u=t.checkState===c.a.Present,d=t.validators&&t.validators.length;e=u&&d&&(s||a)})),e},t.prototype.shouldDisplayIndicator=function(t){return t.checkState===c.a.Present&&!(t.valid===u.b.NotChecked&&!t.showPristineIndicator)},t.prototype.onIndicatorInit=function(t,e){this.indicators[e]=t},t})();f=i.c([Object(r.Component)({selector:"admin-validation",template:n(1356)}),i.f("design:paramtypes",[o.f])],f)},function(t,e){t.exports='\r\n<admin-validation-indicator\r\n*ngFor="let field of (allFields | async); index as index; trackBy: trackByFn"\r\n[field]="field"\r\n[display]="shouldDisplayIndicator(field)"\r\n(isMouseIn)="onIndicatorMouse(field, $event)"\r\n(init)="onIndicatorInit($event, index)"\r\n>\r\n</admin-validation-indicator>\r\n\r\n<admin-validation-tooltip\r\n*ngFor="let field of (allFields | async); index as index; trackBy: trackByFn"\r\n[field]="field"\r\n[panelVisible]="panelVisible | async"\r\n[display]="shouldDisplayField(field)"\r\n[indicator]="indicators[index]"\r\n>\r\n</admin-validation-tooltip>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(10),c=(n.n(a),n(11)),u=n(29),d=n(62),l=n(63),p=n(100),f=n(138),h=n(477),b=n(103),m=n(137),g=function(t){return{name:t.name,value:t.value,fieldState:t.fieldState,valueState:t.valueState}},v=(function(){function t(t,e,n){var i=this;this.action$=t,this.store=e,this.messages=n,this.clearData$=this.action$.ofType(f.b).do((function(){return i.messages.sendMessage({type:c.b.ClearValidationData})})).filter((function(){return null})),this.pushData$=this.action$.ofType(f.c).map(o.d).do((function(t){return i.sendValidationData(t)})).filter((function(){return null})),this.updateValidation$=this.action$.ofType(p.f,p.e).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0],n=t[1],r=Object(h.a)(n);if(r){var o=Object(a.cloneDeep)(r.find((function(t){return t.id===e.id})));o&&(o.checkState===u.a.NotChecked&&i.messages.sendMessage({type:c.b.UpdateValidationData,validation:{id:e.id,element:e.inputElement}}),i.runValidators(r,o),i.store.dispatch(Object(f.n)([o])))}})).filter((function(){return null})),this.createValidation$=this.action$.ofType(l.d.SUCCEEDED).map(o.d).do((function(t){return i.messages.sendMessage({type:c.b.UpdateValidationData,validation:{id:t.id,element:t.inputElement}})})).filter((function(){return null})),this.deleteValidation$=this.action$.ofType(l.f.SUCCEEDED).map(o.d).do((function(t){return i.messages.sendMessage({type:c.b.DeleteValidationData,validationId:t.id})})).filter((function(){return null})),this.messages.ofType(c.b.RequestValidationData).subscribe(this.onRequestValidationData.bind(this)),this.messages.ofType(c.b.UpdateValidationState).subscribe(this.onValidationState.bind(this)),this.messages.ofType(c.b.ValidationEvent).subscribe(this.onValidationEvent.bind(this)),this.messages.ofType(c.b.FramesChanged).subscribe(this.onCheckElements.bind(this))}return t.prototype.onValidationEvent=function(t){var e=this;this.store.take(1).subscribe((function(n){var i=Object(h.a)(n);if(i){var r=Object(a.cloneDeep)(i.find((function(e){return e.id===t.validationState.id})));r&&(r.value=t.validationState.value,r.fieldState=t.validationState.fieldState,r.valueState=t.validationState.valueState,t.runValidators&&e.runValidators(i,r),e.store.dispatch(Object(f.n)([r])),e.store.dispatch(Object(m.f)({type:m.a.VALIDATION_RESULT,data:{formId:r.formId,validationId:r.id,outcomeCode:r.valid===b.b.Valid?"pass":"fail"}})))}}))},t.prototype.runValidators=function(t,e){var n=!0,i={formFields:t.map(g)};e.failedValidators=[],e.erroneousValidators=[],e.validators.forEach((function(t){var r=!1;try{r=t.validate(g(e),i)}catch(n){e.erroneousValidators.push({id:t.id,error:n.message||"Unknown problem"}),r=!0}r||e.failedValidators.push(t.id),n=r&&n})),e.valid=n?b.b.Valid:b.b.NotValid},t.prototype.onValidationState=function(t){this.store.dispatch(Object(f.m)(t.validationsState))},t.prototype.onRequestValidationData=function(){var t=this;this.store.take(1).subscribe((function(e){var n=Object(d.l)(e);n&&t.sendValidationData(n)}))},t.prototype.sendValidationData=function(t){this.messages.sendMessage({type:c.b.SetValidationData,validations:t.map((function(t){return{id:t.id,element:t.inputElement}}))})},t.prototype.onCheckElements=function(){this.store.dispatch(Object(f.h)()),this.messages.sendMessage({type:c.b.RecheckValidations})},t})();i.c([Object(o.b)(),i.f("design:type",Object)],v.prototype,"clearData$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],v.prototype,"pushData$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],v.prototype,"updateValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],v.prototype,"createValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],v.prototype,"deleteValidation$",void 0),v=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f,c.e])],v)},function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return C}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(29),c=n(63),u=n(100),d=n(103),l=n(138),p=n(1359),f={formValid:d.b.NotChecked,fieldsState:null,mouseOverFieldId:null,playerResources:null},h=function(t,e){return{id:t.id,name:t.name,formId:t.formId,inputElement:t.inputElement,checkState:a.a.NotChecked,valueState:d.c.Pristine,fieldState:d.a.Untouched,value:void 0,valid:d.b.NotChecked,validatorsDefinition:t.validators,validators:t.validators.map((function(t){return Object(p.a)(t,e)})),failedValidators:[],erroneousValidators:[],indicatorPadding:t.indicatorPadding,showPristineIndicator:t.showPristineIndicator}},b=function(t,e){return r.a({},t,{fieldsState:e.map((function(e){return h(e,t.playerResources)}))})},m=function(t){return f},g=function(t,e){if(!t.fieldsState)return t;var n=t.fieldsState.find((function(t){return t.id===e.id})),i=n.name!==e.name||n.indicatorPadding!==e.indicatorPadding||n.showPristineIndicator!==e.showPristineIndicator,s=!Object(o.isEqual)(n.inputElement,e.inputElement),c=!Object(o.isEqual)(n.validatorsDefinition,e.validators);return n&&(i||s||c)?(n=Object(o.cloneDeep)(n),i&&(n.name=e.name,n.indicatorPadding=e.indicatorPadding,n.showPristineIndicator=e.showPristineIndicator),s&&(n.inputElement=e.inputElement,n.checkState=a.a.NotChecked,n.value=void 0,n.valueState=d.c.Pristine,n.fieldState=d.a.Untouched,n.valid=d.b.NotChecked),c&&(n.validatorsDefinition=e.validators,n.validators=e.validators.map((function(e){return Object(p.a)(e,t.playerResources)}))),r.a({},t,{fieldsState:t.fieldsState.map((function(t){return t.id===n.id?n:t}))})):t},v=function(t,e){return r.a({},t,{fieldsState:t.fieldsState&&t.fieldsState.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n&&n.checkState!==a.a.NotChecked?r.a({},t,n):t}))})},y=function(t,e){var n=t.fieldsState.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n?r.a({},t,n):t})),i=n.map((function(t){return t.valid})).reduce((function(t,e){var n=t;return e!==d.b.NotChecked&&(e!==d.b.Valid?n=d.b.NotValid:n===d.b.NotChecked&&(n=d.b.NotValid)),n}),d.b.NotChecked);return r.a({},t,{formValid:i,fieldsState:n})},O=function(t,e){return r.a({},t,{fieldsState:t.fieldsState.concat([h(e,t.playerResources)])})},j=function(t,e){return r.a({},t,{fieldsState:t.fieldsState.filter((function(t){return t.id!==e.id}))})},E=function(t,e){return r.a({},t,{mouseOverFieldId:e})},S=function(t,e){return r.a({},t,{playerResources:e})},w=function(t){return r.a({},t,{fieldsState:t.fieldsState&&t.fieldsState.map((function(t){return r.a({},t,{checkState:a.a.NotChecked})}))})},I=(i={},i[l.c]=b,i[l.b]=m,i[u.e]=g,i[u.f]=g,i[l.f]=v,i[l.g]=y,i[l.d]=E,i[c.d.SUCCEEDED]=O,i[c.f.SUCCEEDED]=j,i[l.e]=S,i[l.a]=w,i),C=Object(s._3)(I,f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(3),r=n(463),o=(function(){function t(t,e){this.playerResources=e,this.validatorId=t.id,this.minLength=t.minLength,this.maxLength=t.maxLength,this.hasMinLenght&&this.hasMaxLenght&&this.maxLength<this.minLength&&(this.error="Minimal length is higher than Maximal length"),this.hasMaxLenght||this.hasMinLenght||(this.error="Empty length restriction"),(this.maxLength<0||this.minLength<0)&&(this.error="length value(s) cannot be negative")}return Object.defineProperty(t.prototype,"hasMinLenght",{get:function(){return this.minLength>0||0===this.minLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasMaxLenght",{get:function(){return this.maxLength>0||0===this.maxLength},enumerable:!0,configurable:!0}),t.prototype.validate=function(t,e){var n=!0,i=t.value&&t.value.length||0;if(this.error)throw new Error(this.error);return this.hasMinLenght&&(n=i>=this.minLength&&n),this.hasMaxLenght&&(n=i<=this.maxLength&&n),n},t.prototype.getErrorMessage=function(){if(this.minLength&&this.maxLength){var t=Object(r.f)(i.x.validations.rangeMessage,this.playerResources);return t.replace(i.D.MIN,""+this.minLength).replace(i.D.MAX,""+this.maxLength)}if(this.minLength){var t=Object(r.f)(i.x.validations.minLength,this.playerResources);return t.replace(i.D.MIN,""+this.minLength)}if(this.maxLength){var t=Object(r.f)(i.x.validations.maxLength,this.playerResources);return t.replace(i.D.MAX,""+this.maxLength)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.validatorId},enumerable:!0,configurable:!0}),t})(),s=(function(){function t(t,e){this.playerResources=e,this.validatorId=t.id,this.errorMessage=t.errorMessage,this.errorMessage||(this.error="Missing error message");try{this.regex=new RegExp(t.regex)}catch(t){this.error="RegExp is not valid: "+t.message}}return t.prototype.validate=function(t,e){var n=t.value||"";if(this.error)throw new Error(this.error);return this.regex&&this.regex.test(n)},t.prototype.getErrorMessage=function(){return this.errorMessage||Object(r.f)(i.x.validations.regex,this.playerResources).replace(i.D.REGEX,""+this.regex)},Object.defineProperty(t.prototype,"id",{get:function(){return this.validatorId},enumerable:!0,configurable:!0}),t})(),a=(function(){function t(t,e){this.playerResources=e,this.validatorId=t.id}return t.prototype.validate=function(t,e){return!!t.value},t.prototype.getErrorMessage=function(){return Object(r.f)(i.x.validations.required,this.playerResources)},Object.defineProperty(t.prototype,"id",{get:function(){return this.validatorId},enumerable:!0,configurable:!0}),t})(),c=(function(){function t(t,e){this.playerResources=e,this.validatorId=t.id,this.errorMessage=t.errorMessage,this.errorMessage||(this.error="Missing error message");try{this.validationFunction=new Function("field","context",t.code)}catch(t){this.error="Validator function is not valid: "+t.message}}return t.prototype.validate=function(t,e){if(this.error)throw new Error(this.error);try{return!!this.validationFunction(t,e)}catch(t){throw new Error("Validator function threw an error: "+t.message)}},t.prototype.getErrorMessage=function(){return this.errorMessage||Object(r.f)(i.x.validations.customMessage,this.playerResources)},Object.defineProperty(t.prototype,"id",{get:function(){return this.validatorId},enumerable:!0,configurable:!0}),t})(),u=function(t,e){switch(t.type){case i.E.RequiredValue:return new a(t,e);case i.E.LengthConstraint:return new o(t,e);case i.E.Regex:return new s(t,e);case i.E.Custom:return new c(t,e)}}},function(t,e){t.exports='<div class="top-bar">\r\n  <div class="top-bar__container validations">\r\n    <back-btn [showArrow]="(locked | async) || !(needsSaving | async)" backTo="../../validations">Cancel</back-btn>\r\n    <span class="letznav-panel-title">\r\n      <span class="row-title">{{ (validation | async)?.name || \'No name\' }}</span>\r\n    </span>\r\n    <span class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\r\n    <md-menu #menu="mdMenu">\r\n      <button md-menu-item (click)="onDelete()" [disabled]="editDisabled | async">Delete</button>\r\n    </md-menu>\r\n  </div>\r\n</div>\r\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\r\n\r\n<div class="notification-msg notification-msg--warning delay" [class.active]="(locked | async) && canAnimate">\r\n  <p>Published Validations can not be edited. Switch to DRAFT to make changes.\r\n    <a routerLink="../../edit" routerLinkActive="active">Settings</a>\r\n  </p>\r\n</div>\r\n\r\n<div class="validation-view__container">\r\n  <div class="validation-view__container__overflow" *ngIf="(locked | async)"></div>\r\n\r\n  <div class="validation-view__container__select">\r\n    <div class="validation-view__container__select__picker">\r\n      <form-connected></form-connected>\r\n      <element-picker\r\n        [pickedElementType]="PickedElementType.Spotlight"\r\n        [reselect]="(validation | async)?.inputElement"\r\n        [disabled]="(editDisabled | async) || !(isFormConnected | async)"\r\n        (elementSelected)="onElementSelected($event)"\r\n        (mouseenter)="onShowSelection()"\r\n        (mouseleave)="onHideSelection()"\r\n      >\r\n      </element-picker>\r\n    </div>\r\n  </div>\r\n\r\n  <validation-content [validation]="validation | async" [status]="status | async" [disabled]="editDisabled | async" (validationUpdated)="onUpdated($event)">\r\n  </validation-content>\r\n</div>\r\n\r\n<div *ngIf="!(locked | async)" class="editor-validation" [ngClass]="{\'active\': (needsSaving | async)}">\n  <div class="editor-validation__container">\n    <button class="button-save" (click)="onSubmit()" [disabled]="(disabled | async) || (invalid | async)">Save</button>\r\n  </div>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(10),s=(n.n(o),(function(){function t(){this.validationUpdated=new r.EventEmitter,this.onPaddingInputDebounced=Object(o.debounce)(this.onPaddingInput.bind(this),100)}return t.prototype.onUpdate=function(){this.validationUpdated.emit(Object(o.cloneDeep)(this.validation))},t.prototype.onPaddingInput=function(t){this.validation.indicatorPadding=t.value,this.onUpdate()},t})());i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"validation",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"status",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"validationUpdated",void 0),s=i.c([Object(r.Component)({selector:"validation-content",template:n(1362)}),i.f("design:paramtypes",[])],s)},function(t,e){t.exports='<div class="input-component">\n  <label class="form-label">Name</label>\n  <hr>\n  <input type="text" name="name" placeholder="Name" [(ngModel)]="validation.name" (ngModelChange)="onUpdate()" [disabled]="disabled"/>\n</div>\n\n<div class="validation-content">\n  <label class="form-label">Validators</label>\n  <hr>\n  <validators-list [validators]="validation.validators" [status]="status" (validatorsChange)="onUpdate()" name="validators-list" [disabled]="disabled"></validators-list>\n</div>\n\n<div class="input-component">\n  <label class="form-label">Appearance</label>\n  <hr>\n  <md-checkbox name="showPristineIndicator" [(ngModel)]="validation.showPristineIndicator" (ngModelChange)="onUpdate()" [disabled]="disabled">\n    Show <span class="text-icon--has_validation"></span> icon\n    <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Show icon when field has not been touched yet. (player only)"></i>\n  </md-checkbox>\n\n  <p>Icon Position <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Use the slider below to adjust the icon position."></i></p>\n  <md-slider min="0" max="100" step="5" [ngModel]="validation.indicatorPadding" (input)="onPaddingInputDebounced($event)" [disabled]="disabled"></md-slider>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.validatorsChange=new r.EventEmitter,this.ValidatorType=o.E}return Object.defineProperty(t.prototype,"validators",{get:function(){return this._validators},set:function(t){this._validators=t},enumerable:!0,configurable:!0}),t.prototype.onAdd=function(t){this._validators.push(this.createValidator(t,this._validators.length)),this.onUpdate()},t.prototype.onDelete=function(t){this._validators.splice(t,1),this.onUpdate()},t.prototype.onUpdate=function(){this.validatorsChange.emit(this._validators)},t.prototype.trackByFn=function(t,e){return e.id},t.prototype.getError=function(t){var e=this.status&&this.status.erroneousValidators.find((function(e){return e.id===t.id}));return e&&e.error||null},t.prototype.alreadyAdded=function(t){return(this.validators||[]).some((function(e){return e.type===t}))},t.prototype.createValidator=function(t,e){var n={id:-e-1,type:t};switch(t){case o.E.LengthConstraint:n=i.a({},n,{minLength:null,maxLength:null});break;case o.E.Regex:n=i.a({},n,{regex:""});break;case o.E.Custom:n=i.a({},n,{code:"return true;",errorMessage:""})}return n},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"name",void 0),i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"status",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"validatorsChange",void 0),i.c([Object(r.Input)(),i.f("design:type",Array),i.f("design:paramtypes",[Array])],s.prototype,"validators",null),s=i.c([Object(r.Component)({selector:"validators-list",template:n(1364)})],s)},function(t,e){t.exports='<div class="validators-list">\r\n  <div class="validator-item" *ngFor="let validator of validators; let idx = index; trackBy: trackByFn">\r\n    <validator-view [validator]="validators[idx]" (validatorChange)="onUpdate()" name="validator-{{idx}}" [disabled]="disabled" [error]="getError(validator)">\r\n    </validator-view>\r\n    <a class="validator-item__delete mdi mdi-minus-circle" [ngClass]="{ disabled: disabled }" (click)="!disabled ? onDelete(idx) : null" mdTooltipPosition="above" mdTooltip="Delete Validator"></a>\r\n  </div>\r\n</div>\r\n<div class="validators-list-control">\r\n  <button class="button button-default" title="Add validator" [disabled]="disabled" [mdMenuTriggerFor]="validatorTypeMenu">\r\n    <span class="mdi mdi-plus"></span>Add Validator\r\n  </button>\r\n  <md-menu class="validators-list-control__list" #validatorTypeMenu="mdMenu">\r\n    <button md-menu-item title="Required field" [disabled]="alreadyAdded(ValidatorType.RequiredValue)" (click)="onAdd(ValidatorType.RequiredValue)">\r\n      <validator-icon [validatorType]="ValidatorType.RequiredValue"></validator-icon>Required field\r\n    </button>\r\n    <button md-menu-item title="Length constraint" [disabled]="alreadyAdded(ValidatorType.LengthConstraint)" (click)="onAdd(ValidatorType.LengthConstraint)">\r\n      <validator-icon [validatorType]="ValidatorType.LengthConstraint"></validator-icon>Length constraint\r\n    </button>\r\n    <button md-menu-item title="Regular expression" [disabled]="alreadyAdded(ValidatorType.Regex)" (click)="onAdd(ValidatorType.Regex)">\r\n      <validator-icon [validatorType]="ValidatorType.Regex"></validator-icon>Regular expression\r\n    </button>\r\n    <button md-menu-item title="Custom validator" [disabled]="alreadyAdded(ValidatorType.Custom)" (click)="onAdd(ValidatorType.Custom)">\r\n      <validator-icon [validatorType]="ValidatorType.Custom"></validator-icon>Custom validator\r\n    </button>\r\n  </md-menu>\r\n</div>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.validatorChange=new r.EventEmitter,this.ValidatorType=o.E}return Object.defineProperty(t.prototype,"validator",{get:function(){return this._validator},set:function(t){this._validator=t,this._validator?this.validatorTitle=this.getTitle(this._validator.type):this.validatorTitle=""},enumerable:!0,configurable:!0}),t.prototype.onUpdate=function(){this.validatorChange.emit(this._validator)},t.prototype.showHelp=function(){this.helpVisible=!0},t.prototype.hideHelp=function(){this.helpVisible=!1},t.prototype.getTitle=function(t){switch(t){case o.E.RequiredValue:return"Required field";case o.E.LengthConstraint:return"Length constraint";case o.E.Regex:return"Regular expression";case o.E.Custom:return"Custom validator"}},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"name",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"error",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"validatorChange",void 0),i.c([Object(r.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],s.prototype,"validator",null),s=i.c([Object(r.Component)({selector:"validator-view",template:n(1366)})],s)},function(t,e){t.exports='<validator-icon [validatorType]="validator?.type"></validator-icon>\r\n<collapsable-panel [title]="validatorTitle" [collapsed]="false" [ngClass]="(\'validator-type-\' + validator?.type)">\r\n  <div class="panel-properties" [ngSwitch]="validator?.type">\r\n\r\n    <div class="validator-required" *ngSwitchCase="ValidatorType.RequiredValue"></div>\r\n\r\n    <div class="validator-length" *ngSwitchCase="ValidatorType.LengthConstraint">\r\n      <div class="validator-length__form">\r\n        <div class="input-component">\r\n          <input type="number" name="{{name}}-min-length" placeholder="Min. length" min="0"  [(ngModel)]="validator.minLength" (ngModelChange)="onUpdate()"\r\n            [disabled]="disabled" [class.invalid]="!!error"/>\r\n        </div>\r\n        <div class="input-component">\r\n          <input type="number" name="{{name}}-max-length" placeholder="Max. length"  min="0"  [(ngModel)]="validator.maxLength" (ngModelChange)="onUpdate()"\r\n            [disabled]="disabled" [class.invalid]="!!error"/>\r\n        </div>\r\n      </div>\r\n      <div class="custom-error-msg" *ngIf="error"><i class="mdi mdi-alert-circle"></i> {{ error }}</div>\r\n    </div>\r\n\r\n    <div class="validator-regex" *ngSwitchCase="ValidatorType.Regex">\r\n      <div class="input-component">\r\n        <input type="text" name="{{name}}-regex" placeholder="Regular expression" [(ngModel)]="validator.regex" (ngModelChange)="onUpdate()"\r\n          [disabled]="disabled" [class.invalid]="!!error"/>\r\n      </div>\r\n      <div class="input-component">\r\n        <input type="text" name="{{name}}-error" placeholder="Enter error message" [(ngModel)]="validator.errorMessage" (ngModelChange)="onUpdate()" [disabled]="disabled" required/>\r\n      </div>\r\n      <div class="custom-error-msg" *ngIf="error"><i class="mdi mdi-alert-circle"></i> {{ error }}</div>\r\n    </div>\r\n\r\n    <div class="validator-custom" *ngSwitchCase="ValidatorType.Custom">\r\n      <div class="input-component">\r\n        <div class="validator-custom-function-definition function-header">\r\n          <span class="highlight-blue">function</span> validate(<span class="highlight-green">field</span>, <span class="highlight-green">context</span>) &#123;\r\n        </div>\r\n        <div class="textarea-container">\r\n          <span class="validator-custom-show-help" (mouseenter)="showHelp()" (mouseleave)="hideHelp()">\r\n            <i class="mdi mdi-help-circle-outline"></i>\r\n          </span>\r\n          <div class="validator-custom-help" *ngIf="helpVisible">\r\n          <pre>\x3c!--\r\n          --\x3e<span class="highlight-fuccia">field</span>: &#123;<br>\x3c!--\r\n          --\x3e  <span class="highlight-green">name</span>: string;<br>\x3c!--\r\n          --\x3e  <span class="highlight-green">value</span>: string;<br>\x3c!--\r\n          --\x3e  <span class="highlight-green">valueState</span>: number;<br>\x3c!--\r\n          --\x3e    <span class="highlight-grey"><i>// 0 = pristine; 1 = Dirty</i></span><br>\x3c!--\r\n          --\x3e  <span class="highlight-green">fieldState</span>: number;<br>\x3c!--\r\n          --\x3e    <span class="highlight-grey"><i>// 0 = untouched; 1 = touched</i></span><br>\x3c!--\r\n          --\x3e&#125;<br>\x3c!--\r\n\r\n          --\x3e<span class="highlight-fuccia">context</span>: &#123;<br>\x3c!--\r\n          --\x3e  <span class="highlight-green">formFields</span>: array of fields<br>\x3c!--\r\n          --\x3e&#125;<br>\x3c!--\r\n\r\n          --\x3e<span class="highlight-blue">return <span class="highlight-orange">true</span> if</span> validation passed;<br>\x3c!--\r\n          --\x3efalse otherwise\x3c!--\r\n          --\x3e</pre>\r\n          </div>\r\n          <textarea name="{{name}}-code" placeholder="Custom function body" [(ngModel)]="validator.code" (ngModelChange)="onUpdate()"\r\n            [disabled]="disabled" [class.invalid]="!!error">\r\n          </textarea>\r\n        </div>\r\n        <div class="validator-custom-function-definition function-footer">\r\n          &#125;\r\n        </div>\r\n      </div>\r\n      <div class="input-component">\r\n        <input type="text" name="{{name}}-error" placeholder="Enter error message" [(ngModel)]="validator.errorMessage" (ngModelChange)="onUpdate()" [disabled]="disabled" required/>\r\n      </div>\r\n      <div class="custom-error-msg" *ngIf="error"><i class="mdi mdi-alert-circle"></i> {{ error }}</div>\r\n    </div>\r\n  </div>\r\n</collapsable-panel>\r\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.ValidatorType=o.E}return t})();i.c([Object(r.Input)(),i.f("design:type",Number)],s.prototype,"validatorType",void 0),s=i.c([Object(r.Component)({selector:"validator-icon",template:n(1368)})],s)},function(t,e){t.exports='<span class="validator-icon"\r\n  [class.validator-icon__req]="validatorType === ValidatorType.RequiredValue"\r\n  [class.validator-icon__length]="validatorType === ValidatorType.LengthConstraint"\r\n  [class.validator-icon__regex]="validatorType === ValidatorType.Regex"\r\n  [class.validator-icon__custom]="validatorType === ValidatorType.Custom"\r\n>\r\n</span>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return g}));var i,r=n(0),o=n(19),s=n(3),a=n(100),c={validation:null,validationInitial:null,isSaving:!1,deleteOnCancel:!1,ignoreSaving:!1},u=function(t,e){return r.a({},t,{validation:e,validationInitial:e})},d=function(t,e){return r.a({},t,{deleteOnCancel:e})},l=function(t,e){return r.a({},t,{validation:e})},p=Object(s.Q)(a.c,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{validation:e,validationInitial:e,isSaving:!1})},failed:function(t){return r.a({},t,{isSaving:!1})}}),f=Object(s.Q)(a.b,{succeeded:function(t){return r.a({},t,{ignoreSaving:!0,deleteOnCancel:!1})}}),h=function(t,e){return/validation\/[0-9]+/.test(e.path)?t:c},b=function(){return c},m=r.a({},p,f,(i={},i[a.e]=u,i[a.f]=l,i[a.d]=d,i[o.c.UPDATE_LOCATION]=h,i[a.a]=b,i)),g=Object(s._3)(m,c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(8),s=n(19),a=n(4),c=n(10),u=(n.n(c),n(3)),d=n(12),l=n(32),p=n(63),f=n(100),h=n(341),b=n(45),m=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.saveValidation$=this.action$.ofType(f.c.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,a;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,7]),t=Object(d.a)(s),e=Object(b.a)(s),r=Object(c.cloneDeep)(Object(h.g)(s)),[4,o(this.backendService.saveValidation(t.id,e.id,r.id,t.defaultLocaleId,r))];case 1:return r=i.sent(),[4,n(f.c.succeeded(r))];case 2:return i.sent(),[4,n(Object(f.h)(!1))];case 3:return i.sent(),[4,n(Object(p.s)(r))];case 4:return i.sent(),[3,7];case 5:return a=i.sent(),[4,n(f.c.failed(a))];case 6:return i.sent(),[3,7];case 7:return[2]}}))}))})),this.deleteValidation$=this.action$.ofType(f.b.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,o=t.put,a=e[0],c=a.skipDialog,u=a.redirect,d=e[1];return i.b(r,void 0,void 0,(function(){var t,e,r,a,l;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=Object(b.a)(d),e=Object(h.g)(d),[4,o(p.f.init({validation:e,skipDialog:c}))];case 1:return i.sent(),[4,n((l=this.action$).ofType.apply(l,p.f.RESULT_ACTIONS).take(1))];case 2:return r=i.sent(),r.type===p.f.SUCCEEDED?[3,4]:[4,o(f.b.canceled())];case 3:return i.sent(),[2];case 4:return[4,o(f.b.succeeded())];case 5:return i.sent(),u?[4,o(Object(s.b)("admin/form/"+t.id+"/"))]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,10];case 8:return a=i.sent(),[4,o(f.b.failed(a))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}))})),this.stateRestored$=this.action$.ofType(l.b).map(o.d).filter((function(t){return t.path===h.a})).map((function(t){var e=t.state;return Object(f.j)(e)}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],m.prototype,"saveValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],m.prototype,"deleteValidation$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],m.prototype,"stateRestored$",void 0),m=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,u.f,a.f])],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(100)),c=n(62),u=(function(){function t(t){this.store=t}return t.prototype.resolve=function(t){var e=this;return Object(s.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s;return i.e(this,(function(i){switch(i.label){case 0:return e=+t.params.validationId,[4,r(this.store.select(c.l).skipWhile((function(t){return!t})).take(1))];case 1:if(n=i.sent(),!(s=n.find((function(t){return t.id===e}))))throw new Error("Cannot find validation "+e);return[4,o(Object(a.i)(s))];case 2:return i.sent(),[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],u)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(21)),u=n(341),d=n(100),l=n(97),p=(function(){function t(t,e,n){this.store=t,this.actions=e,this.dialogs=n}return t.prototype.canDeactivate=function(t){var e=this;return Object(a.corx)((function(t){var n=t.get,r=t.put;return i.b(e,void 0,void 0,(function(){var t,e,o,s,a;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(u.e).skipWhile((function(t){return t})).take(1))];case 1:return i.sent(),[4,n(this.store.select(c.h).take(1))];case 2:return t=i.sent(),t&&this.store.dispatch(Object(c.d)()),[4,n(this.store.select(u.b).take(1))];case 3:return e=i.sent(),[4,n(this.store.select(u.f).take(1))];case 4:return o=i.sent(),o||e?[3,6]:[4,r(!0)];case 5:return i.sent(),[2];case 6:return[4,n(this.dialogs.showDialog(l.c.CancelValidation))];case 7:return(s=i.sent())!==l.a.Discard?[3,9]:e?(this.store.dispatch(d.b.init({skipDialog:!0})),[4,n((a=this.actions).ofType.apply(a,d.b.RESULT_ACTIONS).take(1))]):[3,9];case 8:i.sent(),i.label=9;case 9:return[4,r(s!==l.a.Cancel)];case 10:return i.sent(),[2]}}))}))}))},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a,l.b])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(1374),r=n(1376),o=[i.a,r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(21),s=(function(){function t(){this.addAnchor=new r.EventEmitter,this.removeAnchor=new r.EventEmitter,this.higlightAnchor=new r.EventEmitter,this.hideAnchorHighlight=new r.EventEmitter,this.PickedElementType=o.b}return Object.defineProperty(t.prototype,"anchorsStrength",{get:function(){var t=this.anchorsState&&this.anchorsState.length||0;return t<=4?20*t:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorsStrengthTitle",{get:function(){var t=this.anchorsStrength;return t<40?"Weak":t<80?"Moderate":"Strong"},enumerable:!0,configurable:!0}),t.prototype.onAddAnchor=function(t){this.addAnchor.emit(t)},t.prototype.onHighlightAnchors=function(){this.higlightAnchor.emit()},t.prototype.onHideAnchorsHighlight=function(){this.hideAnchorHighlight.emit()},t.prototype.onHighlightAnchor=function(t){this.higlightAnchor.emit(t)},t.prototype.onRemoveAnchor=function(t){this.disabled||this.removeAnchor.emit(t)},t})();i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"anchorsState",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"conflictingSteps",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],s.prototype,"addAnchor",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],s.prototype,"removeAnchor",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],s.prototype,"higlightAnchor",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],s.prototype,"hideAnchorHighlight",void 0),s=i.c([Object(r.Component)({selector:"anchor-elements",template:n(1375)})],s)},function(t,e){t.exports='<div class="flow-step-pivot-elements">\n  <div class="anchors__container" (mouseenter)="onHighlightAnchors()" (mouseleave)="onHideAnchorsHighlight()">\n    <ul class="anchors__container__list">\n      <li class="anchors__container__list__item" *ngFor="let anchor of anchorsState; let idx = index">\n        <anchor-state [anchorState]="anchor"></anchor-state>\n        <a\n          class="anchors__container__list__item__delete mdi mdi-minus-circle"\n          [class.disabled]="disabled"\n          mdTooltipPosition="above"\n          mdTooltip="Remove Anchor"\n          (click)="onRemoveAnchor(idx)"\n          (mouseenter)="onHighlightAnchor(idx)"\n          (mouseleave)="onHighlightAnchors()"\n        >\n        </a>\n      </li>\n      <element-picker [disabled]="disabled" [pickedElementType]="PickedElementType.Anchor" (elementSelected)="onAddAnchor($event)" mdTooltipPosition="above" mdTooltip="Add new Anchor point"></element-picker>\n    </ul>\n    <span class="anchors__container__strength">Identification Strength: {{ anchorsStrengthTitle }}</span>\n    <div class="anchors__container__progress-bar">\n      <div class="progress progress-{{ anchorsStrength }}"></div>\n    </div>\n  </div>\n\n  <div class="flow-step-need-pivot" *ngIf="conflictingSteps && conflictingSteps.length > 0">\n    <i class="mdi mdi-alert-octagram mdi-24px"></i>\n    <span>\n      Sorry, with the information we currently have, we cannot distinguish this location from the other ones.\n      Can you please pick one or multiple elements that are not in the other locations but are guaranteed to be here?\n    </span>\n    <h4>Conflicting steps</h4>\n    <ul class="pivot-conflicting-steps">\n      <li *ngFor="let step of conflictingSteps">{{ step.title || \'No title\' }}</li>\n    </ul>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(29),s=(function(){function t(){this.CheckStateValues=o.a}return Object.defineProperty(t.prototype,"anchorState",{get:function(){return this._anchorState},set:function(t){switch(this._anchorState=t,this._anchorState){case o.a.Present:this.stateTooltip="OK";break;case o.a.NotVisible:this.stateTooltip="Element is not visible";break;case o.a.NotPresent:this.stateTooltip="Element not found";break;default:this.stateTooltip="Not checked yet"}},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],s.prototype,"anchorState",null),s=i.c([Object(r.Component)({selector:"anchor-state",template:n(1377)})],s)},function(t,e){t.exports='<i\n  class="mdi mdi-18px"\n  [class.mdi-check]="anchorState === CheckStateValues.Present"\n  [class.mdi-alert-circle-outline]="anchorState === CheckStateValues.NotVisible"\n  [class.mdi-close]="anchorState === CheckStateValues.NotPresent"\n  [class.mdi-help]="anchorState === CheckStateValues.NotChecked"\n  [title]="stateTooltip"\n>\n</i>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u}));var i=n(3),r=function(t){return t.badgeForms},o=function(t){return r(t).forms},s=function(t){var e=o(t),n=a(t);return e?n.trim().length<2?e.map((function(t){return{item:t}})):Object(i.N)(e,n):null},a=function(t){return r(t).searchText},c=function(t){return r(t).badgeType},u=function(t){var e=o(t);return e&&e.length}},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container home" [ngClass]="{ \'launchers\': ((badgeType | async) === BadgeType.Launcher), \'tooltips\': ((badgeType | async) === BadgeType.NavTip), \'announcements\': ((badgeType | async) === BadgeType.Announcement) }">\n    <back-btn backTo="admin"></back-btn>\n    <span class="letznav-panel-title">{{getBadgeTypeString(badgeType | async)}}s</span>\n    <a *ngIf="canCreateMore | async" class="top-bar__container__newbtn" title="Create New Form" routerLink="../../form/add/{{(badgeType|async)}}" routerLinkActive="active"></a>\n  </div>\n</div>\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="!(canCreateMore | async) && canAnimate">\n  <p>You have reached maximum number of Forms on your Demo account.</p>\n</div>\n\n<div [ngClass]="{ \'launcher-list--empty\': ((badgeType | async) === BadgeType.Launcher), \'tooltip-list--empty\': ((badgeType | async) === BadgeType.NavTip), \'announcement-list--empty\': ((badgeType | async) === BadgeType.Announcement) }" *ngIf="(formCount | async) === 0">\n  <div class="icon"></div>\n  <p>Hmm, looks like you don’t have any Forms yet.</p>\n  <a class="button button-default" title="Create New Form" routerLink="../../form/add/{{(badgeType|async)}}"  routerLinkActive="active">Create New Form</a>\n</div>\n\n<div class="letznav-search-bar" *ngIf="(formCount | async) > 0">\n  <input type="text" name="search" placeholder="Search Forms" [ngModel]="searchText | async" (ngModelChange)="onSearch($event)"/>\n  <a class="letznav-search-bar__icon" [ngClass]="{ clear: ((searchText | async) !== \'\') }" (click)="onClearSearch()"></a>\n</div>\n\n<div class="form-list" infiniteScroll [scrollWindow]="false" (scrolled)="loadForms()">\n  <badge-form-row *ngFor="let item of (displayedForms | async)" [item]="item" [badgeType]="badgeType|async"></badge-form-row>\n\n  <div class="form-list-number" *ngIf="(forms | async)?.length > 0">{{ (forms | async)?.length }} Form(s)</div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(23),s=n(3),a=(function(){function t(t){this.sanitizer=t,this.FormDeployment=s.s}return Object.defineProperty(t.prototype,"formName",{get:function(){return this.item.tokens&&this.item.tokens.length?this.sanitizer.bypassSecurityTrustHtml(Object(s._1)(this.item)):this.form.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"form",{get:function(){return this.item.item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasStatus",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPublished",{get:function(){return this.form.deployment===s.s.Published},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReady",{get:function(){return this.form.deployment===s.s.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraft",{get:function(){return this.form.deployment===s.s.Draft},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"item",void 0),i.c([Object(r.Input)(),i.f("design:type",Number)],a.prototype,"badgeType",void 0),i.c([Object(r.HostBinding)("class.status"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"hasStatus",null),i.c([Object(r.HostBinding)("class.status-published"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isPublished",null),i.c([Object(r.HostBinding)("class.status-ready"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isReady",null),i.c([Object(r.HostBinding)("class.status-draft"),i.f("design:type",Boolean),i.f("design:paramtypes",[])],a.prototype,"isDraft",null),a=i.c([Object(r.Component)({selector:"badge-form-row",template:n(1381)}),i.f("design:paramtypes",[o.c])],a)},function(t,e){t.exports='<div class="base-row"  routerLink="../../badge-form/{{badgeType}}/{{form.id}}/badges"routerLinkActive="active">\n  <span class="status__dot" mdTooltipPosition="right" [mdTooltip]="FormDeployment[form.deployment]"></span>\n  <span [innerHtml]="formName"></span>\n</div>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(12),u=n(342),d=(function(){function t(t,e,n){var r=this;this.action$=t,this.backendService=e,this.store=n,this.loadForm$=this.action$.ofType(u.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,o=t.get,s=(e[0],e[1]);return i.b(r,void 0,void 0,(function(){var t,e,r,d,l;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(c.a)(s),[4,o(this.backendService.getForms(t.id))];case 1:return e=i.sent(),r=window.location.href,d=[a.s.Published],r.startsWith(t.preProdUrl)&&t.preProdUrl!==t.rootUrl&&d.push(a.s.Ready),e=e.filter((function(t){return-1!==d.indexOf(t.deployment)})),[4,n(u.a.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return l=i.sent(),[4,n(u.a.failed())];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],d.prototype,"loadForm$",void 0),d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.f,s.f])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(8)),c=n(12),u=n(74),d=n(342),l=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(t){var e=this,n=+t.params.type;return Object(s.corx)((function(t){var r=t.get,o=t.put;return i.b(e,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,o(Object(u.k)(n))];case 1:return e.sent(),[4,r(this.store.select(c.a).takeWhile((function(t){return!t})))];case 2:return e.sent(),[4,o(d.a.init(n))];case 3:return e.sent(),[4,r((t=this.actions$).ofType.apply(t,d.a.RESULT_ACTIONS).take(1))];case 4:return e.sent(),[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,a.a])],l)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var i,r=n(0),o=n(3),s=n(342),a={forms:null,searchText:"",badgeType:null},c=Object(o.Q)(s.a,{init:function(t,e){return r.a({},t,{badgeType:e})},succeeded:function(t,e){return r.a({},t,{forms:e})},failed:function(t){return r.a({},t)}}),u=function(t,e){return r.a({},t,{searchText:e})},d=r.a((i={},i[s.b]=u,i),c),l=Object(o._3)(d,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(4),o=n(1),s=n(6),a=(n.n(s),n(480)),c=(function(){function t(t){this.store=t,this.flowIdChange=new o.EventEmitter,this.stepIdChange=new o.EventEmitter,this._flowId=new s.BehaviorSubject(0),this._stepId=new s.BehaviorSubject(0),this._disabled=new s.BehaviorSubject(!1)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled.getValue()},set:function(t){this._disabled.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flowId",{get:function(){return this._flowId.getValue()},set:function(t){this._flowId.next(t),this.flowIdChange.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepId",{get:function(){return this._stepId.getValue()},set:function(t){this._stepId.next(t),this.stepIdChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject,this.isFiltering=this.store.select(a.c).takeUntil(this.ngUnsubscribe),this.flows=this.store.select(a.a).takeUntil(this.ngUnsubscribe),this.steps=s.Observable.combineLatest(this.flows,this._flowId).map((function(t){var e=t[0],n=t[1];if(!e)return[];var i=e.find((function(t){return t.id===n}));return i&&i.steps||[]})),this.isDisabled=s.Observable.combineLatest(this.isFiltering,this._disabled).map((function(t){var e=t[0],n=t[1];return e||n}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();i.c([Object(o.Input)(),i.f("design:type",Boolean),i.f("design:paramtypes",[Boolean])],c.prototype,"disabled",null),i.c([Object(o.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],c.prototype,"flowId",null),i.c([Object(o.Output)(),i.f("design:type",Object)],c.prototype,"flowIdChange",void 0),i.c([Object(o.Input)(),i.f("design:type",Number),i.f("design:paramtypes",[Number])],c.prototype,"stepId",null),i.c([Object(o.Output)(),i.f("design:type",Object)],c.prototype,"stepIdChange",void 0),c=i.c([Object(o.Component)({selector:"pick-flow-and-step",template:n(1386)}),i.f("design:paramtypes",[r.f])],c)},function(t,e){t.exports='<div *ngIf="(isFiltering | async)">\n  Filtering...\n</div>\n\n<md-select class="select-component" placeholder="Select Workflow" name="flowId" [(ngModel)]="flowId" [disabled]="isDisabled | async">\n  <md-option *ngFor="let flow of (flows | async)" [value]="flow.id">{{ flow.name }}</md-option>\n</md-select>\n\n<md-select class="select-component" placeholder="Select Step" name="stepId" [(ngModel)]="stepId" [disabled]="isDisabled | async">\n  <md-option *ngFor="let step of (steps | async)" [value]="step.id">{{ step.index }}. {{ step.title ? step.title : \'No Title\' }}</md-option>\n</md-select>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(6),c=(n.n(a),n(3)),u=n(11),d=n(344),l=n(45),p=n(480),f=n(1388),h=(function(){function t(t,e,n,r){var o=this;this.action$=t,this.backendService=e,this.store=n,this.messages=r,this.filterFlowsTrigger$=a.Observable.combineLatest(this.store.select(l.e),this.store.select(p.d)).debounceTime(100).switchMap((function(t){var e=t[0],n=t[1];return e&&n?a.Observable.of(d.a.init()):a.Observable.empty()})),this.filterFlows$=this.action$.ofType(d.a.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get;e[0],e[1];return i.b(o,void 0,void 0,(function(){var t,e,o;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=new f.a(this.backendService,this.store,this.messages),[4,r(t.filterFlows())];case 1:return e=i.sent(),[4,n(d.a.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return o=i.sent(),[4,n(d.a.failed(o))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"filterFlowsTrigger$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"filterFlows$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,s.f,u.e])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(6),o=(n.n(r),n(16)),s=(n.n(o),n(10)),a=(n.n(s),n(12)),c=n(11),u=n(29),d=n(480),l=n(344),p=(function(){function t(t,e,n){this.backendService=t,this.store=e,this.messages=n}return t.prototype.filterFlows=function(){var e=this;return Object(o.corx)((function(n){var r=n.get,o=(n.put,n.chain);return i.b(e,void 0,void 0,(function(){var e,n,s,c;return i.e(this,(function(i){switch(i.label){case 0:return[4,r(this.store.take(1))];case 1:return e=i.sent(),this.appId=Object(a.a)(e).id,this.checkId=t.nextCheckId++,[4,r(this.checkMilestones())];case 2:return n=i.sent(),s=this.mergeResultsFromFrames(n),c=this.filterFlowsAndMilestones(s),[4,o(this.obtainFlowsAndSteps(c))];case 3:return i.sent(),[2]}}))}))}))},t.prototype.checkMilestones=function(){var t=this;return Object(o.corx)((function(e){var n=e.get,o=e.put;return i.b(t,void 0,void 0,(function(){var t,e,s=this;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(d.b).take(1))];case 1:return t=i.sent(),t?[3,3]:[4,n(this.backendService.getFlowsMilestone(this.appId))];case 2:t=i.sent(),this.store.dispatch(Object(l.g)(t)),i.label=3;case 3:return setTimeout((function(){return s.messages.sendMessage({type:c.b.FilterFlows,checkId:s.checkId,milestones:t})}),0),e=[],[4,n(r.Observable.race(this.messages.ofType(c.b.FilterFlowsResult).filter((function(t){return t.checkId===s.checkId})).do((function(t){return e.push(t)})).debounceTime(2e3).take(1),r.Observable.timer(5e3)))];case 4:if(i.sent(),0===e.length)throw new Error("Cannot reach the frames");return[4,o(e)];case 5:return i.sent(),[2]}}))}))}))},t.prototype.mergeResultsFromFrames=function(t){return s.mergeWith.apply(s,[{}].concat(t,[function(e,n,i){if("pivots"===i&&e&&n){if(e.length!==n.length)throw new Error("Inconsistent result "+JSON.stringify(t));for(var r=[],o=0;o<e.length;o++){var s=e[o],a=n[o];r.push(s!==u.a.NotChecked?s:a)}return r}}]))},t.prototype.filterFlowsAndMilestones=function(t){for(var e={flows:[]},n=0,i=t.result;n<i.length;n++){var r=i[n],o=r.steps.filter((function(t){return t.pivots.every((function(t){return t===u.a.Present}))}));o.length&&e.flows.push({id:r.id,presentMilestones:o})}return e},t.prototype.obtainFlowsAndSteps=function(t){var e=this;return Object(o.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a,c,u;return i.e(this,(function(i){switch(i.label){case 0:return 0!==t.flows.length?[3,2]:[4,o([])];case 1:return i.sent(),[2];case 2:return e=t.flows.map((function(t){return t.id})),[4,r(this.backendService.getFlowsSimple(this.appId,e))];case 3:for(n=i.sent(),s=function(e){var n=t.flows.find((function(t){return t.id===e.id})),i=!1;e.steps=e.steps.filter((function(t,e){return t.isMilestone&&(i=n.presentMilestones.some((function(e){return e.id===t.id}))),t.index=e+1,i}))},a=0,c=n;a<c.length;a++)u=c[a],s(u);return[4,o(n)];case 4:return i.sent(),[2]}}))}))}))},t})();p.nextCheckId=0},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return f}));var i,r=n(0),o=n(3),s=n(344),a={isFilteringOn:!1,isFiltering:!1,flows:null,flowsMilestones:null},c=Object(o.Q)(s.a,{init:function(t){return r.a({},t,{isFiltering:!0})},succeeded:function(t,e){return t.isFilteringOn?r.a({},t,{flows:e,isFiltering:!1}):t},failed:function(t){return r.a({},t,{isFiltering:!1})}}),u=function(t){return r.a({},t,{isFilteringOn:!0})},d=function(t){return a},l=function(t,e){return r.a({},t,{flowsMilestones:e})},p=r.a({},c,(i={},i[s.c]=u,i[s.b]=d,i[s.d]=l,i)),f=Object(o._3)(p,a)},function(t,e){t.exports="<router-outlet></router-outlet>\n\n"},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container" [ngClass]="{ \'launchers\': (badgeType === BadgeType.Launcher), \'tooltips\': (badgeType === BadgeType.NavTip), \'announcements\': (badgeType === BadgeType.Announcement) }">\n    <back-btn backTo="../../../../../admin/badge-forms/{{badgeType}}"></back-btn>\n    <span class="letznav-panel-title">{{ form?.name }}</span>\n    <span class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n    <md-menu #menu="mdMenu">\n      <button md-menu-item routerLink="/admin/badge-form/{{badgeType}}/{{form?.id}}/edit" routerLinkActive="active" class="button-save" [disabled]="disabled">Settings</button>\n      <button md-menu-item (click)="onDeleteForm()" [disabled]="disabled || locked">Delete</button>\n    </md-menu>\n  </div>\n</div>\n<animation-trigger (canAnimate)="canAnimate=true"></animation-trigger>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="locked && canAnimate">\n  <p>Published {{getBadgeTypeString(badgeType)}} can not be edited. Switch to DRAFT to make changes.\n    <a [routerLink]="[\'..\', \'edit\']" routerLinkActive="active">Settings</a>\n  </p>\n</div>\n\n<div class="validation-list">\n  <form-connected></form-connected>\n\n  <div>\n    <div  class="validation-item" *ngFor="let badge of badges">\n      <div class="validation-item__container" [routerLink]="[\'..\', \'badge\', badge.id]" routerLinkActive="active">\n        <span class="row-title">{{ badge.name }} <i *ngIf="!badge.name">No name</i></span>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf="!locked" class="validation-item add-validation" [class.disabled]="disabled || !isFormConnected">\n    <div (click)="(!disabled && isFormConnected) ? onAdd() : null">\n      <span class="row-number">+</span> <span class="row-title">Add New {{BadgeType[badgeType]}}</span>\n    </div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return g}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(74),c={badges:[],badgesOperation:!1,badgeType:null},u=Object(s.Q)(a.f,{init:function(t){return r.a({},t,{form:null,badges:null})},succeeded:function(t,e){return r.a({},t,{form:e})}}),d=Object(s.Q)(a.e,{init:function(t){return r.a({},t,{badges:null})},succeeded:function(t,e){return r.a({},t,{badges:e})}}),l=function(t,e){return r.a({},t,{badges:Object(o.sortBy)(t.badges.map((function(t){return t.id===e.id?e:t})),["name"])})},p=Object(s.Q)(a.c,{init:function(t){return r.a({},t,{badgesOperation:!0})},succeeded:function(t,e){return r.a({},t,{badgesOperation:!1,badges:t.badges.filter((function(t){return t.id!==e.id}))})},failed:function(t){return r.a({},t,{badgesOperation:!1})},canceled:function(t){return r.a({},t,{badgesOperation:!1})}}),f=Object(s.Q)(a.b,{init:function(t){return r.a({},t,{badgesOperation:!0})},succeeded:function(t,e){return r.a({},t,{badgesOperation:!1,badges:t.badges.concat([e])})},failed:function(t){return r.a({},t,{badgesOperation:!1})}}),h=function(t,e){return r.a({},t,{badgeType:e})},b=function(){return c},m=r.a({},u,d,p,f,(i={},i[a.g]=l,i[a.h]=h,i[a.a]=b,i)),g=Object(s._3)(m,c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(19),c=n(3),u=n(12),d=n(97),l=n(74),p=n(102),f=n(45),h=(function(){function t(t,e,n,r){var s=this;this.action$=t,this.backendService=e,this.dialogService=n,this.store=r,this.loadForm$=this.action$.ofType(l.f.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],a=e[1];return i.b(s,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(a),[4,r(this.backendService.getForm(t.id,o.payload))];case 1:return e=i.sent(),[4,n(l.f.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,n(l.f.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.loadBadge$=this.action$.ofType(l.e.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=(e[0],e[1]);return i.b(s,void 0,void 0,(function(){var t,e,s,a,d;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(u.a)(o),e=Object(f.a)(o),s=Object(p.a)(o),[4,r(this.backendService.getBadges(t.id,e.id,s,t.defaultLocaleId))];case 1:return a=i.sent(),a=a.map((function(t){if(t.type!==c.g.Announcement)return t;var e=t;return e.fromDate&&"string"==typeof e.fromDate&&(e.fromDate=new Date(e.fromDate)),e.toDate&&"string"==typeof e.toDate&&(e.toDate=new Date(e.toDate)),e})),[4,n(l.e.succeeded(a))];case 2:return i.sent(),[3,5];case 3:return d=i.sent(),[4,n(l.e.failed(d))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.createBadge$=this.action$.ofType(l.b.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],c=e[1];return i.b(s,void 0,void 0,(function(){var t,e,s,d,h;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,7]),t=Object(u.a)(c),e=Object(f.a)(c),s=Object(p.a)(c),[4,r(this.backendService.createBadge(t.id,e.id,s))];case 1:return d=i.sent(),[4,n(l.b.succeeded(d))];case 2:return i.sent(),o.redirect?[4,n(Object(a.b)("admin/badge-form/"+s+"/"+e.id+"/badge/"+d.id))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[3,7];case 5:return h=i.sent(),[4,n(l.b.failed(h))];case 6:return i.sent(),[3,7];case 7:return[2]}}))}))})),this.deleteBadge$=this.action$.ofType(l.c.INIT).map(o.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,r=t.get,o=e[0],a=e[1];return i.b(s,void 0,void 0,(function(){var t,e,s,h,b;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,8]),t=Object(p.a)(a),!0===o.skipDialog?[3,3]:[4,r(this.dialogService.showDialog(d.c.DeleteCancelDialog,{message:"Are you sure you want to delete the "+Object(c.S)(t)+'\n             "'+o.badge.name+'"?. This action cannot be undone.'}))];case 1:return e=i.sent(),e===d.a.Delete?[3,3]:[4,n(l.c.canceled())];case 2:return i.sent(),[2];case 3:return s=Object(u.a)(a),h=Object(f.a)(a),[4,r(this.backendService.deleteBadge(s.id,h.id,t,o.badge.id))];case 4:return i.sent(),[4,n(l.c.succeeded(o.badge))];case 5:return i.sent(),[3,8];case 6:return b=i.sent(),[4,n(l.c.failed(b))];case 7:return i.sent(),[3,8];case 8:return[2]}}))}))}))}return t})();i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loadForm$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"loadBadge$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"createBadge$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],h.prototype,"deleteBadge$",void 0),h=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,c.f,d.b,s.f])],h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(74)),u=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(t){var e=this;return Object(a.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a;return i.e(this,(function(i){switch(i.label){case 0:return[4,o(Object(c.k)(+t.params.type))];case 1:return i.sent(),[4,o(c.f.init(t.params.formId))];case 2:return i.sent(),[4,r((s=this.actions$).ofType.apply(s,c.f.RESULT_ACTIONS).take(1))];case 3:if(e=i.sent(),e.type===c.f.FAILED)throw e.payload;return[4,o(c.e.init())];case 4:return i.sent(),[4,r((a=this.actions$).ofType.apply(a,c.e.RESULT_ACTIONS).take(1))];case 5:if(n=i.sent(),n.type===c.e.FAILED)throw n.payload;return[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();u=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],u)},function(t,e){t.exports='<div class="badge-view__container__select">\n  <div class="badge-view__container__select__picker">\n    <element-picker [disabled]="disabled || !isFormConnected" [pickedElementType]="PickedElementType.Element" [reselect]="launcher?.element?.selector"\n      (elementSelected)="onElementSelected($event)" (mouseenter)="onShowSelection()" (mouseleave)="onHideSelection()">\n    </element-picker>\n\n    <div class="tooltip-preview">\n      <div class="letznav-dialog letznav-tooltip letznav-element letznav-enabled letznav-arrow-vertical letznav-target-attached-top letznav-element-attached-bottom letznav-target-attached-center letznav-element-attached-center letznav-design--original">\n        <div class="letznav-content">\n          <div class="letznav-text">\n            <rich-text-editor class="input-rich-text" name="hoverMessage" elementId="launcherHoverMessage" [disabled]="disabled" [(ngModel)]="launcher.hoverMessage"\n              (ngModelChange)="onUpdate()">\n            </rich-text-editor>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="input-component">\n  <label class="form-label">Name</label>\n  <hr>\n  <input type="text" name="name" placeholder="Name" [disabled]="disabled" [(ngModel)]="launcher.name" (ngModelChange)="onUpdate()"\n  />\n</div>\n\n<div class="input-component launcher-options">\n  <label class="form-label">Launcher Options</label>\n  <hr>\n  <md-button-toggle-group #group="mdButtonToggleGroup" [(ngModel)]="launcher.launcherType" (ngModelChange)="onUpdate()">\n    <md-button-toggle class="launch_workflow" [disabled]="disabled || !isFormConnected" [value]="LauncherType.Flow" mdTooltipPosition="above"\n      mdTooltip="Launch a Workflow">\n    </md-button-toggle>\n    <md-button-toggle class="launch_video" [disabled]="disabled" [value]="LauncherType.Video" mdTooltipPosition="above" mdTooltip="Launch a Video">\n    </md-button-toggle>\n    <md-button-toggle class="launch_link" [disabled]="disabled" [value]="LauncherType.URL" mdTooltipPosition="above" mdTooltip="Launch a Link">\n    </md-button-toggle>\n  </md-button-toggle-group>\n</div>\n\n<div [ngSwitch]="launcher.launcherType">\n  <div *ngSwitchCase="LauncherType.Flow">\n    <div class="input-component">\n      <label class="form-label">Launch a Workflow</label>\n      <hr>\n      <pick-flow-and-step [disabled]="disabled || !isFormConnected" [(flowId)]="launcher.flowId" (flowIdChange)="onUpdate()" [(stepId)]="launcher.stepId"\n        (stepIdChange)="onUpdate()">\n      </pick-flow-and-step>\n    </div>\n  </div>\n\n\n  <div *ngIf="launcher.launcherType==LauncherType.Video || launcher.launcherType==LauncherType.URL">\n    <div class="input-component" >\n        <label class="form-label">Launch a {{getTypeString(launcher.launcherType)}}</label>\n        <hr>  \n        <pick-custom-content [disabled]="disabled" \n        [type]="getContentType(launcher.launcherType)"\n        [(uploadedCustomContent)]="uploadedContent" (uploadedCustomContentChange)="onUpdate()"\n        [(customContentId)]="launcher.customContentId" (customContentIdChange)="onUpdate()"\n        ></pick-custom-content>\n    </div>\n  </div>\n</div>\n\n<div class="input-component">\n  <label class="form-label">Appearance</label>\n  <hr>\n  \x3c!-- <div class="icon-selector">\n    <div class="letznav-badge-indicator">\n      <div class="letznav-badge-indicator__icon letznav-badge-indicator__icon--help"></div>\n    </div>\n\n    <md-select class="select-component" [disabled]="isDisabled | async">\n      <md-option value="help">Help Icon</md-option>\n      <md-option value="info">Info Icon</md-option>\n    </md-select>\n  </div> --\x3e\n\n  <p>Icon Position\n    <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Use the slider below to adjust the icon position."></i>\n  </p>\n  <md-slider min="0" max="100" step="5" [disabled]="disabled" [ngModel]="launcher.indicatorPadding" (input)="onPaddingInputDebounced($event)"></md-slider>\n</div>\n'},function(t,e){t.exports='<div [ngSwitch]="badge.type">\n  <div *ngSwitchCase="BadgeType.Launcher">\n    <launcher-view [disabled]="disabled" [isFormConnected]="isFormConnected" [launcher]="badge" [uploadedContent]="uploadedContent|async" (updatedLauncher)="onUpdate()"></launcher-view>\n  </div>\n  <div *ngSwitchCase="BadgeType.NavTip">\n    <navtip-view [disabled]="disabled" [isFormConnected]="isFormConnected" [navtip]="badge" (updatedNavtip)="onUpdate()"></navtip-view>\n  </div>\n  <div *ngSwitchCase="BadgeType.Announcement">\n    <announcement-view  [timezones]="timezones"  [disabled]="disabled" [isFormConnected]="isFormConnected" [announcement]="badge" [uploadedContent]="uploadedContent|async" (updatedAnnouncement)="onUpdate()"></announcement-view>\n  </div>\n</div>\n'},function(t,e,n){"use strict";function i(t,e,n,i){return t<=n&&n<=e||(t<=i&&i<=e||n<t&&e<i)}function r(t,e){return t>e}e.a=i,e.b=r},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container" [ngClass]="{ \'launchers\': (badgeType  === BadgeType.Launcher), \'tooltips\': (badgeType  === BadgeType.NavTip), \'announcements\': (badgeType  === BadgeType.Announcement) }">\n    <back-btn [showArrow]="!(needsSaving | async) || (disabled | async)" backTo="../../badges">Cancel</back-btn>\n    <span class="letznav-panel-title">\n      <span class="row-title">{{ (badge | async)?.name || \'No name\' }}</span>\n    </span>\n    <span class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n    <md-menu #menu="mdMenu">\n      <button md-menu-item (click)="onDelete()" [disabled]="(disabled | async) || (locked | async)">Delete</button>\n    </md-menu>\n  </div>\n</div>\n\n<div class="notification-msg notification-msg--warning delay" [class.active]="(locked | async)">\n  <p>Published {{getBadgeTypeString(badgeType)}} can not be edited. Switch to DRAFT to make changes.\n    <a routerLink="../../edit" routerLinkActive="active">Settings</a>\n  </p>\n</div>\n\n<badge-view-warnings *ngIf="isShowValidationErrors" [validation]="validationErrors"></badge-view-warnings>\n<pick-custom-content-warnings  *ngIf="isShowValidationErrors" [customContentValidation]="customContentValidationErrors"></pick-custom-content-warnings>\n\n<div class="badge-view__container">\n  <div class="badge-view__container__overflow" *ngIf="(locked | async)"></div>\n\n  <div class="badge-view__container__select">\n    <div class="badge-view__container__select__picker">\n      <form-connected></form-connected>\n    </div>\n  </div>\n\n  <badge-content  [timezones]="timezones|async" [badge]="badge|async" [disabled]="(disabled | async)" [isFormConnected]="(isFormConnected | async)" (updatedBadge)="onUpdate($event)"></badge-content>\n</div>\n\n<div *ngIf="!(locked | async)" class="editor-validation" [ngClass]="{\'active\': (needsSaving | async)}">\n  <div class="editor-validation__container">\n    <button class="button-save" [disabled]="isShowValidationErrors && ((disabled | async) ||  !(validationErrors?.errors.length === 0 && canSavecustomContent)  )"\n      (click)="onSubmit()">Save</button>\n  </div>\n</div>'},function(t,e){t.exports='<div class="badge-view__container__select">\n  <div class="badge-view__container__select__picker">\n    <element-picker\n      [disabled]="disabled || !isFormConnected"\n      [pickedElementType]="PickedElementType.Element"\n      [reselect]="navtip?.element?.selector"\n      (elementSelected)="onElementSelected($event)"\n      (mouseenter)="onShowSelection()"\n      (mouseleave)="onHideSelection()"\n      ></element-picker>\n\n    <div class="tooltip-preview">\n      <div class="letznav-dialog letznav-tooltip letznav-element letznav-enabled letznav-arrow-vertical letznav-target-attached-top letznav-element-attached-bottom letznav-target-attached-center letznav-element-attached-center letznav-design--original">\n         <div class="letznav-content">\n            <div class="letznav-text">\n              <rich-text-editor class="input-rich-text" name="hoverMessage" elementId="navtipHoverMessage" [isImageEnabled] = "true"  [disabled]="disabled" [(ngModel)]="navtip.hoverMessage" (ngModelChange)="onUpdate()">\n              </rich-text-editor>\n            </div>\n         </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="input-component">\n  <label class="form-label">Name</label>\n  <hr>\n  <input type="text" name="name" placeholder="Name" [disabled]="disabled" [(ngModel)]="navtip.name" (ngModelChange)="onUpdate()"/>\n</div>\n\n<div class="input-component">\n  <label class="form-label">Appearance</label>\n  <hr>\n  \x3c!-- <div class="icon-selector">\n    <div class="letznav-badge-indicator">\n      <div class="letznav-badge-indicator__icon letznav-badge-indicator__icon--help"></div>\n    </div>\n\n    <md-select class="select-component" [disabled]="isDisabled | async">\n      <md-option value="help">Help Icon</md-option>\n      <md-option value="info">Info Icon</md-option>\n    </md-select>\n  </div> --\x3e\n\n  <p>Icon Position <i class="mdi mdi-help-circle tooltip-help-icon" mdTooltipPosition="above" mdTooltip="Use the slider below to adjust the icon position."></i></p>\n  <md-slider min="0" max="100" step="5" [disabled]="disabled" [ngModel]="navtip.indicatorPadding" (input)="onPaddingInputDebounced($event)"></md-slider>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(659),s=(function(){function t(){this.getErrorDisplayText=o.a}return t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"validation",void 0),s=i.c([Object(r.Component)({selector:"badge-view-warnings",template:n(1401)})],s)},function(t,e){t.exports='<div *ngFor="let error of validation.errors">\n  <div class="notification-msg notification-msg--warning active">\n    <p>{{getErrorDisplayText(error)}}</p>\n  </div>\n</div>\n\n<div *ngFor="let error of validation.warnings">\n    <div class="notification-msg notification-msg--warning active">\n      <p>{{getErrorDisplayText(error)}}</p>\n    </div>\n  </div>'},function(t,e){t.exports='<div class="input-component">\n  <label class="form-label">TITLE</label>\n  <input type="text" name="name" placeholder="Title" [(ngModel)]="announcement.name" (ngModelChange)="onUpdate()" />\n</div>\n\n<div class="input-component">\n  <label class="form-label" title="Enter Announcement Content">CONTENT</label>\n  <rich-text-editor\n  class="input-rich-text"\n  name="announcement-content"\n  placeholder="Announcement Content"\n  elementId="announcementContent"\n  [isImageEnabled] = "true"\n  [(ngModel)]="announcement.content" \n  (ngModelChange)="onUpdate()"  \n  [disabled]="disabled || !isFormConnected" >\n  </rich-text-editor>\n</div>\n<div class="lz-announcement-action lz-announcement-indent announcement-options">\n  <label class="form-label">ANNOUNCEMENT ACTION</label>\n  <hr>\n  <md-button-toggle-group #group="mdButtonToggleGroup" [(ngModel)]="announcement.announcementType" (ngModelChange)="getDefaultLabel(announcement.announcementType)">\n    <md-button-toggle class="click_ok" [disabled]="disabled" [value]="AnnouncementType.Ok" mdTooltipPosition="above" mdTooltip="Ok">\n    </md-button-toggle>\n    <md-button-toggle class="launch_workflow" [disabled]="disabled || !isFormConnected" [value]="AnnouncementType.Flow" mdTooltipPosition="above"\n      mdTooltip="Launch a Workflow">\n    </md-button-toggle>\n    <md-button-toggle class="launch_video" [disabled]="disabled" [value]="AnnouncementType.Video" mdTooltipPosition="above" mdTooltip="Launch a Video">\n    </md-button-toggle>\n    <md-button-toggle class="launch_link" [disabled]="disabled" [value]="AnnouncementType.URL" mdTooltipPosition="above" mdTooltip="Launch a Link">\n    </md-button-toggle>\n  </md-button-toggle-group>\n\n\n  <div [ngSwitch]="announcement.announcementType">\n    <div *ngSwitchCase="AnnouncementType.Flow">\n      <div class="lz-action-name-indent">\n        <label class="form-label">Announce a Workflow</label>\n        <hr>\n        <pick-flow-and-step [disabled]="disabled || !isFormConnected" [(flowId)]="announcement.flowId" (flowIdChange)="onUpdate()"\n          [(stepId)]="announcement.stepId" (stepIdChange)="onUpdate()">\n        </pick-flow-and-step>\n      </div>\n    </div>\n\n    <div *ngIf="announcement.announcementType==AnnouncementType.Video || announcement.announcementType==AnnouncementType.URL">\n      <div class="lz-action-name-indent">\n        <label class="form-label">Announce a {{getTypeString(announcement.announcementType)}}</label>\n        <hr>\n        <pick-custom-content [disabled]="disabled" [type]="getContentType(announcement.announcementType)" [(uploadedCustomContent)]="uploadedContent"\n          (uploadedCustomContentChange)="onUpdate()" [(customContentId)]="announcement.customContentId" (customContentIdChange)="onUpdate()"></pick-custom-content>\n          <label class="form-label">Announce a {{getTypeString(announcement.announcementType)}}</label>\n          <hr>\n          <pick-custom-content [disabled]="disabled"\n          [type]="getContentType(announcement.announcementType)"\n          [(uploadedCustomContent)]="uploadedContent" (uploadedCustomContentChange)="onUpdate()"\n          [(customContentId)]="announcement.customContentId" (customContentIdChange)="onUpdate()"\n          ></pick-custom-content>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="input-component">\n  <label class="form-label">ACCEPT BUTTON LABEL</label>\n  <input type="text" name="name" placeholder="OK" [(ngModel)]="announcement.acceptLabel" (ngModelChange)="onUpdate()" />\n</div>\n\n<div class="lz-announcement-indent">\n  <md-checkbox name="cancelButton" [(ngModel)]="announcement.showCancelButton" (ngModelChange)="onUpdate()">\n    Show Cancel Button\n  </md-checkbox>\n</div>\n\n<div class="input-component" *ngIf="announcement.showCancelButton">\n  <label class="form-label">CANCEL BUTTON LABEL</label>\n  <input type="text" name="name" placeholder="Cancel" [(ngModel)]="announcement.cancelLabel" (ngModelChange)="onUpdate()" />\n</div>\n\n<div class="lz-announcement-indent">\n    <md-checkbox name="isMandatory" [(ngModel)]="announcement.isMandatory" (ngModelChange)="onUpdate()">\n      Announcement is Mandatory\n    </md-checkbox>\n</div>\n\n<div class="input-component" *ngIf="announcement.isMandatory">\n  <label class="form-label">CHECKBOX LABEL</label>\n  <input type="text" name="name" placeholder="Enter checkbox label" [(ngModel)]="announcement.checkBoxLabel" (ngModelChange)="onUpdate()" />\n</div>\n\n<div class="lz-announcement-position lz-announcement-indent">\n  <label class="form-label">ANNOUNCEMENT POSITION</label>\n  <hr>\n  <div class="lz-announcement-position-selector">\n    <div *ngFor="let rows of ANNOUNCEMENT_POSITIONS">\n      <div *ngFor="let direction of rows" class="lz-announcement-square lz-announcement-horizontal-row lz-{{ direction.toLowerCase() }}"\n        [class.selected]="announcement.position === direction" (click)="selectDirection(direction)">\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- <div class="lz-persistency-options lz-announcement-indent" style="display:none">\n  <label class="form-label">PERSISTENCY OPTIONS</label>\n  <hr>\n</div> --\x3e\n\n<div class="lz-schedule-options lz-announcement-indent">\n  <label class="form-label">SCHEDULE OPTIONS</label>\n  <hr>\n\n  <div *ngIf="timeZoneList?.length > 1">\n    <autocomplete-component [(timeZone)]="announcement.timeZone" (timeZoneChange)="onUpdate()" [options]="timeZoneList"></autocomplete-component>\n  </div>\n  <div *ngIf="timeZoneList?.length  == 1">\n    <p>You have only one <strong>{{announcement.timeZone}}</strong>  timezone selected, add more from admin</p>\n  </div>\n  <hr>\n\n  <div class="lz-announcement-dates lz-announcement-from-date">\n    <input mdInput type="text" name="fromDate" [mdDatepicker]="fromDate" [(ngModel)]="announcement.fromDate" [disabled]="disabled"\n      (ngModelChange)="onUpdate()" required>\n    <md-datepicker-toggle mdSuffix [for]="fromDate" [disabled]="disabled"></md-datepicker-toggle>\n  </div>\n  <div class="lz-announcement-dates lz-announcement-to-date">\n    <input mdInput type="text" name="toDate" [mdDatepicker]="toDate" [(ngModel)]="announcement.toDate" [disabled]="disabled"\n      (ngModelChange)="onUpdate()" required>\n    <md-datepicker-toggle mdSuffix [for]="toDate" [disabled]="disabled"></md-datepicker-toggle>\n  </div>\n  <md-datepicker #fromDate></md-datepicker>\n  <md-datepicker #toDate></md-datepicker>\n</div>\n\n<div class="condition-content">\n  <label class="form-label">CONDITIONS</label>\n  <hr>\n  <div class="condition-item" *ngFor="let condition of announcement.conditions; let i = index" (mouseenter)="onHighlightElement(announcement.conditions[i])"\n  (mouseleave)="onHideElementHighlight(announcement.conditions[i])">\n    <condition-view [disabled]="disabled" [condition]="condition" (conditionChange)="onUpdate(i)" (conditionDelete)="onDeleteCondition($event)"></condition-view>\n  </div>\n  <condition-list (conditionAdd)="onAddCondition($event,i)"></condition-list>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return g}));var i,r=n(0),o=n(3),s=n(75),a={badge:null,badgeInitial:null,isSaving:!1,deleteOnCancel:!1,ignoreSaving:!1,timezones:null},c=function(t,e){return r.a({},t,{badge:e,badgeInitial:(function(){if(e.type!==o.g.Announcement)return e;var t=e;return t.fromDate&&"string"==typeof t.fromDate&&(t=r.a({},t,{fromDate:new Date(t.fromDate)})),t.toDate&&"string"==typeof t.toDate&&(t=r.a({},t,{toDate:new Date(t.toDate)})),t})()})},u=function(t,e){return r.a({},t,{deleteOnCancel:e})},d=function(t,e){return r.a({},t,{badge:e})},l=Object(o.Q)(s.d,{init:function(t){return r.a({},t,{isSaving:!0})},succeeded:function(t,e){return r.a({},t,{badge:e,badgeInitial:e,isSaving:!1})},failed:function(t){return r.a({},t,{isSaving:!1})}}),p=Object(o.Q)(s.b,{succeeded:function(t){return r.a({},t,{ignoreSaving:!0})}}),f=function(t,e){return r.a({},t,{badge:r.a({},t.badge,{customContentId:e})})},h=Object(o.Q)(s.c,{init:function(t){return r.a({},t,{timezones:null})},succeeded:function(t,e){return r.a({},t,{timezones:e})}}),b=function(){return a},m=r.a((i={},i[s.e]=c,i[s.g]=d,i[s.f]=u,i[s.a]=b,i[s.h]=f,i),l,p,h),g=Object(o._3)(m,a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(16),a=(n.n(s),n(8)),c=n(75),u=n(343),d=n(3),l=n(83),p=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(t){var e=this;return Object(s.corx)((function(n){var r=n.get,o=n.put;return i.b(e,void 0,void 0,(function(){var e,n,s,a,p;return i.e(this,(function(i){switch(i.label){case 0:return e=+t.params.badgeId,[4,r(this.store.select(u.h).skipWhile((function(t){return!t})).take(1))];case 1:if(n=i.sent(),!(s=n.find((function(t){return t.id===e}))))throw new Error("Cannot find "+Object(d.S)(s.type)+" "+e);return[4,o(Object(c.j)(s))];case 2:return i.sent(),[4,o(c.c.init())];case 3:return i.sent(),[4,r((a=this.actions$).ofType.apply(a,c.c.RESULT_ACTIONS).take(1))];case 4:return i.sent(),[4,o(l.c.init())];case 5:return i.sent(),[4,r((p=this.actions$).ofType.apply(p,l.c.RESULT_ACTIONS).take(1))];case 6:return i.sent(),[2]}}))}))})).do((function(t){return e.store.dispatch(t)})).map((function(){return null}))},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,a.a])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(210),o=n(176),s=n(1),a=n(8),c=n(19),u=n(4),d=n(10),l=(n.n(d),n(3)),p=n(12),f=n(74),h=n(45),b=n(75),m=n(345),g=(function(){function t(t,e,n){var s=this;this.action$=t,this.backendService=e,this.store=n,this.saveBadges$=this.action$.ofType(b.d.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.put,a=t.get,c=(e[0],e[1]);return i.b(s,void 0,void 0,(function(){var t,e,s,u,g,v,y;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=Object(p.a)(c),e=Object(h.a)(c),s=Object(o.c)(c),u=Object(d.cloneDeep)(Object(m.a)(c)),s?[4,n(r.d.init())]:[3,3];case 1:return i.sent(),[4,a((y=this.action$).ofType.apply(y,r.d.RESULT_ACTIONS).take(1))];case 2:if(g=i.sent(),g.type!==r.d.SUCCEEDED)throw g.payload;u.type===l.g.Launcher&&(u.customContentId=g.payload.id),u.type===l.g.Announcement&&(u.customContentId=g.payload.id),i.label=3;case 3:return[4,a(this.backendService.saveBadge(t.id,e.id,u.type,u.id,t.defaultLocaleId,u))];case 4:return u=i.sent(),[4,n(b.d.succeeded(u))];case 5:return i.sent(),[4,n(Object(b.k)(!1))];case 6:return i.sent(),[4,n(Object(f.j)(u))];case 7:return i.sent(),[3,10];case 8:return v=i.sent(),[4,n(b.d.failed(v))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}))})),this.deleteBadge$=this.action$.ofType(b.b.INIT).map(a.d).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=e[0],a=o.skipDialog,u=o.redirect,d=e[1];return i.b(s,void 0,void 0,(function(){var t,e,o,s,l;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,10]),t=Object(h.a)(d),e=Object(m.a)(d),[4,r(f.c.init({badge:e,skipDialog:a}))];case 1:return i.sent(),[4,n((l=this.action$).ofType.apply(l,f.c.RESULT_ACTIONS).take(1))];case 2:return o=i.sent(),o.type===f.c.SUCCEEDED?[3,4]:[4,r(b.b.canceled())];case 3:return i.sent(),[2];case 4:return[4,r(b.b.succeeded(e))];case 5:return i.sent(),u?[4,r(Object(c.b)("admin/badge-form/"+e.type+"/"+t.id+"/"))]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,10];case 8:return s=i.sent(),[4,r(b.b.failed(s))];case 9:return i.sent(),[3,10];case 10:return[2]}}))}))})),this.getTimeZones=this.action$.ofType(b.c.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=(e[0],e[1]);return i.b(s,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(p.a)(o),[4,n(this.backendService.getTimeZones(t.id))];case 1:return e=i.sent(),[4,r(b.c.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,r(b.c.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))}))}return t})();i.c([Object(a.b)(),i.f("design:type",Object)],g.prototype,"saveBadges$",void 0),i.c([Object(a.b)(),i.f("design:type",Object)],g.prototype,"deleteBadge$",void 0),i.c([Object(a.b)(),i.f("design:type",Object)],g.prototype,"getTimeZones",void 0),g=i.c([Object(s.Injectable)(),i.f("design:paramtypes",[a.a,l.f,u.f])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(21)),u=n(345),d=n(97),l=n(75),p=(function(){function t(t,e,n){this.store=t,this.actions=e,this.dialogs=n}return t.prototype.canDeactivate=function(t){var e=this;return Object(a.corx)((function(t){var n=t.get,r=t.put;return i.b(e,void 0,void 0,(function(){var t,e,o,s,a,p,f,h;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(u.f).skipWhile((function(t){return t})).take(1))];case 1:return i.sent(),[4,n(this.store.select(c.h).take(1))];case 2:return t=i.sent(),t&&this.store.dispatch(Object(c.d)()),[4,n(this.store.select(u.b).take(1))];case 3:return e=i.sent(),[4,n(this.store.select(u.g).take(1))];case 4:return o=i.sent(),o||e?[3,6]:[4,r(!0)];case 5:return i.sent(),[2];case 6:return[4,n(this.dialogs.showDialog(d.c.CancelBadge))];case 7:return(s=i.sent())!==d.a.Discard?[3,11]:e?(this.store.dispatch(l.b.init({skipDialog:!0})),[4,n((h=this.actions).ofType.apply(h,l.b.RESULT_ACTIONS).take(1))]):[3,9];case 8:return i.sent(),[3,11];case 9:return p=(a=this.store).dispatch,f=l.l,[4,n(this.store.select(u.c).take(1))];case 10:p.apply(a,[f.apply(void 0,[i.sent()])]),i.label=11;case 11:return[4,r(s!==d.a.Cancel)];case 12:return i.sent(),[2]}}))}))}))},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a,d.b])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(10),s=(n.n(o),n(3)),a=(function(){function t(){this.DecisionConditionType=s.p,this.decisionConditionTypes=Object.keys(s.p).filter((function(t){return!isNaN(+t)})).map((function(t){return+t})).map((function(t){return Object(s.Y)(t)})),this.condition={comparisonValue:null,comparisonOperator:null,type:null,script:null,element:{selector:null,containers:null,frames:null}},this.conditionAdd=new r.EventEmitter}return t.prototype.onAdd=function(t){this.condition=Object(o.cloneDeep)(this.condition),this.condition.type=t,this.conditionAdd.emit(this.condition)},t})();i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],a.prototype,"conditionAdd",void 0),a=i.c([Object(r.Component)({selector:"condition-list",template:n(1408)})],a)},function(t,e){t.exports='<div class="condition-list-control">\n  <button class="button button-default" title="Add condition" [mdMenuTriggerFor]="conditionTypeMenu">\n    <span class="mdi mdi-plus"></span>Add Condition\n  </button>\n  <md-menu #conditionTypeMenu="mdMenu">\n    <button *ngFor="let type of decisionConditionTypes; let i = index" md-menu-item title="type" (click)="onAdd(i)">\n      <decision-type-icon [decisionType]="i"></decision-type-icon>{{type}}\n    </button>\n  </md-menu>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(99),r=n(664),o=function(t){return Object(r.b)(Object(i.k)(t))}},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container workflows">\n    <back-btn [showArrow]="!(needsSaving | async)" backTo="../../../steps">Cancel</back-btn>\n    <span class="letznav-panel-title">\n      <span class="row-title">Jump Step</span>\n    </span>\n    <span *ngIf="!(isLocked | async)" class="mdi mdi-dots-vertical letznav-panel-btn menu" [mdMenuTriggerFor]="menu"></span>\n    <md-menu #menu="mdMenu">\n      <button md-menu-item (click)="onDelete()">Delete</button>\n    </md-menu>\n  </div>\n</div>\n<decision-step-warnings *ngIf="isShowValidationErrors" [validation]="validation | async"></decision-step-warnings>\n<div class="decision-point-view__container">\n  <div class="decision-point-view__container__overflow" *ngIf="(isLocked | async)"></div>\n  <div class="decision-point-view__container__select">\n    <div class="decision-point-view__container__select__preview">\n      <decision-point [ngClass]="{\'selecting-element\':isPickerActive|async}"\n       [isLocked]="isLocked | async" [disabled]="disabled | async" [flowSteps]="flowSteps|async" (decisionPointUpdated)="onStepUpdated($event)" [step]="step|async"></decision-point>\n    </div>\n  </div>\n</div>\n\n<div *ngIf="!(isLocked | async)" class="editor-validation" [ngClass]="{\'active\': (needsSaving | async)}">\n  <div class="editor-validation__container">\n    <button class="button-save" (click)="onSubmit()" [disabled]="isShowValidationErrors && ((disabled | async) || !canBeSaved)">Save</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.getDecisionConditionTypeString=o.Y,this.isCollapsed=!1,this.conditionChange=new r.EventEmitter,this.conditionDelete=new r.EventEmitter,this.DecisionConditionType=o.p}return t.prototype.onUpdate=function(){this.conditionChange.emit(this.condition)},t.prototype.deleteCondition=function(){this.conditionDelete.emit(this.condition)},t.prototype.collapsedState=function(t){this.isCollapsed=t},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"condition",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"id",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"conditionChange",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"conditionDelete",void 0),s=i.c([Object(r.Component)({selector:"condition-view",template:n(1412)})],s)},function(t,e){t.exports='<decision-type-icon [decisionType]="condition.type"></decision-type-icon>\n<collapsable-panel [title]="getDecisionConditionTypeString(condition.type)" [collapsed]="false" [ngClass]="{\'selecting-element\': isPickingElement | async}" (toggled)="collapsedState($event)">\n  <div [hidden]="isCollapsed">\n    <a class="condition-item__delete mdi mdi-minus-circle" (click)="deleteCondition()" mdTooltipPosition="above" mdTooltip="Delete Condition"></a>\n    <div class="panel-properties" [ngSwitch]="condition.type">\n      <div *ngSwitchCase="DecisionConditionType.InputFieldComparison">\n        <input-field-comparison [id]="id" [disabled]="disabled" [condition]="condition" (conditionChange)="onUpdate()"></input-field-comparison>\n      </div>\n      <div *ngSwitchCase="DecisionConditionType.ElementPresence">\n        <element-presence [id]="id" [disabled]="disabled" [condition]="condition" (conditionChange)="onUpdate()"></element-presence>\n      </div>\n      <div *ngSwitchCase="DecisionConditionType.LabelComparison">\n        <label-comparison [id]="id" [disabled]="disabled" [condition]="condition" (conditionChange)="onUpdate()"></label-comparison>\n      </div>\n      <div *ngSwitchCase="DecisionConditionType.CustomScript">\n        <custom-script [disabled]="disabled" [condition]="condition" (conditionChange)="onUpdate()"></custom-script>\n      </div>\n    </div>\n  </div>\n</collapsable-panel>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(3),s=n(21),a=n(141),c=(function(){function t(){this.PickedElementType=s.b,this.decisionConditionOperators=Object.keys(o.o).filter((function(t){return isNaN(parseInt(t,10))})),this.conditionChange=new r.EventEmitter,this.DecisionConditionType=o.p,this.isInvalidRegExp=!1}return t.prototype.onUpdate=function(){this.checkRegExp(),this.conditionChange.emit(this.condition)},t.prototype.onElementSelected=function(t,e){this.condition.element.containers=t.element.containers,this.condition.element.selector=t.element.selector,this.condition.element.frames=t.element.frames,this.onUpdate()},t.prototype.checkRegExp=function(){this.condition.comparisonOperator===o.o.Regex&&(this.isInvalidRegExp=!Object(a.c)(this.condition.comparisonValue))},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],c.prototype,"condition",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],c.prototype,"id",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"conditionChange",void 0),c=i.c([Object(r.Component)({selector:"input-field-comparison",template:n(1414)})],c)},function(t,e){t.exports='<element-picker [pickedElementType]="PickedElementType.Spotlight" [reselect]="condition?.selector" [disabled]="disabled" (elementSelected)="onElementSelected($event)">\n</element-picker>\n\n\x3c!-- <span *ngIf="!condition.element.selector"> Element not selected</span> --\x3e\n\n<div class="panel-content-row">\n  <md-select [(ngModel)]="condition.comparisonOperator" (ngModelChange)="onUpdate(i)">\n    <md-option *ngFor="let operator of decisionConditionOperators; let i = index" [value]="i">{{operator}}</md-option>\n  </md-select>\n\n  <input type="text" placeholder="Value" [(ngModel)]="condition.comparisonValue" (blur)="onUpdate(i);checkRegExp();">\n</div>\n\n<span *ngIf="isInvalidRegExp"> Invalid Regex</span>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.decisionActionType=o.n,this.actionUpdate=new r.EventEmitter}return t.prototype.onUpdate=function(){this.actionUpdate.emit(this.action)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"action",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"flowSteps",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"actionUpdate",void 0),s=i.c([Object(r.Component)({selector:"action-view",template:n(1416)})],s)},function(t,e){t.exports='<div [ngSwitch]="action.type">\n  <div *ngSwitchCase="decisionActionType.BounceToStep">\n    <bounce-to-step [action]="action" [flowSteps]="flowSteps" (actionUpdate)="onUpdate()"></bounce-to-step>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.decisionActionType=o.n,this.actionUpdate=new r.EventEmitter}return t.prototype.onUpdate=function(){this.actionUpdate.emit(this.action)},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"action",void 0),i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"flowSteps",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"actionUpdate",void 0),s=i.c([Object(r.Component)({selector:"bounce-to-step",template:n(1418)})],s)},function(t,e){t.exports='<md-select [(ngModel)]="action.bounceToStep.stepId" (ngModelChange)="onUpdate()">\n  <md-option *ngFor="let step of flowSteps;let ind = index" [value]="step.id">\n    {{step.displayNumber}}\n    <span *ngIf="step.title"> {{step.title}}</span>\n  </md-option>\n</md-select>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(10),a=(n.n(s),n(11)),c=n(3),u=n(141),d=n(21),l=(function(){function t(t,e){this.store=t,this.messages=e,this.PickedElementType=d.b,this.decisionPointUpdated=new r.EventEmitter,this.condition={comparisonValue:null,comparisonOperator:null,type:null,script:null,element:{selector:null,containers:null,frames:null}},this.action={type:null,bounceToStep:{stepId:null,flowId:null},script:null},this._step=null,this._flowSteps=[]}return Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){this._step=t,this.setBounceToSteps()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flowSteps",{set:function(t){this._flowSteps=Object(s.cloneDeep)(t),this.setBounceToSteps()},enumerable:!0,configurable:!0}),t.prototype.onAddCondition=function(t,e){var n=this;this.step.decisionPoint.conditions.push(t),this.onUpdate();var i=d.b.Element;switch(t.type){case c.p.ElementPresence:i=d.b.Element;break;case c.p.LabelComparison:i=d.b.Label;break;case c.p.InputFieldComparison:i=d.b.Spotlight}t.type!==c.p.CustomScript&&setTimeout((function(){n.store.dispatch(Object(d.c)(i))}),500)},t.prototype.onDeleteCondition=function(t){this.step.decisionPoint.conditions.splice(this.step.decisionPoint.conditions.indexOf(t),1),this.onHideElementHighlight(t),this.onUpdate()},t.prototype.onAddAction=function(t){this.action.type=t,this.step.decisionPoint.actions.push(this.action),this.onUpdate()},t.prototype.onDeleteAction=function(t){this.step.decisionPoint.actions.splice(t,1)},t.prototype.setStepAsDecisionPoint=function(){this.step.isDecisionPoint=!0,this.onUpdate()},t.prototype.onUpdate=function(){this.decisionPointUpdated.emit(Object(s.cloneDeep)(this.step))},t.prototype.onHighlightElement=function(t){this.messages.sendMessage({type:a.b.DecisionEditorAddClass,condition:t})},t.prototype.onHideElementHighlight=function(t){this.messages.sendMessage({type:a.b.DecisionEditorRemoveClass,condition:t})},t.prototype.ngOnInit=function(){this.step&&this.step.decisionPoint&&!this.step.decisionPoint.actions.length&&(this.onAddAction(c.n.BounceToStep),this.setStepAsDecisionPoint())},t.prototype.setBounceToSteps=function(){var t=this;if(this._flowSteps&&this._step){var e=Object(s.findIndex)(this._flowSteps,(function(e){return e.id===t._step.id}));this._flowSteps[e]&&(this._flowSteps[e].isDecisionPoint=!0),this.flowStepsFiltered=Object(u.b)(e,this._flowSteps)}},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"isLocked",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],l.prototype,"step",null),i.c([Object(r.Input)(),i.f("design:type",Array),i.f("design:paramtypes",[Array])],l.prototype,"flowSteps",null),i.c([Object(r.Input)(),i.f("design:type",Object)],l.prototype,"element",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],l.prototype,"decisionPointUpdated",void 0),l=i.c([Object(r.Component)({selector:"decision-point",template:n(1420)}),i.f("design:paramtypes",[o.f,a.e])],l)},function(t,e){t.exports='<div class="condition-content">\n  <p class="condition-content__intro">Use Jump Steps to redirect your walkthru to a different position based on conditions.</p>\n\n  <label class="form-label">Conditions</label>\n\n  <hr>\n\n  <div class="condition-item" *ngFor="let condition of step.decisionPoint.conditions; let i = index" (mouseenter)="onHighlightElement(step.decisionPoint.conditions[i])"\n  (mouseleave)="onHideElementHighlight(step.decisionPoint.conditions[i])">\n    <condition-view [disabled]="isLocked || disabled" [condition]="condition" (conditionChange)="onUpdate(i)" (conditionDelete)="onDeleteCondition($event)"></condition-view>\n  </div>\n\n  <condition-list (conditionAdd)="onAddCondition($event,i)"></condition-list>\n</div>\n\n<div class="actions">\n  <label class="form-label">Jump To</label>\n\n  <hr>\n\n  <div *ngFor="let action of step.decisionPoint.actions; let i = index">\n    <action-view [action]="action" [flowSteps]="flowStepsFiltered" (actionUpdate)="onUpdate()"></action-view>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(21),s=(function(){function t(){this.PickedElementType=o.b,this.conditionChange=new r.EventEmitter}return t.prototype.onUpdate=function(){this.conditionChange.emit(this.condition)},t.prototype.onElementSelected=function(t,e){this.condition.element.containers=t.element.containers,this.condition.element.selector=t.element.selector,this.condition.element.frames=t.element.frames,this.onUpdate()},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],s.prototype,"condition",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],s.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],s.prototype,"id",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],s.prototype,"conditionChange",void 0),s=i.c([Object(r.Component)({selector:"element-presence",template:n(1422)})],s)},function(t,e){t.exports='<element-picker [pickedElementType]="PickedElementType.Element" [reselect]="condition?.selector" [disabled]="disabled" (elementSelected)="onElementSelected($event)">\n</element-picker>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(1),o=n(3),s=n(21),a=(function(){function t(){this.PickedElementType=s.b,this.decisionConditionOperators=Object.keys(o.o).filter((function(t){return isNaN(parseInt(t,10))})),this.conditionChange=new r.EventEmitter,this.DecisionConditionType=o.p}return t.prototype.onUpdate=function(){this.conditionChange.emit(this.condition)},t.prototype.onElementSelected=function(t,e){this.condition.element.containers=t.element.containers,this.condition.element.selector=t.element.selector,this.condition.element.frames=t.element.frames,this.onUpdate()},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],a.prototype,"condition",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],a.prototype,"disabled",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],a.prototype,"id",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],a.prototype,"conditionChange",void 0),a=i.c([Object(r.Component)({selector:"label-comparison",template:n(1424)})],a)},function(t,e){t.exports='<element-picker [pickedElementType]="PickedElementType.Label" [reselect]="condition?.selector" [disabled]="disabled" (elementSelected)="onElementSelected($event)">\n</element-picker>\n\n<div class="panel-content-row">\n  <md-select [(ngModel)]="condition.comparisonOperator" (ngModelChange)="onUpdate(i)">\n    <md-option *ngFor="let operator of decisionConditionOperators; let i = index" [value]="i">{{operator}}</md-option>\n  </md-select>\n\n  <input type="text" placeholder="Value" [(ngModel)]="condition.comparisonValue" (blur)="onUpdate(i)">\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(3),s=(function(){function t(){this.DecisionConditionType=o.p}return t})();i.c([Object(r.Input)(),i.f("design:type",Number)],s.prototype,"decisionType",void 0),s=i.c([Object(r.Component)({selector:"decision-type-icon",template:n(1426)})],s)},function(t,e){t.exports='<span class="decision-type-icon"\n  [class.decision-type-icon__pres]="decisionType === DecisionConditionType.ElementPresence"\n  [class.decision-type-icon__label]="decisionType === DecisionConditionType.LabelComparison"\n  [class.decision-type-icon__input]="decisionType === DecisionConditionType.InputFieldComparison"\n  [class.decision-type-icon__custom]="decisionType === DecisionConditionType.CustomScript"\n>\n</span>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(0),r=n(1),o=n(664),s=(function(){function t(){this.DecisionStepValidationErrors=o.a}return t.prototype.hasError=function(t){return this.validation.indexOf(t)>=0},t})();i.c([Object(r.Input)(),i.f("design:type",Array)],s.prototype,"validation",void 0),s=i.c([Object(r.Component)({selector:"decision-step-warnings",template:n(1428)})],s)},function(t,e){t.exports='<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoConditions)}">\n  <p>At least one condition is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoActions)}">\n  <p>At least one action is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.JumpToStepNotSelected)}">\n  <p>Jump to step is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.ElementPresenceElementNotPicked)}">\n  <p>No element has been picked for element presence condition</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.LabelComparisonElementNotPicked)}">\n  <p>No element has been picked for label comparison condition</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoLabelComparisonOperator)}">\n  <p>Label comparison operator is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoLabelComparisonValue)}">\n  <p>Label comparison value is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.InputFieldComparisonElementNotPicked)}">\n  <p>No element has been picked for spotlight comparison condition</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoInputFieldComparisonOperator)}">\n  <p>Spotlight comparision operator is required</p>\n</div>\n<div class="notification-msg notification-msg--warning" [ngClass]="{\'active\': hasError(DecisionStepValidationErrors.NoInputFieldComparisonValue)}">\n  <p>Spotlight comparision operator is required</p>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),o=(function(){function t(){this.conditionChange=new r.EventEmitter,this.condition&&(this.condition.errorMessage="")}return t.prototype.onUpdate=function(){this.validate(),this.conditionChange.emit(this.condition)},t.prototype.validate=function(){this.condition.errorMessage="";var t;try{t=new Function(this.condition.script)()}catch(t){this.condition.errorMessage="Custom script is not valid: "+t.message}this.condition.errorMessage=this.condition.errorMessage||"boolean"!=typeof t&&"Function must return true or false"||""},t})();i.c([Object(r.Input)(),i.f("design:type",Object)],o.prototype,"condition",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],o.prototype,"disabled",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],o.prototype,"conditionChange",void 0),o=i.c([Object(r.Component)({selector:"custom-script",template:n(1430)}),i.f("design:paramtypes",[])],o)},function(t,e){t.exports='<div class="validator-custom">\n  <div class="input-component">\n    <div class="validator-custom-function-definition function-header">\n      <span class="highlight-blue">function</span> validate() &#123;\n    </div>\n    <div class="textarea-container">\n      <textarea placeholder="Custom function body" [(ngModel)]="condition.script" (blur)="onUpdate()"\n        [disabled]="disabled">\n      </textarea>\n    </div>\n    <div class="validator-custom-function-definition function-footer">\n      &#125;\n    </div>\n  </div>\n  <div class="custom-error-msg" *ngIf="!!condition.errorMessage">\n    <i class="mdi mdi-alert-circle"></i> {{ condition.errorMessage }}</div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(23),s=n(3),a=n(126),c=n(666),u=4,d=(function(){function t(t,e){this.elementRef=t,this.sanitizer=e,this.Z_INDEX=u,this.POSITIONING_MODE=a.a}return Object.defineProperty(t.prototype,"navtip",{get:function(){return this._navtip},set:function(t){this._navtip=t,this.sanitizedContent=this.sanitizer.bypassSecurityTrustHtml(this.navtip.hoverMessage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positioningData",{get:function(){return{elementId:this.navtip.elementId,elementRect:this.navtip.elementRect}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),t.prototype.onMouseEnterNavtip=function(){this.mouseInNavtip=!0},t.prototype.onMouseLeaveNavtip=function(){this.mouseInNavtip=!1},t.prototype.onAttachDirectionChange=function(t){this.attachmentClasses=Object(s.T)(t)},t})();i.c([Object(r.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],d.prototype,"navtip",null),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"panelVisible",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],d.prototype,"display",void 0),i.c([Object(r.Input)(),i.f("design:type",c.a)],d.prototype,"indicator",void 0),d=i.c([Object(r.Component)({selector:"navtip",template:n(1433)}),i.f("design:paramtypes",[r.ElementRef,o.c])],d)},function(t,e){t.exports='<div class="letznav-badge-indicator"\n[style.z-index]="navtip.zIndex">\n  <div class="letznav-badge-indicator__icon letznav-badge-indicator__icon--info"></div>\n</div>\n\n<positioning\n*ngIf="indicatorElement"\n[mode]="POSITIONING_MODE.INDICATOR"\n[attachedElement]="indicatorElement"\n[positioningData]="positioningData"\n[indicatorOffset]="navtip.indicatorPadding"\n[display]="display"\n></positioning>\n'},function(t,e){t.exports='<div class="letznav-dialog letznav-tooltip letznav-element letznav-enabled {{attachmentClasses}}"\n[style.z-index]="navtip.zIndex + Z_INDEX"\n(mouseenter)="onMouseEnterNavtip()"\n(mouseleave)="onMouseLeaveNavtip()">\n    <div class="letznav-content">\n        <div class="letznav-text" [innerHtml]="sanitizedContent"></div>\n    </div>\n</div>\n\n<positioning\n*ngIf="tooltipElement && indicator?.indicatorElement"\n[mode]="POSITIONING_MODE.TOOLTIP"\n[attachedElement]="tooltipElement"\n[positioningData]="positioningData"\n[directTargetElement]="indicator?.indicatorElement"\n[display]="display || mouseInNavtip"\n(attachDirectionChange)="onAttachDirectionChange($event)"\n></positioning>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(4),s=n(3),a=n(71),c=n(126),u=n(83),d=n(140),l=(function(){function t(t,e){this.store=t,this.elementRef=e,this.POSITIONING_MODE=c.a,this.isMouseIn=new r.EventEmitter,this.init=new r.EventEmitter}return Object.defineProperty(t.prototype,"positioningData",{get:function(){return{elementId:this.launcher.elementId,elementRect:this.launcher.elementRect}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indicatorElement",{get:function(){return this.elementRef.nativeElement.children[0]},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t={badgeId:this.launcher.id};this.init.emit(this),this.store.dispatch(Object(a.O)({type:a.h.LAUNCHER_DISPLAY,data:t}))},t.prototype.onLaunch=function(){var t=this,e={badgeId:this.launcher.id};this.launcher.launcherType===s.v.Flow?Number.isInteger(this.launcher.flowId)&&this.store.dispatch(a.H.playFlow(this.launcher.flowId,{id:this.launcher.stepId})):this.store.select(d.b).take(1).subscribe((function(e){if(e){var n=e.find((function(e){return e.id===t.launcher.customContentId}));n&&t.store.dispatch(Object(u.h)(n))}})),this.store.dispatch(Object(a.O)({type:a.h.LAUNCHER_ACTION,data:e}))},t.prototype.onMouseEnter=function(t){this.isMouseIn.emit(!0)},t.prototype.onMouseLeave=function(t){this.isMouseIn.emit(!1)},Object.defineProperty(t.prototype,"launcherClass",{get:function(){return s._4[this.launcherIcon].class},enumerable:!0,configurable:!0}),t})();i.c([Object(r.Input)(),i.f("design:type",Object)],l.prototype,"launcher",void 0),i.c([Object(r.Input)(),i.f("design:type",Boolean)],l.prototype,"display",void 0),i.c([Object(r.Input)(),i.f("design:type",String)],l.prototype,"launcherIcon",void 0),i.c([Object(r.Output)(),i.f("design:type",Object)],l.prototype,"isMouseIn",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],l.prototype,"init",void 0),i.c([Object(r.HostListener)("mouseenter",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],l.prototype,"onMouseEnter",null),i.c([Object(r.HostListener)("mouseleave",["$event"]),i.f("design:type",Function),i.f("design:paramtypes",[Event]),i.f("design:returntype",void 0)],l.prototype,"onMouseLeave",null),l=i.c([Object(r.Component)({selector:"launcher-indicator",template:n(1435)}),i.f("design:paramtypes",[o.f,r.ElementRef])],l)},function(t,e){t.exports='<div class="letznav-badge-indicator" style="cursor:pointer"\n[style.z-index]="launcher.zIndex"\n(click)="onLaunch()">\n  <div class="letznav-badge-indicator__icon {{launcherClass}}"></div>\n</div>\n\n<positioning\n*ngIf="indicatorElement"\n[mode]="POSITIONING_MODE.INDICATOR"\n[attachedElement]="indicatorElement"\n[positioningData]="positioningData"\n[indicatorOffset]="launcher.indicatorPadding"\n[display]="display"\n></positioning>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n(0),r=n(1),o=n(4),s=n(6),a=(n.n(s),n(3)),c=n(40),u=n(181),d=n(29),l=n(45),p=n(345),f=n(468),h=n(140),b=n(178),m=n(56),g=n(482),v=n(139),y=(function(){function t(t){this.store=t,this.navtipIndicators={},this.CheckState=d.a,this.BadgeType=a.g,this.loadedFlowsList=[],this.loadedContentList=[]}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new s.Subject,this.launcherIcon=this.store.select(m.e).takeUntil(this.ngUnsubscribe),this.panelVisible=this.store.select(c.f.selectPanelVisible).takeUntil(this.ngUnsubscribe),this.badges=this.store.select(g.b).takeUntil(this.ngUnsubscribe),this.activeAnnouncements=this.store.select(g.a).takeUntil(this.ngUnsubscribe),this.badge=this.store.select(p.a).takeUntil(this.ngUnsubscribe),this.mouseOverBadgeId=this.store.select(g.c).takeUntil(this.ngUnsubscribe),this.store.select(f.c).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.loadedFlowsList=e})),this.store.select(h.b).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.loadedContentList=e})),this.store.select(l.e).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.isFormConnected=e})),this.displayState=s.Observable.combineLatest(this.mouseOverBadgeId,this.badge,this.panelVisible).takeUntil(this.ngUnsubscribe),this.store.select(b.a).takeUntil(this.ngUnsubscribe).subscribe((function(e){return t.isElementPicking=e}))},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t.prototype.trackByFn=function(t,e){return e&&e.id},t.prototype.onIndicatorMouse=function(t,e){var n;this.mouseOverBadgeId.take(1).subscribe((function(t){return n=t})),e||n!==t.id?e&&this.store.dispatch(Object(v.m)(t.id)):this.store.dispatch(Object(v.m)(null))},t.prototype.shouldDisplayNavTip=function(t){var e;return this.displayState.take(1).subscribe((function(n){var i=n[0],r=n[1],o=n[2],s=i===t.id,a=r&&t.id===r.id&&o,c=t.checkState===d.a.Present;e=c&&(s||a)})),e},t.prototype.shouldDisplayIndicator=function(t){var e=t.checkState===d.a.Present;return e&&(t.type!==a.g.NavTip&&t.type!==a.g.Launcher||(e=t.hoverMessage&&t.hoverMessage.length>0,e&&t.launcherType===a.v.Flow?e=Object(u.c)(t.flowId,this.loadedFlowsList):!e||t.launcherType!==a.v.URL&&t.launcherType!==a.v.Video||(e=Object(u.b)(t.customContentId,this.loadedContentList)))),e},t.prototype.onBadgeInit=function(t,e){this.navtipIndicators[e]=t},t.prototype.isBadgeEditorActive=function(t){var e,n=this;return this.displayState.take(1).subscribe((function(i){var r=(i[0],i[1]),o=i[2];e=r&&t.id===r.id&&!n.isElementPicking&&o})),e},t})();y=i.c([Object(r.Component)({selector:"badge",template:n(1437)}),i.f("design:paramtypes",[o.f])],y)},function(t,e){t.exports='<div [ngSwitch]="badge.type" *ngFor="let badge of (badges | async); let i = index; trackBy: trackByFn">\n  <launcher-indicator *ngSwitchCase="BadgeType.Launcher"\n    [launcher]="badge"\n    (init)="onBadgeInit($event, i)"\n    [display]="shouldDisplayIndicator(badge)"\n    [launcherIcon]=\'launcherIcon | async\'\n    (isMouseIn)="onIndicatorMouse(badge, $event)">\n  </launcher-indicator>\n\n  <navtip-indicator *ngSwitchCase="BadgeType.NavTip"\n    [navtip]="badge"\n    (init)="onBadgeInit($event, i)"\n    [display]="shouldDisplayIndicator(badge)"\n    (isMouseIn)="onIndicatorMouse(badge, $event)">\n  </navtip-indicator>\n\n  <navtip *ngIf="badge.type===BadgeType.Launcher || badge.type===BadgeType.NavTip"\n    [navtip]="badge"\n    [indicator]="navtipIndicators[i]"\n    [panelVisible]="panelVisible | async"\n    [display]="shouldDisplayNavTip(badge)">\n  </navtip>\n</div>\n\n<div *ngFor="let announcement of (activeAnnouncements | async); let i = index; trackBy: trackByFn">\n  <announcement-window\n    [announcement]="announcement"\n    [display]="isBadgeEditorActive(announcement)">\n  </announcement-window>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(11),c=n(75),u=n(74),d=n(29),l=n(139),p=n(482),f=(function(){function t(t,e,n){var i=this;this.action$=t,this.store=e,this.messages=n,this.clearData$=this.action$.ofType(l.a).do((function(){return i.messages.sendMessage({type:a.b.ClearBadgeData})})).filter((function(){return null})),this.pushData$=this.action$.ofType(l.e).map(o.d).do((function(t){var e=t.badges;return i.sendBadgeData(e)})).filter((function(){return null})),this.updateBadge$=this.action$.ofType(c.g,c.e).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0],n=t[1],r=Object(p.b)(n);if(r){var o=r.find((function(t){return t.id===e.id}));o&&o.checkState===d.a.NotChecked&&i.messages.sendMessage({type:a.b.UpdateBadgeData,badge:{id:e.id,element:e.element}})}})).filter((function(){return null})),this.createBadges$=this.action$.ofType(u.b.SUCCEEDED).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0];t[1];i.messages.sendMessage({type:a.b.UpdateBadgeData,badge:{id:e.id,element:e.element}})})).filter((function(){return null})),this.deleteBadge$=this.action$.ofType(u.c.SUCCEEDED).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0];t[1];i.messages.sendMessage({type:a.b.DeleteBadgeData,badgeId:e.id})})).filter((function(){return null})),this.messages.ofType(a.b.RequestBadgeData).subscribe(this.onRequestBadgeData.bind(this)),this.messages.ofType(a.b.UpdateBadgeState).subscribe(this.onBadgeState.bind(this)),this.messages.ofType(a.b.FramesChanged).subscribe(this.onCheckElements.bind(this))}return t.prototype.onBadgeState=function(t){this.store.dispatch(Object(l.n)(t.badgesState))},t.prototype.onRequestBadgeData=function(){var t=this;this.store.take(1).subscribe((function(e){var n=Object(p.b)(e);n&&t.sendBadgeData(n)}))},t.prototype.sendBadgeData=function(t){this.messages.sendMessage({type:a.b.SetBadgeData,badges:(t||[]).map((function(t){return{id:t.id,element:t.element}}))})},t.prototype.onCheckElements=function(){this.store.dispatch(Object(l.i)()),this.messages.sendMessage({type:a.b.RecheckBadges})},t})();i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"clearData$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"pushData$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"updateBadge$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"createBadges$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],f.prototype,"deleteBadge$",void 0),f=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,s.f,a.e])],f)},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return w}));var i,r=n(0),o=n(10),s=(n.n(o),n(3)),a=n(29),c=n(75),u=n(74),d=n(139),l={badgesState:null,mouseOverBadgeId:null,activeAnnouncement:null},p=function(t){var e=t;return r.a({},e,{indicatorPadding:e.indicatorPadding||0,checkState:a.a.NotChecked})},f=function(t,e){return r.a({},t,{badgesState:(e.badges||[]).map(p)})},h=function(t,e){return r.a({},t,{activeAnnouncement:e.announcements})},b=function(t){return l},m=function(t,e){if(!t.badgesState)return t;var n=t.badgesState.find((function(t){return t.id===e.id}));return n=o.cloneDeep(n),o.isEqual(n.element,e.element)||(n.checkState=a.a.NotChecked),n=o.merge({},n,e),r.a({},t,{badgesState:t.badgesState.map((function(t){return t.id===n.id?n:t}))})},g=function(t,e){return r.a({},t,{badgesState:t.badgesState&&t.badgesState.map((function(t){var n=e.badges.find((function(e){return e.id===t.id}));return n&&n.checkState!==a.a.NotChecked?r.a({},t,n):t})),activeAnnouncement:t.activeAnnouncement})},v=function(t,e){return r.a({},t,{badgesState:t.badgesState.concat([p(e)])})},y=function(t,e){return r.a({},t,{badgesState:t.badgesState.filter((function(t){return t.id!==e.id}))})},O=function(t,e){return r.a({},t,{mouseOverBadgeId:e})},j=function(t){return r.a({},t,{badgesState:t.badgesState&&t.badgesState.map((function(t){return r.a({},t,{checkState:a.a.NotChecked})}))})},E=function(t,e){return r.a({},t,{activeAnnouncement:t.activeAnnouncement&&t.activeAnnouncement.map((function(t){return t.id===e.announcementId?r.a({},t,{isVisible:!1}):t}))})},S=(i={},i[d.e]=f,i[d.a]=b,i[d.g]=g,i[c.g]=m,i[c.e]=m,i[u.b.SUCCEEDED]=v,i[c.b.SUCCEEDED]=y,i[d.f]=O,i[d.b]=j,i[d.c]=E,i[d.d]=h,i),w=Object(s._3)(S,l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(10),s=(n.n(o),n(6)),a=(n.n(s),n(3)),c=(function(){function t(){this.contentEdited=new r.EventEmitter,this.uploadedCustomContentChange=new r.EventEmitter,this.contentTypes=Object.keys(a.k).filter((function(t){return!isNaN(+t)})).map((function(t){return Object(a.X)(+t)})),this.deploymentsList=Object.keys(a.j).filter((function(t){return!isNaN(+t)})).map((function(t){return Object(a.U)(+t)})),this._uploadedCustomContent=null}return Object.defineProperty(t.prototype,"uploadedCustomContent",{get:function(){return this._uploadedCustomContent},set:function(t){this._uploadedCustomContent=t,this.uploadedCustomContentChange.emit(t)},enumerable:!0,configurable:!0}),t.prototype.onChange=function(){this.contentEdited.emit(o.cloneDeep(this.uploadedCustomContent))},t.prototype.ngOnInit=function(){this.ngUnsubscribe=new s.Subject},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();i.c([Object(r.Input)(),i.f("design:type",Boolean)],c.prototype,"disabled",void 0),i.c([Object(r.Output)(),i.f("design:type",r.EventEmitter)],c.prototype,"contentEdited",void 0),i.c([Object(r.Input)(),i.f("design:type",Object),i.f("design:paramtypes",[Object])],c.prototype,"uploadedCustomContent",null),i.c([Object(r.Output)(),i.f("design:type",Object)],c.prototype,"uploadedCustomContentChange",void 0),c=i.c([Object(r.Component)({selector:"upload-custom-content",template:n(1441)})],c)},function(t,e){t.exports='<div class="input-component">\n  <label class="form-label">Name</label>\n  <input mdInput type="text" name="name" placeholder="Enter Name" [(ngModel)]="uploadedCustomContent.name" (input)="onChange()" required>\n</div>\n<div class="input-component">\n  <label class="form-label">URL Link</label>\n  <input mdInput type="text" name="url" placeholder="Enter URL Link"  [(ngModel)]="uploadedCustomContent.url" (input)="onChange()"\n    required>\n</div>\n'},function(t,e){t.exports='\n<md-select class="select-component" placeholder="Select {{mapContentType}}" name="customContentId" [(ngModel)]="customContentId"\n  [disabled]="isDisabled | async">\n  <div *ngFor="let content of (contents | async)">\n    <md-option *ngIf="content.type===type" [(value)]="content.id">{{ content.name }}</md-option>\n  </div>\n  <md-option value="-1">\n    Add new Content\n  </md-option>\n</md-select>\n\n<div class="lz-add-knowledge-content">\n  <div class="lz-upload-content" *ngIf="(uploadEnabled|async)">\n    <upload-custom-content [(uploadedCustomContent)]="uploadedCustomContent" (contentEdited)="onContentEdited($event)"></upload-custom-content>\n  </div>\n</div>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(0),r=n(449),o=n(1),s=n(449),a=(function(){function t(){this.CustomContentValidationErrors=s.a,this.getCustomContentDisplayText=r.b}return t})();i.c([Object(o.Input)(),i.f("design:type",Array)],a.prototype,"customContentValidation",void 0),a=i.c([Object(o.Component)({selector:"pick-custom-content-warnings",template:n(1444)})],a)},function(t,e){t.exports='<div *ngFor="let error of customContentValidation">\n  <div class="notification-msg notification-msg--warning active">\n    <p>{{getCustomContentDisplayText(error)}}</p>\n  </div>\n</div>\n'},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return g}));var i,r=n(0),o=n(3),s=n(210),a={id:-1,name:"",type:null,deployment:o.j.Published,url:""},c={type:null,uploadedContent:a,isUploadEnabled:!1},u=Object(o.Q)(s.f,{init:function(t){return r.a({},t,{customContent:null})},succeeded:function(t,e){return r.a({},t,{customContent:e})}}),d=Object(o.Q)(s.d,{init:function(t){return r.a({},t)},succeeded:function(t,e){return r.a({},t,{uploadedContent:e,isUploadEnabled:!1})}}),l=function(t,e){return r.a({},t,{type:e})},p=function(t){return r.a({},t,{type:null})},f=function(t,e){return r.a({},t,{uploadedContent:e})},h=function(t,e){return r.a({},t,{isUploadEnabled:e})},b=function(t){return r.a({},t,{uploadedContent:a})},m=r.a({},u,d,(i={},i[s.g]=l,i[s.b]=p,i[s.e]=f,i[s.a]=h,i[s.c]=b,i)),g=Object(o._3)(m,c)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return g}));var i,r=n(0),o=n(3),s=n(123),a=n(346),c={appReady:!1,application:null,hardConfig:null,configurations:null,detectingApplication:!1,locales:null},u=Object(o.Q)(s.e,{init:function(t){return r.a({},t,{applications:null,currentApplicationIndex:-1})},succeeded:function(t,e){return r.a({},t,{application:e.application,hardConfig:e.hardConfig})}}),d=Object(o.Q)(s.f,{init:function(t){return r.a({},t,{locales:null})},succeeded:function(t,e){return r.a({},t,{locales:e})}}),l=function(t){return r.a({},t,{appReady:!0})},p=function(t,e){return r.a({},t,{configurations:e})},f=function(t){return r.a({},t,{detectingApplication:!0})},h=function(t){return r.a({},t,{detectingApplication:!1})},b=function(t,e){var n=t.configurations&&t.configurations.knownConfigurations.find((function(t){return t.key===e}));return n?r.a({},t,{hardConfig:Object(o.M)(n,a.a)}):t},m=r.a({},u,d,(i={},i[s.c]=l,i[s.h]=p,i[s.b]=f,i[s.a]=h,i[s.g]=b,i[s.d]=function(){return c},i)),g=Object(o._3)(m,c)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return deserializeFunction}));var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__(87),__WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__),deserializeFunction=function(funcString){return funcString?(function($){var func;return eval("func = "+funcString),func})(__WEBPACK_IMPORTED_MODULE_0_jquery___default.a):null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(8),s=n(4),a=n(3),c=n(11),u=n(42),d=n(123),l=n(12),p=n(346),f=n(37),h="letzNavApplicationConfig",b=(function(){function t(t,e,n,r,s){var f=this;this.action$=t,this.backendService=e,this.messages=n,this.store=r,this.config=s,this.loadApplications$=this.action$.ofType(d.e.INIT).switchMapCorx((function(t){var e=t.get,n=t.put;return i.b(f,void 0,void 0,(function(){var t,r,o,s,u,l,f,b,m;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,11,,13]),t=void 0,[3,2];case 1:return t=i.sent(),[3,4];case 2:return[4,e(this.backendService.getApplications())];case 3:t=i.sent(),i.label=4;case 4:return r=window.location.origin,o=t.find((function(t){return t.rootUrl&&t.rootUrl.startsWith(r)||t.preProdUrl&&t.preProdUrl.startsWith(r)})),s=!o&&!1&&this.config.isDemo&&1===t.length,s?[4,n(Object(d.j)())]:[3,9];case 5:return i.sent(),o=t[0],[4,e(this.backendService.getApplicationConfigurations())];case 6:return u=i.sent(),[4,n(Object(d.n)(u))];case 7:return i.sent(),l=localStorage.getItem(h)||sessionStorage.getItem(h),f=null,l&&(f=u.knownConfigurations.find((function(t){return t.key===l}))),f||(f=this.detectApplicationConfiguration(u)),f||(f=u.knownConfigurations.find((function(t){return t.key===a.a.unknown})),sessionStorage.setItem(h,f.key)),o.hardConfig=f,[4,n(Object(d.i)())];case 8:i.sent(),i.label=9;case 9:return b=o&&Object(a.M)(o.hardConfig,p.a),[4,n(d.e.succeeded({application:o,hardConfig:b}))];case 10:return i.sent(),o&&this.messages.sendMessage({type:c.b.ApplicationConfig,config:o.config,hardConfig:o.hardConfig}),[3,13];case 11:return m=i.sent(),[4,n(d.e.failed(m))];case 12:return i.sent(),[3,13];case 13:return[2]}}))}))})),this.loadLocales$=this.action$.ofType(d.f.INIT).withLatestFrom(this.store).switchMapCorx((function(t,e){var n=t.get,r=t.put,o=(e[0],e[1]);return i.b(f,void 0,void 0,(function(){var t,e,s;return i.e(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,5]),t=Object(l.a)(o).id,[4,n(this.backendService.getAvailableLanguages(t))];case 1:if(e=i.sent(),0===e.length)throw new Error("Application does not have any languages");return[4,r(d.f.succeeded(e))];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),[4,r(d.f.failed(s))];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))})),this.onLoginLogout=this.action$.ofType(u.k,u.j).do((function(){return f.messages.sendMessage({type:c.b.ClearApplicationCache})})).filter((function(){return null})),this.selectConfiguration=this.action$.ofType(d.g).map(o.d).withLatestFrom(this.store).do((function(t){var e=t[0],n=t[1],i=Object(l.a)(n),r=Object(l.b)(n),o=r.find((function(t){return t.key===e}));o&&(localStorage.setItem(h,e),f.messages.sendMessage({type:c.b.ApplicationConfig,config:i.config,hardConfig:o}))})).filter((function(){return null})),this.messages.ofTypeResponse(c.b.GetApplicationConfig).withLatestFrom(this.store.select(l.a)).subscribe((function(t){var e=t[0],n=t[1];return e.sendResponse({config:n&&n.config,hardConfig:n&&n.hardConfig})}))}return t.prototype.detectApplicationConfiguration=function(t){for(var e=Object(p.a)(t.retrieveDetectionData),n=e&&e(document,window.location),i=0;i<t.knownConfigurations.length;++i){var r=Object(p.a)(t.knownConfigurations[i].isApplication);if(r&&r(n))return localStorage.setItem(h,t.knownConfigurations[i].key),t.knownConfigurations[i]}return null},t})();i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"loadApplications$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"loadLocales$",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"onLoginLogout",void 0),i.c([Object(o.b)(),i.f("design:type",Object)],b.prototype,"selectConfiguration",void 0),b=i.c([Object(r.Injectable)(),i.g(4,Object(r.Inject)(f.b)),i.f("design:paramtypes",[o.a,a.f,c.e,s.f,Object])],b)},function(t,e,n){"use strict";var i=n(1450);n.d(e,"a",(function(){return i.a}));var r=n(1451);n.d(e,"b",(function(){return r.a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(19),c=n(6),u=(n.n(c),n(16)),d=(n.n(u),n(123)),l=n(12),p=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(u.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t,e;return i.e(this,(function(i){switch(i.label){case 0:return[4,n(this.store.select(l.a).take(1))];case 1:return t=i.sent(),t?[2]:[4,r(d.e.init())];case 2:return i.sent(),[4,n((e=this.actions$).ofType.apply(e,d.e.RESULT_ACTIONS).take(1))];case 3:return i.sent(),[4,n(this.store.select(l.a).take(1))];case 4:return t=i.sent(),t?[3,6]:[4,r(Object(a.b)("unknown-application"))];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null})).concat(c.Observable.of(null))},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(16),c=(n.n(a),n(123)),u=n(12),d=(function(){function t(t,e){this.store=t,this.actions$=e}return t.prototype.resolve=function(){var t=this;return Object(a.corx)((function(e){var n=e.get,r=e.put;return i.b(t,void 0,void 0,(function(){var t;return i.e(this,(function(e){switch(e.label){case 0:return[4,n(this.store.select(u.a).takeWhile((function(t){return!t})))];case 1:return e.sent(),[4,r(c.f.init())];case 2:return e.sent(),[4,n((t=this.actions$).ofType.apply(t,c.f.RESULT_ACTIONS).take(1))];case 3:return e.sent(),[2]}}))}))})).do((function(e){return t.store.dispatch(e)})).map((function(){return null}))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f,s.a])],d)},function(t,e){t.exports='<div class="letznav-logo"></div>\n<account-login></account-login>\n'},function(t,e){t.exports='<span class="mdi mdi-close letznav-panel-close" (click)="onClose()"></span>\n<div>This application is not known application of your LetzNav.</div>\n'},function(t,e){t.exports='<div class="top-bar">\n  <div class="top-bar__container workflows">\n    <back-btn backTo="../"></back-btn>\n    <span class="letznav-panel-title">\n      Forgotten Password\n    </span>\n  </div>\n</div>\n<account-forgotten-password></account-forgotten-password>'},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return b}));var i=n(4),r=n(1456),o=(n.n(r),n(19)),s=n(1457),a=(n.n(s),n(42)),c=n(40),u=n(32),d=n(97),l=n(98),p=n(71),f={router:{path:""},account:a.n,frame:c.g,admin:l._29,flows:l._40,flow:l._42,editFlow:l._36,step:l._47,storage:u.f,dialogs:d.f,bubblePreview:l._34,flowPlay:l._41,player:p.G,flowFeedback:p.B,flowIntegrity:l._39,changeLanguage:p.z,i18n:p.C,playerOptions:p.F,playerEvents:p.E,playerConditions:p.D,forms:l._43,editForm:l._37,form:l._45,validation:l._48,formValidation:l._44,activeForms:p.y,elementPicker:l._38,decisionEvaluation:p.A,badgeForms:l._30,badgeForm:l._31,badge:l._33,badgeState:l._32,pickFlowAndStep:l._46,customContent:l._35,PickCustomContent:l._28},h=[u.h,i.h],b=r.compose.apply(void 0,h)({router:o.d,account:a.m,frame:c.e,admin:l._10,flows:l._22,flow:l._24,editFlow:l._18,step:l._51,storage:u.l,dialogs:d.e,bubblePreview:l._16,flowPlay:l._23,player:p.M,flowFeedback:p.w,flowIntegrity:l._21,changeLanguage:p.u,i18n:p.x,playerOptions:p.L,playerEvents:p.K,playerConditions:p.J,forms:l._25,editForm:l._19,form:l._27,validation:l._52,formValidation:l._26,activeForms:p.t,elementPicker:l._20,decisionEvaluation:p.v,badgeForms:l._11,badgeForm:l._12,badge:l._14,badgeState:l._13,pickFlowAndStep:l._49,customContent:l._17,PickCustomContent:l.X})},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(8),a=n(5),c=(n.n(a),(function(){function t(t,e){this.action$=t,this.store=e}return t.prototype.startDebugConsole=function(){this.action$.subscribe((function(t){console.log(a.utc().toISOString(),"Action",t.type,t.payload)})),this.store.subscribe((function(t){console.log(a.utc().toISOString(),"State",t)}))},t.prototype.startErrorLogging=function(){this.action$.subscribe((function(t){t&&"string"==typeof t.type?t.type.endsWith("FAILED")&&console.error("Failure of effect:",t.type,t):console.error("Invalid action:",t)}))},t})());c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,o.f])],c)},function(t,e,n){"use strict";var i=n(1461);n.d(e,"a",(function(){return i.a})),n.d(e,"b",(function(){return i.b}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(4),s=n(42),a=n(42);n.d(e,"b",(function(){return a.e}));var c=(function(t){function e(e){var n=t.call(this)||this;return n.store=e,n}return i.d(e,t),e.prototype.dispatch=function(t){this.store.dispatch(t)},e.prototype.select=function(t){return this.store.select((function(e){return t(e.account)}))},e.prototype.getState=function(){return this.getAppState().account},e.prototype.getRouterState=function(){return this.getAppState().router},e.prototype.getAppState=function(){var t;return this.store.take(1).subscribe((function(e){return t=e})),t},e})(s.e);c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.f])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(70),s=n(4),a=n(18),c=(n.n(a),n(3)),u=n(56),d=(function(){function t(t,e){var n=this;this.router=t,this.store=e,this.MODE="player",this.POS_OVERLAP_EDITOR=2,this.POS_UNDERLAP_PLAYER=1,this.router.events.subscribe((function(t){t instanceof o.c&&n.router.navigate(["/"])}))}return t.prototype.ngOnInit=function(){var t=this;this.ngUnsubscribe=new a.Subject,this.store.select(u.a.selectTheme).takeUntil(this.ngUnsubscribe).filter((function(t){return!!t})).subscribe((function(e){t.playerDirection=c._10[e.playerPosition].playerClass,t.playerTheme=c._9[e.layoutTheme].class}))},t.prototype.designClass=function(){return t={},t[this.playerDirection+" "+this.playerTheme+" letznav-player-panel"]=!0,t["letznav-panel"]=!1,t;var t},t.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},t})();d=i.c([Object(r.Component)({changeDetection:r.ChangeDetectionStrategy.OnPush,selector:"letznav-app-player",template:n(1463)}),i.f("design:paramtypes",[o.d,s.f])],d)},function(t,e){t.exports='<div letznavPanelVisible [zIndex]="MODE === \'player\' ? POS_UNDERLAP_PLAYER : POS_OVERLAP_EDITOR" [ngClass]="designClass()">\n  <router-outlet></router-outlet>\n</div>\n<letznav-frame></letznav-frame>\n<bubble-preview></bubble-preview>\n<admin-validation></admin-validation>\n<badge></badge>\n<flow-feedback *ngIf="MODE === \'player\'"></flow-feedback>\n<custom-content></custom-content>\n<div class="dragula-container"></div>\n'},function(t,e){},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n(0),r=n(23),o=n(600),s=n(1),a=n(206),c=(n.n(a),n(16)),u=(n.n(c),n(1472)),d=n(486),l=n(1477),p=n(127),f=n(1478),h=n(22),b=n(200),m=(n(209),n(88)),g=n(64),v=n(349),y=n(675),O=n(348),j=n(347),E=n(1479),S=n(1480),w=n(1481),I=n(350),C=n(142),k=n(1482),T=n(1483),_=n(1492),A=n(1493),x=n(159),D=(function(){function t(t,e,n,i,r,o,s,a,c,u,d,l,p,f,h,b,m,g){this.appRef=t,this.tracking=e,this.picker=n,this.flowIntegrity=i,this.frames=r,this.blankFrames=o,this.domTracking=s,this.windowService=a,this.config=c,this.scriptExecution=u,this.playerConditions=d,this.formValidation=l,this.formTracking=p,this.forms=f,this.decisionPoint=h,this.badge=b,this.filterFlows=m,this.elementStorage=g}return t.prototype.ngDoBootstrap=function(){},t})();D=i.c([Object(s.NgModule)({imports:[r.a,o.a],declarations:[],providers:[u.a,d.a,{provide:h.a,useClass:b.a},l.a,p.a,f.a,m.a,g.a,v.a,y.a,O.a,j.a,E.a,S.a,w.a,I.a,C.a,k.a,T.a,_.a,A.a,{provide:x.a,useFactory:x.b}],entryComponents:[]}),i.f("design:paramtypes",[s.ApplicationRef,u.a,d.a,l.a,p.a,f.a,v.a,y.a,O.a,E.a,S.a,w.a,k.a,I.a,T.a,_.a,A.a,x.a])],D)},function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(87)),a=n.n(s),c=n(3),u=n(22),d=n(28),l=n(64),p=n(127),f=n(88),h=n(486),b=n(347),m=n(674),g=n(159),v=n(349),y={elementId:null,elementRect:null,isVisible:null,location:null},O=(function(){function t(t,e,n,i,r,s,a,c){var u=this;this.messages=t,this.observer=e,this.frames=n,this.document=i,this.domTracking=r,this.pickerService=s,this.elementStorage=a,this.elementState=y,this.elementEvents=null,this.storedElement=null,this.selector=c.getConfiguredSelector(),this.clearElement(),this.messages.ofType(d.a.ElementSelector).subscribe(this.onSelectElement.bind(this)),this.messages.ofType(d.a.GetElementState).subscribe(this.onGetElementState.bind(this)),this.messages.ofType(d.a.ChangeSelection).subscribe(this.onChangeSelection.bind(this)),this.messages.ofType(d.a.ShowSelection).subscribe(this.onShowSelection.bind(this)),this.messages.ofType(d.a.HideSelection).subscribe(this.onHideSelection.bind(this)),this.messages.ofType(d.a.ScrollToElement).subscribe(this.onScrollToElement.bind(this)),this.messages.sendMessage({type:d.a.GetElementSelector}),this.observer.domChanged.debounceTime(50).subscribe((function(){return u.checkElement()})),o.Observable.fromEvent(window,"scroll",!0).debounceTime(50).subscribe((function(){return u.checkElement()})),this.elementStorage&&this.elementStorage.beforeDisposing.subscribe((function(){u.storedElement&&u.storedElement.refresh()}))}return t.prototype.addVisitedClass=function(){this.selector.element&&this.selector.element.classList.add("crx_mouse_visited")},t.prototype.removeVisitedClass=function(){this.selector.element&&this.selector.element.classList.remove("crx_mouse_visited")},t.prototype.compareElementState=function(t){return t.isVisible===this.elementState.isVisible&&(t.elementRect===this.elementState.elementRect||Object(c.G)(t.elementRect,this.elementState.elementRect))&&t.location===this.elementState.location},t.prototype.checkElement=function(t){if(void 0===t&&(t=!1),this.elementIdentification){var e=!1,n=null,r=null;try{this.elementIdentification.selector&&this.document.checkContainersScore(this.elementIdentification.containers)&&(r=document.querySelector(this.elementIdentification.selector))}catch(t){n=t.message||"Selector error"}this.selector.element!==r&&(this.selectionShown&&this.removeVisitedClass(),this.selector.element=r,this.registerElementEvents(r),this.storedElement=r&&this.elementStorage&&this.elementStorage.storeElement(r),this.selectionShown&&this.addVisitedClass(),t=!0,e=!0);var o;if(r){var s=r.getBoundingClientRect(),c=a()(r).is(":visible");if(c){c=this.document.performHitTest(r,s.left+s.width/2,s.top+s.height/2)}o={elementId:this.storedElement&&this.storedElement.id,elementRect:this.pickerService.getElementRect(r),isVisible:c,location:window.location.href},!this.elementState.isVisible&&c&&(e=!0)}else o=y;if(t||!this.compareElementState(o)){this.elementState=o;var u=i.a({type:d.a.ElementState},o,{elementAppeared:e,zIndex:e?this.domTracking.getCurrentMaxZIndex():null,error:n});this.messages.sendMessage(u)}}},t.prototype.clearElement=function(){this.selectionShown&&(this.removeVisitedClass(),this.selectionShown=!1),this.elementIdentification=null,this.selector.element=null,this.elementState=y,this.registerElementEvents()},t.prototype.onSelectElement=function(t){if((t.elementIdentification.frames||[]).map((function(t){return t.attachIn})).join()!==this.frames.path.join())return void this.clearElement();this.elementIdentification=t.elementIdentification,this.checkElement(!0)},t.prototype.onGetElementState=function(){this.checkElement(!0)},t.prototype.onChangeSelection=function(t){if(this.selector.element){switch(this.removeVisitedClass(),t.change){case d.c.Expand:this.selector.expand();break;case d.c.Narrow:this.selector.narrow();break;case d.c.Previous:this.selector.left();break;case d.c.Next:this.selector.right()}var e=this.selector.getCssSelector();this.elementIdentification.selector=e,this.selectionShown&&this.addVisitedClass(),this.pickerService.sendSelectedElementNavigation(e,this.elementIdentification.containers)}},t.prototype.onShowSelection=function(){this.selector.element&&(this.addVisitedClass(),this.selectionShown=!0)},t.prototype.onHideSelection=function(){this.selector.element&&(this.removeVisitedClass(),this.selectionShown=!1)},t.prototype.registerElementEvents=function(t){var e=this;this.elementEvents&&(this.elementEvents.unsubscribe(),this.elementEvents=null),t&&(this.elementEvents=Object(m.b)(t).subscribe((function(t){e.messages.sendMessage({type:d.a.ElementEvent,event:m.a[t]})})))},t.prototype.onScrollToElement=function(){this.selector.element&&this.selector.element.scrollIntoView({block:"center"})},t})();O=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[u.a,l.a,p.a,f.a,v.a,h.a,g.a,b.a])],O)},function(t,e,n){"use strict";function i(t,e,n){return/xmlns:/.test(t)||/^(id|for)$/.test(t)&&/\d{2,}/.test(e)||/^(tabindex)$/.test(t)||n(t,e)}n.d(e,"a",(function(){return u}));var r=n(0),o=n(87),s=n.n(o),a=n(1474),c=(n.n(a),n(3)),u=(function(){function t(t){void 0===t&&(t={}),this.ancestry=[],this.currentAncestryIdx=0,this.horizontal=[],this.currentHorizontalIdx=0,this.selectorOptions=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.ancestry[this.currentAncestryIdx]||null},set:function(t){t?(this.ancestry=[t],this.horizontal=[t]):(this.ancestry=[],this.horizontal=[]),this.currentAncestryIdx=0,this.currentHorizontalIdx=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectorOptions",{get:function(){return this.options},set:function(t){var e=t.ignore||{},n=e.attribute;e.attribute=function(t,e,r){return i(t,e,r)||n&&n(t,e,r)},this.options=r.a({},t,{ignore:e,maxHorizontalDepth:t.maxHorizontalDepth||5})},enumerable:!0,configurable:!0}),t.prototype.getCssSelector=function(){var t=this.element;return t&&Object(a.select)(t,this.options)},t.prototype.getContainerSelectors=function(){for(var e=this.options.root||document.body,n=[],i=this.element;i&&i!==e;)i=i.parentElement,!1!==t.containerElements.has(i.nodeName.toLowerCase())&&n.unshift(Object(a.select)(i,this.options));return n},t.prototype.findText=function(t){if(!t)return[];var e=new RegExp(t,"i"),n=function(t){return t.nodeType===Node.TEXT_NODE&&e.test(t.data)},i=[];return this.searchElementsByPredicate(n,this.options.root||document.body,i),s()(i).filter(":visible").toArray()},t.prototype.isAllowedElement=function(e){for(var n=0,i=this.getParents(e);n<i.length;n++){var r=i[n],o=r.tagName.toLocaleLowerCase();if(t.excludeNodesInSearch.has(o)&&("iframe"!==o||r.attributes.src))return!1}return!0},t.prototype.isAllowedChild=function(t){return!(this.advancedOptions&&this.advancedOptions.ignoreSVG&&t instanceof SVGElement)},t.prototype.expand=function(){var t=this.element;if(!t)return t;if(this.currentAncestryIdx===this.ancestry.length-1){for(var e=t.getBoundingClientRect(),n=t.parentElement;n&&Object(c.G)(n.getBoundingClientRect(),e)&&n.parentElement;)n=n.parentElement;n&&this.ancestry.push(n)}return this.currentAncestryIdx<this.ancestry.length-1&&(this.currentAncestryIdx+=1,this.currentHorizontalIdx=0,this.horizontal=[this.element]),this.element},t.prototype.narrow=function(){var t=this.element;if(!t)return t;if(0===this.currentAncestryIdx){for(var e=t.getBoundingClientRect(),n=t.firstElementChild;n&&Object(c.G)(n.getBoundingClientRect(),e)&&n.firstElementChild;)n=n.firstElementChild;n&&(this.ancestry.splice(0,0,n),this.currentAncestryIdx+=1)}return this.currentAncestryIdx>0&&(this.currentAncestryIdx-=1,this.currentHorizontalIdx=0,this.horizontal=[this.element]),this.element},t.prototype.left=function(){var t=this.element;if(!t)return t;if(0===this.currentHorizontalIdx){var e=this.horizontalSearch(!0);e&&(this.horizontal.splice(0,0,e),this.currentHorizontalIdx+=1)}if(this.currentHorizontalIdx>0){this.currentHorizontalIdx-=1;var e=this.horizontal[this.currentHorizontalIdx];this.currentAncestryIdx=0,this.ancestry=[e]}return this.element},t.prototype.right=function(){var t=this.element;if(!t)return t;if(this.currentHorizontalIdx===this.horizontal.length-1){var e=this.horizontalSearch(!1);e&&this.horizontal.push(e)}if(this.currentHorizontalIdx<this.horizontal.length-1){this.currentHorizontalIdx+=1;var e=this.horizontal[this.currentHorizontalIdx];this.currentAncestryIdx=0,this.ancestry=[e]}return this.element},t.prototype.findLabel=function(){var t=this.element;if(!t)return null;if(t.labels&&t.labels.length)return t.labels[0];var e=t.attributes.name,n=t.attributes.id,i=e&&e.value.toLowerCase(),r=n&&n.value.toLowerCase(),o=function(t){if(t.nodeType===Node.ELEMENT_NODE&&"label"===t.tagName.toLowerCase()){var e=t.attributes.getNamedItem("for"),n=e&&e.value.toLowerCase();return n===i||n===r}return!1},s=[];return this.searchElementsByPredicate(o,this.options.root||document.body,s),s.length>0?s[0]:null},t.prototype.horizontalSearch=function(t,e){for(var n,i=this.element,r=this.searchUp();!n&&r.depth<this.options.maxHorizontalDepth;){if(n=this.discoverChildren(r,t,e||i.tagName))return n;r=this.searchUp(r)}return null},t.prototype.searchUp=function(t){var e=t||{depth:0,ancestor:this.element,elIdx:0};if(e.ancestor){e.depth+=1;var n=e.ancestor;if(e.ancestor=e.ancestor.parentElement,e.ancestor)for(var i=0;i<e.ancestor.children.length;++i)if(e.ancestor.children[i]===n){e.elIdx=i;break}}return e},t.prototype.discoverChildren=function(t,e,n){if(!t.ancestor)return null;for(var i=e?-1:1,r=t.elIdx+i;r>=0&&r<t.ancestor.children.length;r+=i){var o=this.descend(t.ancestor.children[r],t.depth-1,n);if(o)return o}return null},t.prototype.descend=function(t,e,n){if(0===e)return t.tagName===n?t:null;for(var i=0;i<t.children.length;++i){var r=this.descend(t.children[i],e-1,n);if(r)return r}return null},t.prototype.searchElementsByPredicate=function(e,n,i){if(n)for(var r=n.childNodes,o=r.length;o--;){var s=r[o];if(s.nodeType===Node.ELEMENT_NODE&&!1===t.excludeNodesInSearch.has(s.nodeName.toLowerCase()))e(s)&&i.push(s),this.searchElementsByPredicate(e,s,i);else{if(!e(s))continue;i.push(s.parentElement)}}},t.prototype.getParents=function(t){for(var e=[t];e[e.length-1].parentElement;)e.push(e[e.length-1].parentElement);return e},t})();u.excludeNodesInSearch=new Set(["head","style","title","link","meta","script","object","iframe","letznav-app-player","letznav-app-editor"]),u.containerElements=new Set(["div","table","nav","header","footer","section","figure","main","ul","ol"])},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(87),s=n.n(o),a=n(29),c=n(88),u=n(127),d=n(22),l=n(28),p=n(64),f=function(t){return{id:t.id,isMilestone:t.isMilestone,elementIdentification:t.elementIdentification,containersState:a.a.NotChecked,pivotElements:t.pivotElements.map((function(t){return{elementIdentification:t,elementState:a.a.NotChecked,element:null}}))}},h=function(t){return{id:t.id,isMilestone:t.isMilestone,containersState:t.containersState,pivotElementsState:t.pivotElements.map((function(t,e){return{index:e,elementState:t.elementState}})).filter((function(t){return t.elementState!==a.a.NotChecked}))}},b=(function(){function t(t,e,n,i){var r=this;this.document=t,this.frames=e,this.messages=n,this.observer=i,this.currentStep=null,this.currentMilestone=null,this.pivotsHighlighted=!1,this.highlightedPivot=null,this.highlightedPivots=[],this.messages.ofType(l.a.ClearIntegrityState).subscribe(this.onClearIntegrityState.bind(this)),this.messages.ofType(l.a.LoadIntegrityState).subscribe(this.onLoadIntegrityState.bind(this)),this.messages.ofType(l.a.SetCurrentStep).subscribe(this.onSetCurrentStep.bind(this)),this.messages.ofType(l.a.UpdateIntegrityState).subscribe(this.onUpdateIntegrityState.bind(this)),this.messages.ofType(l.a.ShowPivot).subscribe(this.onShowPivot.bind(this)),this.messages.ofType(l.a.HidePivot).subscribe(this.onHidePivot.bind(this)),this.messages.ofType(l.a.AddStepToIntegrity).subscribe(this.onAddStepToIntegrity.bind(this)),this.observer.domChanged.debounceTime(50).subscribe((function(){r.checkIntegrity(),r.checkPivotsHighlight()})),this.messages.sendMessage({type:l.a.RequestIntegrityState})}return t.prototype.checkFramePath=function(t,e){return(t||[]).map((function(t){return t.attachIn})).join()===e},t.prototype.checkIntegrity=function(t){var e=this.checkMilestones();if(this.currentStep>0){var n=this.steps[this.currentStep-1];e=this.checkStep(n)||e}(e||t)&&this.messages.sendMessage({type:l.a.IntegrityState,steps:this.steps.map(h)})},t.prototype.checkMilestones=function(){var t=this;if(this.steps){var e=!1;return this.steps.filter((function(t){return t.isMilestone})).forEach((function(n){e=t.checkStep(n)||e})),e}return!1},t.prototype.checkPivot=function(t){var e=t.elementState,n=null;if(this.document.checkContainersScore(t.elementIdentification.containers))try{n=document.querySelector(t.elementIdentification.selector)}catch(t){}return t.element=n,t.elementState=n?s()(n).is(":visible")?a.a.Present:a.a.NotVisible:a.a.NotPresent,t.elementState!==e},t.prototype.checkStep=function(t){var e=this,n=this.frames.path.join(),i=!1;if(t.elementIdentification&&this.checkFramePath(t.elementIdentification.frames,n)){var r=t.containersState;t.containersState=this.document.checkContainersScore(t.elementIdentification.containers)?a.a.Present:a.a.NotPresent,i=t.containersState!==r}if(t.pivotElements){var o=!1;t.pivotElements.forEach((function(t){e.checkFramePath(t.elementIdentification.frames,n)&&(o=e.checkPivot(t)||o)})),i=i||o}return i},t.prototype.findCurrentMilestone=function(){if(null===this.currentStep)return void(this.currentMilestone=null);for(var t=this.currentStep;t>=0&&!this.steps[t].isMilestone;)--t;this.currentMilestone=t>=0?t:null},t.prototype.onAddStepToIntegrity=function(t){this.steps&&(this.steps=this.steps.concat([f(t.step)]))},t.prototype.onClearIntegrityState=function(){this.steps=null,this.currentMilestone=null,this.currentStep=null},t.prototype.onLoadIntegrityState=function(t){this.onClearIntegrityState(),this.steps=t.steps.map(f),this.checkIntegrity(!0)},t.prototype.onSetCurrentStep=function(t){if(this.steps){var e=this.steps.findIndex((function(e){return e.id===t.stepId}));if(e<0)return void console.error("Cannot find step",t.stepId);this.currentStep=e,this.checkIntegrity(!0),this.findCurrentMilestone()}},t.prototype.onUpdateIntegrityState=function(t){if(this.steps){var e=this.steps.findIndex((function(e){return e.id===t.step.id}));if(e<0)return void console.error("Cannot find step",t.step);this.steps[e]=f(t.step),this.checkIntegrity(!0),this.findCurrentMilestone()}},t.prototype.onShowPivot=function(t){this.highlightedPivot=Number.isInteger(t.pivotIndex)?t.pivotIndex:null,this.pivotsHighlighted=!0,this.checkPivotsHighlight()},t.prototype.onHidePivot=function(){this.pivotsHighlighted=!1,this.checkPivotsHighlight()},t.prototype.checkPivotsHighlight=function(){var t=this;if(this.pivotsHighlighted){var e=[];null!==this.currentMilestone&&(e=this.steps[this.currentMilestone].pivotElements.map((function(t){return t.element})),null!==this.highlightedPivot&&this.highlightedPivot<e.length&&(e=[e[this.highlightedPivot]])),(e.length!==this.highlightedPivots.length||e.some((function(e,n){return t.highlightedPivots[n]!==e})))&&(this.highlightedPivots.forEach((function(t){return t&&t.classList.remove("crx_pivot_highlight")})),this.highlightedPivots=e,this.highlightedPivots.forEach((function(t){return t&&t.classList.add("crx_pivot_highlight")})))}else this.highlightedPivots.length&&(this.highlightedPivots.forEach((function(t){return t&&t.classList.remove("crx_pivot_highlight")})),this.highlightedPivots=[])},t})();b=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[c.a,u.a,d.a,p.a])],b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(64),s=function(t){return function(e){var n=t.getBoundingClientRect(),i=new MouseEvent(e.type,{bubbles:!0,cancelable:!1,view:window,detail:e.detail,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX+n.left,clientY:e.clientY+n.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,relatedTarget:null});t.dispatchEvent(i)}},a=function(t){return function(e){var n=new FocusEvent(e.type,{bubbles:!0,cancelable:!1,view:e.view,detail:e.detail});t.dispatchEvent(n)}},c=(function(){function t(t){var e=this;this.observer=t,this.frames=[],this.observer.domChanged.debounceTime(100).subscribe((function(){return e.checkFrames()}))}return t.prototype.registerFrame=function(t){var e=s(t),n=a(t);t.contentWindow.addEventListener("mousemove",e),t.contentWindow.addEventListener("click",e),t.contentWindow.addEventListener("focus",n),t.contentWindow.addEventListener("blur",n);var i={iframe:t,mouseHandler:e,focusHandler:n};this.frames.push(i)},t.prototype.checkFrames=function(){for(var t=[],e=0,n=this.frames;e<n.length;e++){var i=n[e];document.contains(i.iframe)||t.push(i)}t.length&&(this.frames=this.frames.filter((function(e){return t.indexOf(e)<0})));for(var r=document.getElementsByTagName("iframe"),o=this,s=0;s<r.length;++s)(function(t){r[t].src||o.frames.find((function(e){return e.iframe===r[t]}))||o.registerFrame(r[t])})(s)},t})();c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a])],c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(0),r=n(1),o=n(87),s=n.n(o),a=n(22),c=n(28),u=n(3),d=(function(){function t(t){var e=this;this.messages=t,this.scriptFlowApi={next:function(){e.sendScriptAction(c.b.Next)},back:function(){e.sendScriptAction(c.b.Previous)},goto:function(t){if(!Number.isInteger(t))throw new Error("Step is not an integer (was "+t+")");e.sendScriptAction(c.b.GoToStep,{stepIndex:t-1})},end:function(){e.sendScriptAction(c.b.End)},fail:function(){e.sendScriptAction(c.b.Fail)},get step(){return (function(){return Number.isInteger(e.executionInfo.currentStep)?e.executionInfo.currentStep+1:null})()},get flowId(){return (function(){return e.executionInfo.flowId})()}},this.staticApi={sendUserAction:function(t,n){if("string"!=typeof t||!t.match(new RegExp(u.l.codeValidationRegex)))throw new Error("Code has to be string of 6 alphanumerical characeters (was "+t+")");if("object"!=typeof n&&void 0!==n)throw new Error("Data must be object. (was "+typeof n+")");var i;n&&(i=JSON.parse(JSON.stringify(n))),e.sendScriptAction(c.b.UserAction,{code:t,data:i})},shared:{}},this.executionInfo=null,this.appScriptExecuted=!1,this.lastStepScriptExecuted=!1,Object.freeze(this.scriptFlowApi),Object.freeze(this.staticApi),this.messages.ofType(c.a.ExecuteStepScript).skipWhile((function(){return null===e.executionInfo})).filter((function(){return!e.lastStepScriptExecuted})).subscribe((function(t){e.lastStepScriptExecuted=!0,e.executeScript(t.script)})),this.messages.ofType(c.a.ExecuteAppScript).skipWhile((function(){return null===e.executionInfo})).takeWhile((function(){return!e.appScriptExecuted})).subscribe((function(t){e.appScriptExecuted=!0,e.executeScript(t.script)})),this.messages.ofType(c.a.ScriptExecutionState).subscribe((function(t){e.executionInfo&&e.executionInfo.currentStepId!==t.currentStepId&&(e.lastStepScriptExecuted=!1),e.executionInfo=t})),this.messages.sendMessage({type:c.a.GetCurrentScripts})}return t.prototype.executeScript=function(t){try{new Function("with(this) { return (function () {'use strict'; "+t+"}).call(this) }").call({letzNavApi:i.a({},this.staticApi,{flow:this.scriptFlowApi}),$:s.a})}catch(t){console.error("Script execution error",t)}},t.prototype.sendScriptAction=function(t,e){this.messages.sendMessage(i.a({type:c.a.ScriptExecutionAction,action:t},e))},t})();d=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[a.a])],d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(0),r=n(1),o=n(87),s=n.n(o),a=n(10),c=(n.n(a),n(6)),u=(n.n(c),n(3)),d=n(181),l=n(64),p=n(675),f=n(127),h=n(22),b=n(28),m=(function(){function t(t,e,n,i){var r=this;this.messages=t,this.observer=e,this.windowService=n,this.frames=i,this._condition=new c.BehaviorSubject(null),this._stepId=null,this._forceSendEvaluation=!1,this.messages.ofType(b.a.StepCondition).subscribe((function(t){r._stepId=t.stepId,r._forceSendEvaluation=!0,r._condition.next(t.condition)})),c.Observable.combineLatest(this.condition$,this.observer.domChanged.debounceTime(100).merge(c.Observable.of(null)),this.windowService.urlChanged$.debounceTime(50).merge(c.Observable.of(null))).map((function(t){var e=t[0];return e?r.evaluateCondition(e,{parsedUri:Object(d.d)(window.location.href)}):null})).distinctUntilChanged((function(t,e){return!r._forceSendEvaluation&&a.isEqual(t,e)})).subscribe((function(t){r._forceSendEvaluation=!1,r.messages.sendMessage({type:b.a.StepConditionEvaluation,condition:t,frameId:r.frames.path.join(),stepId:r._stepId})})),this.messages.sendMessage({type:b.a.GetStepCondition})}return Object.defineProperty(t.prototype,"condition$",{get:function(){return this._condition},enumerable:!0,configurable:!0}),t.prototype.evaluateCondition=function(t,e){var n=this;switch(t.type){case u.i.And:case u.i.Or:var i=t;return{type:t.type,operands:i.operands.map((function(t){return n.evaluateCondition(t,e)}))};case u.i.Not:var r=t;return{type:t.type,operands:[this.evaluateCondition(r.operand,e)]};case u.i.ElementExists:var o=t;return{type:t.type,result:s()(o.selector).length>0};case u.i.QueryMatches:var a=t,c=new RegExp(a.value).test(e.parsedUri.query[a.name]);return{type:t.type,result:c};default:throw new Error("Unknown condition")}},t})();m=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[h.a,l.a,p.a,f.a])],m)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(29)),a=n(103),c=n(22),u=n(64),d=n(674),l=n(28),p=n(350),f=n(142),h=n(11),b=n(349),m=function(t){return{validationId:t.id,identification:t.element,element:null,storedElement:null,checkState:s.a.NotChecked,position:null,valueState:a.c.Pristine,fieldState:a.a.Untouched,value:void 0,events:null,highlighted:!1}},g=(function(){function t(t,e,n,i,r){var s=this;this.domTracking=t,this.messages=e,this.observer=n,this.elementTracking=i,this.elementStorage=r,this.highlightedSpotlight=null,this.messages.ofType(l.a.SetValidationData).subscribe(this.onSetData.bind(this)),this.messages.ofType(l.a.ClearValidationData).subscribe(this.clearState.bind(this)),this.messages.ofType(l.a.UpdateValidationData).subscribe(this.onUpdateValidationData.bind(this)),this.messages.ofType(l.a.DeleteValidationData).subscribe(this.onDeleteValidationData.bind(this)),this.messages.ofType(l.a.ShowSpotlight).subscribe(this.onShowSpotlight.bind(this)),this.messages.ofType(l.a.HideSpotlight).subscribe(this.onHideSpotlight.bind(this)),this.messages.ofType(l.a.RecheckValidations).subscribe(this.onCheckValidation.bind(this)),this.observer.domChanged.merge(o.Observable.fromEvent(window,"resize"),o.Observable.fromEvent(window,"scroll",!0)).debounceTime(50).subscribe((function(){s.checkState()})),this.messages.sendMessage({type:l.a.RequestValidationData}),this.elementStorage&&this.elementStorage.beforeDisposing.subscribe(this.checkStoredElement.bind(this))}return t.prototype.checkStoredElement=function(){this.validations&&this.validations.forEach((function(t){t.storedElement&&t.storedElement.refresh()}))},t.prototype.checkState=function(t){if(this.validations){var e=this.checkValidations(),n=this.domTracking.getCurrentMaxZIndex();(e||t)&&this.messages.sendMessage({type:l.a.UpdateValidationState,validationsState:(this.validations||[]).map((function(t){return{id:t.validationId,checkState:t.checkState,value:t.value,elementRect:t.position,elementId:t.storedElement&&t.storedElement.id,zIndex:n}}))})}},t.prototype.checkValidation=function(t){var e=this;if(!t.identification||!this.elementTracking.checkFramePath(t.identification))return!1;var n=t.element,i=t.events,r=this.elementTracking.checkElementState(t);return t.storedElement=t.element&&this.elementStorage&&this.elementStorage.storeElement(t.element),n!==t.element&&(i&&i.unsubscribe(),t.highlighted&&this.highlightedSpotlight&&(this.highlightedSpotlight.classList.remove(p.b),this.highlightedSpotlight=null),t.element&&(t.value=t.element.value,t.valueState=a.c.Pristine,t.fieldState=a.a.Untouched,t.events=Object(d.b)(t.element).subscribe((function(n){e.onElementEvent(t,n)})),t.highlighted&&(this.highlightedSpotlight=t.element,this.highlightedSpotlight.classList.add(p.b)))),r},t.prototype.checkValidations=function(){if(!this.validations)return!1;for(var t=!1,e=0,n=this.validations;e<n.length;e++){var i=n[e];t=this.checkValidation(i)||t}return t},t.prototype.clearState=function(){this.validations&&(this.validations.forEach((function(t){t.events&&t.events.unsubscribe()})),this.validations=null)},t.prototype.getFieldValue=function(t){if("iframe"===t.tagName.toLowerCase()){return t.contentWindow.document.body.innerText}return t.value},t.prototype.onElementEvent=function(t,e){var n=!1,i=!1;switch(e){case d.a.click:case d.a.focus:t.fieldState=a.a.Touched,n=!0;break;case d.a.blur:var r=t.value;t.value=this.getFieldValue(t.element),t.value!==r&&(t.valueState=a.c.Dirty),n=!0,i=!0}n&&this.messages.sendMessage({type:l.a.ValidationEvent,validationState:{id:t.validationId,state:t.checkState,fieldState:t.fieldState,valueState:t.valueState,value:t.value},runValidators:i})},t.prototype.onUpdateValidationData=function(t){var e=this.validations.findIndex((function(e){return e.validationId===t.validation.id})),n=m(t.validation);if(e<0)e=this.validations.length;else{var i=this.validations[e].events;i&&i.unsubscribe(),this.validations[e].highlighted&&(this.onHideSpotlight(),n.highlighted=!0)}this.validations[e]=n,this.checkState(!0)},t.prototype.onDeleteValidationData=function(t){var e=this.validations.findIndex((function(e){return e.validationId===t.validationId}));if(e>=0){var n=this.validations[e].events;n&&n.unsubscribe(),this.validations[e].highlighted&&this.onHideSpotlight(),this.validations.splice(e,1)}},t.prototype.onSetData=function(t){this.clearState(),this.validations=(t.validations||[]).map(m),this.checkState(!0)},t.prototype.onCheckValidation=function(){this.checkState(!0)},t.prototype.onHideSpotlight=function(){this.highlightedSpotlight&&(this.highlightedSpotlight.classList.remove(p.b),this.highlightedSpotlight=null),this.validations&&this.validations.forEach((function(t){return t.highlighted=!1}))},t.prototype.onShowSpotlight=function(t){if(this.onHideSpotlight(),this.validations){var e=this.validations.find((function(e){return e.validationId===t.validationId}));e&&(e.highlighted=!0,e.element&&(this.highlightedSpotlight=e.element,this.highlightedSpotlight.classList.add(p.b)))}},t})();g=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[b.a,c.a,u.a,f.a,h.a])],g)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(0),r=n(1),o=n(29),s=n(88),a=n(142),c=n(22),u=n(64),d=n(28),l=(function(){function t(t,e,n,i){var r=this;this.document=t,this.elementTracking=e,this.messages=n,this.observer=i,this.messages.ofType(d.a.SetForms).subscribe(this.onSetForms.bind(this)),this.messages.ofType(d.a.ClearForms).subscribe(this.onClearForms.bind(this)),this.messages.ofType(d.a.RecheckForms).subscribe((function(){return r.onCheckForms(!0)})),this.observer.domChanged.debounceTime(50).subscribe((function(){r.onCheckForms(!1)})),this.messages.sendMessage({type:d.a.RequestForms})}return t.prototype.checkAnchorState=function(t,e){if(!this.document.checkContainersScore(t))return o.a.NotPresent;try{return document.querySelector(e)?o.a.Present:o.a.NotPresent}catch(t){return o.a.NotPresent}},t.prototype.onSetForms=function(t){var e=this;this.forms=t.forms.filter((function(t){return t.anchors.some((function(t){return e.elementTracking.checkFramePath(t)}))})).map((function(t){return{id:t.id,anchors:t.anchors.map((function(t){return{selector:t.selector,state:o.a.NotChecked,containers:t.containers,myFrame:e.elementTracking.checkFramePath(t)}}))}}))},t.prototype.onClearForms=function(){this.forms=null},t.prototype.onCheckForms=function(t){var e=this;if(this.forms&&this.forms.length){var n=!1;if(this.forms.forEach((function(t){t.anchors.forEach((function(t){if(t.myFrame){var i=t.state;t.state=e.checkAnchorState(t.containers,t.selector),n=n||t.state!==i}}))})),n||t){var i=this.forms.map((function(t){return{id:t.id,anchorsState:t.anchors.map((function(t){return t.state}))}}));this.messages.sendMessage({type:d.a.ActivateForms,forms:i})}}},t})();l=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[s.a,a.a,c.a,u.a])],l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n(0),r=n(1),o=n(350),s=n(88),a=n(28),c=n(22),u=n(351),d=n(1488),l=n(127),p=(function(){function t(t,e,n){var i=this;this.frames=t,this.messages=e,this.documentService=n,this.messages.ofType(a.a.ExecuteDecisionConditions).subscribe((function(t){i.executeDecisionConditions(t)})),this.messages.ofType(a.a.ExecuteDecisionActions).subscribe((function(t){i.executeDecisionActions(t)})),this.messages.ofType(a.a.DecisionEditorAddClass).subscribe((function(t){i.executeDecisionEditorAddClass(t.condition)})),this.messages.ofType(a.a.DecisionEditorRemoveClass).subscribe((function(t){i.executeDecisionEditorRemoveClass(t.condition)}))}return t.prototype.executeDecisionConditions=function(t){var e=this,n=this.frames.path.join(),r=t.decisionEvaluation.conditions&&t.decisionEvaluation.conditions.filter((function(t){return t.element&&e.checkFramePath(t.element.frames,n)})).map((function(t){return Object(u.b)(t,e.documentService)})).reduce((function(t,e){return{count:++t.count,isSucceed:t.isSucceed&&e}}),{count:0,isSucceed:!0});r.count>0&&this.messages.sendMessage({type:a.a.UpdateDecisionEvaluation,decisionEvaluation:i.a({},t.decisionEvaluation,{noOfConditions:r.count,isSucceed:r.isSucceed})})},t.prototype.executeDecisionActions=function(t){var e=this;t.decisionActions&&t.decisionActions.length>0&&t.decisionActions.forEach((function(t){Object(d.a)(t,e.messages)}))},t.prototype.executeDecisionEditorAddClass=function(t){if(this.documentService.checkContainersScore(t.element.containers))try{var e=document.querySelector(t.element.selector);e&&e.classList.add(o.b)}catch(t){console.info("element not found")}},t.prototype.executeDecisionEditorRemoveClass=function(t){if(this.documentService.checkContainersScore(t.element.containers))try{var e=document.querySelector(t.element.selector);e&&e.classList.remove(o.b)}catch(t){console.info("element not found")}},t.prototype.checkFramePath=function(t,e){return(t||[]).map((function(t){return t.attachIn})).join()===e},t})();p=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[l.a,c.a,s.a])],p)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(351),r=function(t,e){return!!Object(i.c)(t.element,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(351),r=function(t,e){var n=!1,r=Object(i.c)(t.element,e);return r&&(n=Object(i.a)(t.comparisonValue,t.comparisonOperator,r.innerText.trim())),n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(351),r=function(t,e){var n=!1,r=Object(i.c)(t.element,e),o="";if(r){try{switch(r.tagName.toLowerCase()){case"select":o=r.selectedIndex>0?r[r.selectedIndex].innerText.trim():"";break;case"input":case"textarea":o=r.value.trim();break;default:o=r.innerText.trim()}}catch(t){console.error("Element Found Error:",t)}n=Object(i.a)(t.comparisonValue,t.comparisonOperator,o)}return n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){var n=!1;try{n=!!new Function(t.script)()}catch(t){console.error("Custom script is not valid: "+t.message)}return n}},function(t,e,n){"use strict";function i(t,e){c[+t.type](t,e)}e.a=i;var r=n(1489),o=n(1490),s=n(3),a=n(1491),c={};c[+s.n.BounceToStep]=a.a,c[+s.n.CustomScript]=o.a,c[+s.n.EndFlow]=r.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(11),r=function(t,e){e.sendMessage({type:i.b.DecisionPointEndFlowAction})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){r(t.script)},r=function(t){try{return new Function("with(this) { return (function () {'use strict'; "+t+"}).call(this) }").call({$:$})}catch(t){console.error("Jump Step Script execution error",t)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(11),r=function(t,e){e.sendMessage({type:i.b.DecisionPointGoToAction,flowId:t.bounceToStep.flowId,stepId:t.bounceToStep.stepId})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(0),r=n(1),o=n(6),s=(n.n(o),n(29)),a=n(22),c=n(64),u=n(28),d=n(11),l=n(142),p=n(350),f=n(349),h=function(t){return{badgeId:t.id,identification:t.element,element:null,checkState:s.a.NotChecked,position:null,storedElement:null}},b=(function(){function t(t,e,n,i,r){var s=this;this.domTracking=t,this.messages=e,this.elementTracking=n,this.observer=i,this.elementStorage=r,this.highlightedBadge=null,this.messages.ofType(u.a.SetBadgeData).subscribe(this.onSetBadgeData.bind(this)),this.messages.ofType(u.a.ClearBadgeData).subscribe(this.clearState.bind(this)),this.messages.ofType(u.a.UpdateBadgeData).subscribe(this.onUpdateBadgeData.bind(this)),this.messages.ofType(u.a.DeleteBadgeData).subscribe(this.onDeleteBadgeData.bind(this)),this.messages.ofType(u.a.RecheckBadges).subscribe(this.onCheckBadges.bind(this)),this.messages.ofType(u.a.ShowBadge).subscribe(this.onShowBadge.bind(this)),this.messages.ofType(u.a.HideBadge).subscribe(this.onHideBadge.bind(this)),this.observer.domChanged.merge(o.Observable.fromEvent(window,"resize"),o.Observable.fromEvent(window,"scroll",!0)).debounceTime(50).subscribe((function(){s.checkState()})),this.messages.sendMessage({type:u.a.RequestBadgeData}),this.elementStorage&&this.elementStorage.beforeDisposing.subscribe(this.checkStoredElement.bind(this))}return t.prototype.checkStoredElement=function(){this.badges&&this.badges.forEach((function(t){t.storedElement&&t.storedElement.refresh()}))},t.prototype.checkState=function(t){if(this.badges){var e=this.checkBadges(),n=this.domTracking.getCurrentMaxZIndex();(e||t)&&this.messages.sendMessage({type:u.a.UpdateBadgeState,badgesState:(this.badges||[]).map((function(t){return{id:t.badgeId,checkState:t.checkState,elementRect:t.position,elementId:t.storedElement&&t.storedElement.id,zIndex:n}}))})}},t.prototype.checkBadge=function(t){if(!t.identification||!this.elementTracking.checkFramePath(t.identification))return!1;var e=this.elementTracking.checkElementState(t);return t.storedElement=t.element&&this.elementStorage&&this.elementStorage.storeElement(t.element),e},t.prototype.checkBadges=function(){var t=this;if(!this.badges)return!1;var e=!1;return this.badges.forEach((function(n){e=t.checkBadge(n)||e})),e},t.prototype.clearState=function(){this.badges&&(this.badges=null)},t.prototype.onUpdateBadgeData=function(t){var e=this.badges.findIndex((function(e){return e.badgeId===t.badge.id})),n=h(t.badge);e<0&&(e=this.badges.length),this.badges[e]=n,this.checkState(!0)},t.prototype.onDeleteBadgeData=function(t){var e=this.badges.findIndex((function(e){return e.badgeId===t.badgeId}));e>=0&&this.badges.splice(e,1),this.checkState(!0)},t.prototype.onSetBadgeData=function(t){this.clearState(),this.badges=(t.badges||[]).map(h),this.checkState(!0)},t.prototype.onCheckBadges=function(){this.checkState(!0)},t.prototype.onHideBadge=function(){this.highlightedBadge&&(this.highlightedBadge.classList.remove(p.b),this.highlightedBadge=null)},t.prototype.onShowBadge=function(t){if(this.onHideBadge(),this.badges){var e=this.badges.find((function(e){return e.badgeId===t.badgeId}));e&&e.element&&(this.highlightedBadge=e.element,this.highlightedBadge.classList.add(p.b))}},t})();b=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[f.a,a.a,l.a,c.a,d.a])],b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(0),r=n(1),o=n(22),s=n(28),a=n(142),c=(function(){function t(t,e){this.messages=t,this.elementTracking=e,this.messages.ofType(s.a.FilterFlows).subscribe(this.onFilterFlows.bind(this))}return t.prototype.onFilterFlows=function(t){var e=this,n=t.milestones.map((function(t){return{id:t.id,steps:t.steps.map((function(t){return{id:t.id,pivots:t.pivotElements.map((function(t){return e.elementTracking.checkElementPresence(t)}))}}))}})),i={type:s.a.FilterFlowsResult,checkId:t.checkId,result:n};this.messages.sendMessage(i)},t})();c=i.c([Object(r.Injectable)(),i.f("design:paramtypes",[o.a,a.a])],c)}],[849]);